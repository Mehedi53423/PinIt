"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.toPortableTextRange = toPortableTextRange;
exports.toSlateRange = toSlateRange;

var _paths = require("./paths");

function toPortableTextRange(editor) {
  if (!editor.selection) {
    return editor.selection;
  }

  var anchor = null;
  var focus = null;
  var anchorPath = (0, _paths.createKeyedPath)(editor.selection.anchor, editor);

  if (anchorPath) {
    anchor = {
      path: anchorPath,
      offset: editor.selection.anchor.offset
    };
  }

  var focusPath = (0, _paths.createKeyedPath)(editor.selection.focus, editor);

  if (focusPath) {
    focus = {
      path: focusPath,
      offset: editor.selection.focus.offset
    };
  }

  var range = anchor && focus ? {
    anchor,
    focus
  } : null;
  return range;
}

function toSlateRange(selection, editor) {
  if (!selection || !editor) {
    return null;
  }

  var anchor = {
    path: (0, _paths.createArrayedPath)(selection.anchor, editor),
    offset: selection.anchor.offset
  };
  var focus = {
    path: (0, _paths.createArrayedPath)(selection.focus, editor),
    offset: selection.focus.offset
  };
  var range = anchor && focus ? {
    anchor,
    focus
  } : null;
  return range;
}