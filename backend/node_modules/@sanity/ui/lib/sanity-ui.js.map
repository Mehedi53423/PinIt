{"version":3,"file":"sanity-ui.js","sources":["../src/constants.ts","../src/hooks/useClickOutside.ts","../src/hooks/useElementRect/useElementRect.ts","../src/hooks/useGlobalKeyDown.ts","../src/theme/lib/color-fns/blend/multiply.ts","../src/theme/lib/color-fns/blend/screen.ts","../src/theme/lib/color-fns/convert.ts","../src/theme/lib/color-fns/parse.ts","../src/theme/lib/color-fns/helpers/rgba.ts","../src/theme/lib/theme/color/button/createButtonTones.ts","../src/theme/lib/theme/color/button/createButtonModes.ts","../src/theme/lib/theme/color/card/createCardStates.ts","../src/theme/lib/theme/color/defaults.ts","../src/theme/lib/theme/color/input/createInputModes.ts","../src/theme/lib/theme/color/muted/createMuted.ts","../src/theme/lib/theme/color/selectable/createSelectableTones.ts","../src/theme/lib/theme/color/solid/createSolidTones.ts","../src/theme/lib/theme/color/spot/createSpot.ts","../src/theme/lib/theme/color/factory.ts","../src/theme/studioTheme/helpers.ts","../src/theme/studioTheme/color.ts","../src/theme/studioTheme/fonts.ts","../src/theme/studioTheme/theme.ts","../src/theme/defaults.ts","../src/lib/globalScope.ts","../src/theme/themeContext.ts","../src/theme/themeProvider.tsx","../src/lib/isRecord.ts","../src/theme/useRootTheme.ts","../src/theme/themeColorProvider.tsx","../src/theme/useTheme.ts","../src/hooks/useMediaIndex/lib/media.ts","../src/hooks/useMediaIndex/useMediaIndex.ts","../src/hooks/usePrefersDark.ts","../src/hooks/useIsomorphicEffect.ts","../src/hooks/useForwardedRef.ts","../src/hooks/useCustomValidity.ts","../src/styles/helpers.ts","../src/styles/font/responsiveFont.ts","../src/styles/font/codeFontStyle.ts","../src/styles/font/headingFontStyle.ts","../src/styles/font/labelFontStyle.ts","../src/styles/font/textAlignStyle.ts","../src/styles/font/textFontStyle.ts","../src/hooks/useResponsiveProp.ts","../src/styles/border/borderStyle.ts","../src/styles/box/boxStyle.ts","../src/styles/flex/flexStyle.ts","../src/styles/flex/flexItemStyle.ts","../src/styles/focusRing/index.ts","../src/styles/grid/gridStyle.ts","../src/styles/grid/gridItemStyle.ts","../src/styles/input/responsiveInputPaddingStyle.ts","../src/styles/input/textInputStyle.ts","../src/styles/margin/marginStyle.ts","../src/styles/padding/paddingStyle.ts","../src/styles/radius/radiusStyle.ts","../src/styles/shadow/shadowStyle.ts","../src/primitives/text/styles.ts","../src/primitives/text/text.tsx","../src/primitives/avatar/styles.ts","../src/primitives/avatar/avatar.tsx","../src/primitives/avatar/avatarCounter.tsx","../src/primitives/helpers.ts","../src/primitives/avatar/avatarStack.tsx","../src/primitives/box/box.tsx","../src/primitives/label/styles.ts","../src/primitives/label/label.tsx","../src/primitives/badge/styles.ts","../src/primitives/badge/badge.tsx","../src/primitives/flex/flex.tsx","../src/primitives/spinner/spinner.tsx","../src/styles/colorVars/colorVarsStyle.ts","../src/primitives/button/styles.ts","../src/primitives/button/button.tsx","../src/primitives/card/styles.ts","../src/primitives/card/card.tsx","../src/primitives/checkbox/styles.ts","../src/primitives/checkbox/checkbox.tsx","../src/primitives/code/styles.ts","../src/primitives/code/code.tsx","../src/primitives/container/styles.ts","../src/primitives/container/container.tsx","../src/primitives/grid/grid.tsx","../src/primitives/heading/styles.ts","../src/primitives/heading/heading.tsx","../src/primitives/inline/styles.ts","../src/primitives/inline/inline.tsx","../src/primitives/kbd/kbd.tsx","../src/utils/boundaryElement/boundaryElementContext.ts","../src/utils/boundaryElement/boundaryElementProvider.tsx","../src/utils/boundaryElement/useBoundaryElement.ts","../src/utils/resizeObserver.ts","../src/utils/elementQuery/helpers.ts","../src/utils/elementQuery/elementQuery.tsx","../src/utils/errorBoundary.tsx","../src/utils/layer/layerContext.ts","../src/utils/layer/useLayer.ts","../src/utils/layer/layerProvider.tsx","../src/utils/layer/layer.tsx","../src/utils/portal/portalContext.ts","../src/utils/portal/usePortal.ts","../src/utils/portal/portal.ts","../src/hooks/_internal/useUnique.ts","../src/utils/portal/portalProvider.tsx","../src/utils/srOnly/srOnly.tsx","../src/helpers/animation.ts","../src/helpers/element.ts","../src/helpers/focus.ts","../src/helpers/scroll.ts","../src/utils/virtualList/virtualList.tsx","../src/primitives/popover/arrow.tsx","../src/primitives/popover/modifiers/getPopoverModifiers.ts","../src/primitives/popover/modifiers/usePopoverModifiers.ts","../src/primitives/popover/popover.tsx","../src/primitives/radio/styles.ts","../src/primitives/radio/radio.tsx","../src/primitives/select/styles.ts","../src/primitives/select/select.tsx","../src/primitives/stack/styles.ts","../src/primitives/stack/stack.tsx","../src/primitives/switch/styles.ts","../src/primitives/switch/switch.tsx","../src/primitives/textArea/textArea.tsx","../src/primitives/textInput/textInput.tsx","../src/primitives/tooltip/tooltipArrow.tsx","../src/primitives/tooltip/tooltip.tsx","../src/components/autocomplete/autocomplete.styles.tsx","../src/components/autocomplete/autocompleteOption.tsx","../src/components/autocomplete/autocompleteReducer.ts","../src/components/autocomplete/constants.ts","../src/components/autocomplete/autocomplete.tsx","../src/components/breadcrumbs/breadcrumbs.styles.ts","../src/components/breadcrumbs/breadcrumbs.tsx","../src/components/dialog/styles.ts","../src/components/dialog/dialogContext.ts","../src/components/dialog/useDialog.ts","../src/components/dialog/dialog.tsx","../src/components/dialog/dialogProvider.tsx","../src/components/hotkeys/hotkeys.tsx","../src/components/menu/helpers.ts","../src/components/menu/menuContext.ts","../src/components/menu/menu.tsx","../src/components/menu/menuButton.tsx","../src/components/menu/menuDivider.ts","../src/primitives/_selectable/style.ts","../src/primitives/_selectable/selectable.tsx","../src/components/menu/useMenu.ts","../src/components/menu/menuGroup.tsx","../src/components/menu/menuItem.tsx","../src/components/skeleton/styles.ts","../src/components/skeleton/skeleton.tsx","../src/components/skeleton/textSkeleton.tsx","../src/components/tab/tab.tsx","../src/components/tab/tabList.tsx","../src/components/tab/tabPanel.tsx","../src/components/toast/toast.tsx","../src/components/toast/toastContext.ts","../src/components/toast/toastProvider.tsx","../src/components/toast/useToast.ts","../src/components/tree/helpers.ts","../src/components/tree/treeContext.ts","../src/components/tree/tree.tsx","../src/components/tree/style.ts","../src/components/tree/useTree.ts","../src/components/tree/treeGroup.tsx","../src/components/tree/treeItem.tsx"],"sourcesContent":["export const EMPTY_ARRAY: any[] = []\nexport const EMPTY_RECORD: Record<string, any> = {}\n","import {useEffect, useRef, useState} from 'react'\nimport {EMPTY_ARRAY} from '../constants'\n\n/**\n * @public\n */\nexport type ClickOutsideListener = (event: MouseEvent) => void\n\nfunction _getElements(\n  element: HTMLElement | null,\n  elementsArg: Array<HTMLElement | HTMLElement[] | null>\n): HTMLElement[] {\n  const ret = [element]\n\n  for (const el of elementsArg) {\n    if (Array.isArray(el)) {\n      ret.push(...el)\n    } else {\n      ret.push(el)\n    }\n  }\n\n  return ret.filter(Boolean) as HTMLElement[]\n}\n\n/**\n * @public\n */\nexport function useClickOutside(\n  listener: ClickOutsideListener,\n  elementsArg: Array<HTMLElement | HTMLElement[] | null> = EMPTY_ARRAY,\n  boundaryElement?: HTMLElement | null\n): (el: HTMLElement | null) => void {\n  const [element, setElement] = useState<HTMLElement | null>(null)\n  const [elements, setElements] = useState(() => _getElements(element, elementsArg))\n  const elementsRef = useRef(elements)\n\n  useEffect(() => {\n    const prevElements = elementsRef.current\n    const nextElements = _getElements(element, elementsArg)\n\n    if (prevElements.length !== nextElements.length) {\n      setElements(nextElements)\n      elementsRef.current = nextElements\n\n      return\n    }\n\n    for (const el of prevElements) {\n      if (!nextElements.includes(el)) {\n        setElements(nextElements)\n        elementsRef.current = nextElements\n\n        return\n      }\n    }\n\n    for (const el of nextElements) {\n      if (!prevElements.includes(el)) {\n        setElements(nextElements)\n        elementsRef.current = nextElements\n\n        return\n      }\n    }\n  }, [element, elementsArg])\n\n  useEffect(() => {\n    if (!listener) return undefined\n\n    const handleWindowMouseDown = (evt: MouseEvent) => {\n      const target = evt.target\n\n      if (!(target instanceof Node)) {\n        return\n      }\n\n      if (boundaryElement && !boundaryElement.contains(target)) {\n        return\n      }\n\n      for (const el of elements) {\n        if (target === el || el.contains(target)) {\n          return\n        }\n      }\n\n      listener(evt)\n    }\n\n    window.addEventListener('mousedown', handleWindowMouseDown)\n\n    return () => {\n      window.removeEventListener('mousedown', handleWindowMouseDown)\n    }\n  }, [boundaryElement, listener, elements])\n\n  return setElement\n}\n","import {useEffect, useState} from 'react'\n\n/**\n * Subscribe to the rect of a DOM element.\n * @beta\n */\nexport function useElementRect(element: HTMLElement | null): DOMRectReadOnly | null {\n  const [rect, setRect] = useState<DOMRectReadOnly | null>(null)\n\n  useEffect(() => {\n    if (!element) return undefined\n\n    const ro = new ResizeObserver((entries) => {\n      setRect(entries[0].contentRect)\n    })\n\n    ro.observe(element)\n\n    return () => ro.disconnect()\n  }, [element])\n\n  return rect\n}\n","import {useEffect} from 'react'\n\n/**\n * @beta\n */\nexport function useGlobalKeyDown(onKeyDown: (event: KeyboardEvent) => void): void {\n  return useEffect(() => {\n    addEventListener('keydown', onKeyDown)\n\n    return () => removeEventListener('keydown', onKeyDown)\n  }, [onKeyDown])\n}\n","import {RGB} from '../types'\n\nfunction multiplyChannel(b: number, s: number) {\n  return b * s\n}\n\n/**\n * Apply the \\`multiply\\` blend mode\n * Source: https://www.w3.org/TR/compositing-1/#blendingmultiply\n * @internal\n */\nexport function multiply(b: RGB, s: RGB): RGB {\n  return {\n    r: Math.round(clamp(multiplyChannel(b.r / 255, s.r / 255) * 255)),\n    g: Math.round(clamp(multiplyChannel(b.g / 255, s.g / 255) * 255)),\n    b: Math.round(clamp(multiplyChannel(b.b / 255, s.b / 255) * 255)),\n  }\n}\n\nfunction clamp(num: number) {\n  return Math.max(Math.min(num, 255), 0)\n}\n","import {RGB} from '../types'\n\nfunction screenChannel(b: number, s: number) {\n  return b + s - b * s\n}\n\n/**\n * Apply the \\`screen\\` blend mode\n * Source: https://www.w3.org/TR/compositing-1/#blendingscreen\n * @internal\n */\nexport function screen(b: RGB, s: RGB): RGB {\n  return {\n    r: Math.round(clamp(screenChannel(b.r / 255, s.r / 255) * 255)),\n    g: Math.round(clamp(screenChannel(b.g / 255, s.g / 255) * 255)),\n    b: Math.round(clamp(screenChannel(b.b / 255, s.b / 255) * 255)),\n  }\n}\n\nfunction clamp(num: number) {\n  return Math.max(Math.min(num, 255), 0)\n}\n","import {HSL, RGB} from './types'\n\n/**\n * @internal\n */\nexport function hexToRgb(hex: string): RGB {\n  if (hex.length === 4) {\n    const hexR = hex.slice(1, 2)\n    const hexG = hex.slice(2, 3)\n    const hexB = hex.slice(3, 4)\n\n    return {\n      r: parseInt(hexR + hexR, 16),\n      g: parseInt(hexG + hexG, 16),\n      b: parseInt(hexB + hexB, 16),\n    }\n  }\n\n  return {\n    r: parseInt(hex.slice(1, 3), 16),\n    g: parseInt(hex.slice(3, 5), 16),\n    b: parseInt(hex.slice(5, 7), 16),\n  }\n}\n\n/**\n * @internal\n */\nexport function rgbToHex({r, g, b}: RGB): string {\n  return '#' + ((1 << 24) + (r << 16) + (g << 8) + b).toString(16).slice(1)\n}\n\n/**\n * @internal\n * @see https://css-tricks.com/converting-color-spaces-in-javascript/\n */\nexport function rgbToHsl({r, g, b}: RGB): HSL {\n  // Make r, g, and b fractions of 1\n  r /= 255\n  g /= 255\n  b /= 255\n\n  // Find greatest and smallest channel values\n  const cmin = Math.min(r, g, b)\n  const cmax = Math.max(r, g, b)\n  const delta = cmax - cmin\n\n  let h = 0\n  let s = 0\n  let l = 0\n\n  // Calculate hue\n  // No difference\n  if (delta == 0) h = 0\n  // Red is max\n  else if (cmax == r) h = ((g - b) / delta) % 6\n  // Green is max\n  else if (cmax == g) h = (b - r) / delta + 2\n  // Blue is max\n  else h = (r - g) / delta + 4\n\n  h = Math.round(h * 60)\n\n  // Make negative hues positive behind 360°\n  if (h < 0) h += 360\n\n  // Calculate lightness\n  l = (cmax + cmin) / 2\n\n  // Calculate saturation\n  s = delta == 0 ? 0 : delta / (1 - Math.abs(2 * l - 1))\n\n  // Multiply l and s by 100\n  s = +(s * 100).toFixed(1)\n  l = +(l * 100).toFixed(1)\n\n  return {h, s, l}\n}\n\n/**\n * @internal\n */\nexport function hslToRgb(hsl: HSL): RGB {\n  // Must be fractions of 1\n  const s = hsl.s / 100\n  const l = hsl.l / 100\n\n  const c = (1 - Math.abs(2 * l - 1)) * s\n  const x = c * (1 - Math.abs(((hsl.h / 60) % 2) - 1))\n  const m = l - c / 2\n\n  let r = 0\n  let g = 0\n  let b = 0\n\n  if (0 <= hsl.h && hsl.h < 60) {\n    r = c\n    g = x\n    b = 0\n  } else if (60 <= hsl.h && hsl.h < 120) {\n    r = x\n    g = c\n    b = 0\n  } else if (120 <= hsl.h && hsl.h < 180) {\n    r = 0\n    g = c\n    b = x\n  } else if (180 <= hsl.h && hsl.h < 240) {\n    r = 0\n    g = x\n    b = c\n  } else if (240 <= hsl.h && hsl.h < 300) {\n    r = x\n    g = 0\n    b = c\n  } else if (300 <= hsl.h && hsl.h < 360) {\n    r = c\n    g = 0\n    b = x\n  }\n\n  return {\n    r: Math.round((r + m) * 255),\n    g: Math.round((g + m) * 255),\n    b: Math.round((b + m) * 255),\n  }\n}\n","import {hexToRgb, hslToRgb} from './convert'\nimport {HSL, RGB} from './types'\n\nconst HEX_CHARS = '0123456789ABCDEFabcdef'\n\nconst HSL_RE = /hsl\\(\\s*(\\d+)\\s*,\\s*((\\d+(?:\\.\\d+)?)%)\\s*,\\s*((\\d+(?:\\.\\d+)?)%)\\s*\\)/i\n\nfunction isHexChars(str: string) {\n  for (const c of str) {\n    if (HEX_CHARS.indexOf(c) === -1) {\n      return false\n    }\n  }\n\n  return true\n}\n\nfunction isHex(str: string) {\n  if (str[0] !== '#') return false\n\n  // Accept both #000 and #000000\n  if (!(str.length === 4 || str.length === 7)) return false\n\n  return isHexChars(str.slice(1))\n}\n\nfunction parseHsl(str: string): HSL {\n  const res = HSL_RE.exec(str)\n\n  if (!res) {\n    throw new Error(`parseHsl: string is not a HSL color: \"${str}\"`)\n  }\n\n  return {h: parseInt(res[1]), s: parseFloat(res[3]), l: parseFloat(res[5])}\n}\n\n/**\n * @internal\n */\nexport function parseColor(color: unknown): RGB {\n  if (!color) return {r: 0, g: 0, b: 0}\n\n  if (typeof color !== 'string') {\n    throw new Error('parseColor: expected a string')\n  }\n\n  if (isHex(color)) {\n    return hexToRgb(color)\n  }\n\n  if (color.startsWith('hsl(')) {\n    return hslToRgb(parseHsl(color))\n  }\n\n  throw new Error(`parseColor: unexpected color format: \"${color}\"`)\n}\n","import {parseColor} from '../parse'\n\n/**\n * @internal\n */\nexport function rgba(color: unknown, a: number): string {\n  const rgb = parseColor(color)\n\n  return `rgba(${rgb.r},${rgb.g},${rgb.b},${a})`\n}\n","import {ThemeColorBase} from '../base'\nimport {ThemeColorBuilderOpts} from '../factory'\nimport {ThemeColorMuted} from '../muted'\nimport {ThemeColorSolid} from '../solid'\nimport {ThemeColorButtonModeKey, ThemeColorButtonTones} from './types'\n\nexport function createButtonTones(\n  opts: ThemeColorBuilderOpts,\n  base: ThemeColorBase,\n  dark: boolean,\n  solid: ThemeColorSolid,\n  muted: ThemeColorMuted,\n  mode: ThemeColorButtonModeKey\n): ThemeColorButtonTones {\n  return {\n    default: opts.button({\n      base,\n      dark,\n      solid: solid.default,\n      muted: muted.default,\n      mode,\n    }),\n    primary: opts.button({\n      base,\n      dark,\n      solid: solid.primary,\n      muted: muted.primary,\n      mode,\n    }),\n    positive: opts.button({\n      base,\n      dark,\n      solid: solid.positive,\n      muted: muted.positive,\n      mode,\n    }),\n    caution: opts.button({\n      base,\n      dark,\n      solid: solid.caution,\n      muted: muted.caution,\n      mode,\n    }),\n    critical: opts.button({\n      base,\n      dark,\n      solid: solid.critical,\n      muted: muted.critical,\n      mode,\n    }),\n  }\n}\n","import {ThemeColorBase} from '../base'\nimport {ThemeColorBuilderOpts} from '../factory'\nimport {ThemeColorMuted} from '../muted'\nimport {ThemeColorSolid} from '../solid'\nimport {createButtonTones} from './createButtonTones'\nimport {ThemeColorButton} from './types'\n\nexport function createButtonModes(\n  opts: ThemeColorBuilderOpts,\n  base: ThemeColorBase,\n  dark: boolean,\n  solid: ThemeColorSolid,\n  muted: ThemeColorMuted\n): ThemeColorButton {\n  return {\n    default: createButtonTones(opts, base, dark, solid, muted, 'default'),\n    ghost: createButtonTones(opts, base, dark, solid, muted, 'ghost'),\n    bleed: createButtonTones(opts, base, dark, solid, muted, 'bleed'),\n  }\n}\n","import {ThemeColorBase} from '../base'\nimport {ThemeColorBuilderOpts} from '../factory'\nimport {ThemeColorMuted} from '../muted'\nimport {ThemeColorSolid} from '../solid'\nimport {ThemeColorName} from '../types'\nimport {ThemeColorCard} from './types'\n\nexport function createCardStates(\n  opts: ThemeColorBuilderOpts,\n  base: ThemeColorBase,\n  dark: boolean,\n  name: ThemeColorName,\n  solid: ThemeColorSolid,\n  muted: ThemeColorMuted\n): ThemeColorCard {\n  return {\n    enabled: opts.card({\n      base,\n      dark,\n      name,\n      state: 'enabled',\n      solid,\n      muted,\n    }),\n    disabled: opts.card({\n      base,\n      dark,\n      name,\n      state: 'disabled',\n      solid,\n      muted,\n    }),\n    hovered: opts.card({\n      base,\n      dark,\n      name,\n      state: 'hovered',\n      solid,\n      muted,\n    }),\n    pressed: opts.card({\n      base,\n      dark,\n      name,\n      state: 'pressed',\n      solid,\n      muted,\n    }),\n    selected: opts.card({\n      base,\n      dark,\n      name,\n      state: 'selected',\n      solid,\n      muted,\n    }),\n  }\n}\n","import {ThemeColorBuilderOpts} from './factory'\n\nconst black = 'hsl(0, 0%, 0%)'\nconst white = 'hsl(0, 0%, 100%)'\n\nconst colors = {\n  default: {\n    lightest: 'hsl(0, 0%, 95%)',\n    lighter: 'hsl(0, 0%, 70%)',\n    light: 'hsl(0, 0%, 65%)',\n    base: 'hsl(0, 0%, 50%)',\n    dark: 'hsl(0, 0%, 35%)',\n    darker: 'hsl(0, 0%, 20%)',\n    darkest: 'hsl(0, 0%, 5%)',\n  },\n  transparent: {\n    lightest: 'hsl(240, 100%, 95%)',\n    lighter: 'hsl(240, 100%, 70%)',\n    light: 'hsl(240, 100%, 65%)',\n    base: 'hsl(240, 100%, 50%)',\n    dark: 'hsl(240, 100%, 35%)',\n    darker: 'hsl(240, 100%, 20%)',\n    darkest: 'hsl(240, 100%, 5%)',\n  },\n  primary: {\n    lightest: 'hsl(240, 100%, 95%)',\n    lighter: 'hsl(240, 100%, 70%)',\n    light: 'hsl(240, 100%, 65%)',\n    base: 'hsl(240, 100%, 50%)',\n    dark: 'hsl(240, 100%, 35%)',\n    darker: 'hsl(240, 100%, 20%)',\n    darkest: 'hsl(240, 100%, 5%)',\n  },\n  positive: {\n    lightest: 'hsl(120, 100%, 95%)',\n    lighter: 'hsl(120, 100%, 70%)',\n    light: 'hsl(120, 100%, 65%)',\n    base: 'hsl(120, 100%, 50%)',\n    dark: 'hsl(120, 100%, 35%)',\n    darker: 'hsl(120, 100%, 20%)',\n    darkest: 'hsl(120, 100%, 5%)',\n  },\n  caution: {\n    lightest: 'hsl(60, 100%, 95%)',\n    lighter: 'hsl(60, 100%, 70%)',\n    light: 'hsl(60, 100%, 65%)',\n    base: 'hsl(60, 100%, 50%)',\n    dark: 'hsl(60, 100%, 35%)',\n    darker: 'hsl(60, 100%, 20%)',\n    darkest: 'hsl(60, 100%, 5%)',\n  },\n  critical: {\n    lightest: 'hsl(0, 100%, 95%)',\n    lighter: 'hsl(0, 100%, 70%)',\n    light: 'hsl(0, 100%, 65%)',\n    base: 'hsl(0, 100%, 50%)',\n    dark: 'hsl(0, 100%, 35%)',\n    darker: 'hsl(0, 100%, 20%)',\n    darkest: 'hsl(0, 100%, 5%)',\n  },\n}\n\nconst spots = {\n  gray: 'hsl(0, 0%, 50%)',\n  red: 'hsl(0, 100%, 50%)',\n  orange: 'hsl(30, 100%, 50%)',\n  yellow: 'hsl(60, 100%, 50%)',\n  green: 'hsl(120, 100%, 50%)',\n  cyan: 'hsl(180, 100%, 50%)',\n  blue: 'hsl(240, 100%, 50%)',\n  purple: 'hsl(270, 100%, 50%)',\n  magenta: 'hsl(300, 100%, 50%)',\n}\n\nconst tones = {\n  transparent: {\n    bg: [colors.transparent.darkest, colors.transparent.lightest],\n    fg: [colors.transparent.lightest, colors.transparent.darkest],\n    border: [colors.transparent.darker, colors.transparent.lighter],\n    focusRing: [colors.transparent.base, colors.transparent.base],\n  },\n  primary: {\n    bg: [colors.primary.darkest, colors.primary.lightest],\n    fg: [colors.primary.lightest, colors.primary.darkest],\n    border: [colors.primary.darker, colors.primary.lighter],\n    focusRing: [colors.primary.base, colors.primary.base],\n  },\n  positive: {\n    bg: [colors.positive.darkest, colors.positive.lightest],\n    fg: [colors.positive.lightest, colors.positive.darkest],\n    border: [colors.positive.darker, colors.positive.lighter],\n    focusRing: [colors.positive.base, colors.positive.base],\n  },\n  caution: {\n    bg: [colors.caution.darkest, colors.caution.lightest],\n    fg: [colors.caution.lightest, colors.caution.darkest],\n    border: [colors.caution.darker, colors.caution.lighter],\n    focusRing: [colors.caution.base, colors.caution.base],\n  },\n  critical: {\n    bg: [colors.critical.darkest, colors.critical.lightest],\n    fg: [colors.critical.lightest, colors.critical.darkest],\n    border: [colors.critical.darker, colors.critical.lighter],\n    focusRing: [colors.critical.base, colors.critical.base],\n  },\n}\n\nexport const defaultOpts: ThemeColorBuilderOpts = {\n  base: ({dark, name}) => {\n    if (name === 'default') {\n      return {\n        bg: dark ? black : white,\n        fg: dark ? white : black,\n        border: dark ? colors.default.darkest : colors.default.lightest,\n        focusRing: colors.primary.base,\n        shadow: {\n          outline: black,\n          umbra: black,\n          penumbra: black,\n          ambient: black,\n        },\n        skeleton: {\n          from: dark ? white : black,\n          to: dark ? white : black,\n        },\n      }\n    }\n\n    // Variants:\n    // - primary\n    // - positive\n    // - caution\n    // - critical\n    return {\n      bg: tones[name].bg[dark ? 0 : 1],\n      fg: tones[name].fg[dark ? 0 : 1],\n      border: tones[name].border[dark ? 0 : 1],\n      focusRing: tones[name].focusRing[dark ? 0 : 1],\n      shadow: {\n        outline: black,\n        umbra: black,\n        penumbra: black,\n        ambient: black,\n      },\n      skeleton: {\n        from: dark ? white : black,\n        to: dark ? white : black,\n      },\n    }\n  },\n\n  solid: ({base, dark, state, tone}) => {\n    const color = colors[tone]\n\n    if (state === 'hovered') {\n      return {\n        bg: dark ? color.light : color.dark,\n        bg2: dark ? color.light : color.dark,\n        border: dark ? color.lighter : color.darker,\n        fg: dark ? color.darkest : color.lightest,\n        muted: {\n          fg: black,\n        },\n        accent: {\n          fg: black,\n        },\n        link: {\n          fg: black,\n        },\n        code: {\n          bg: black,\n          fg: black,\n        },\n        skeleton: base.skeleton,\n      }\n    }\n\n    return {\n      bg: color.base,\n      bg2: color.base,\n      border: dark ? color.light : color.dark,\n      fg: dark ? color.darkest : color.lightest,\n      muted: {\n        fg: black,\n      },\n      accent: {\n        fg: black,\n      },\n      link: {\n        fg: black,\n      },\n      code: {\n        bg: black,\n        fg: black,\n      },\n      skeleton: base.skeleton,\n    }\n  },\n\n  muted: ({base, dark, state, tone}) => {\n    const color = colors[tone]\n\n    if (state === 'hovered') {\n      return {\n        bg: dark ? color.darker : color.lighter,\n        bg2: dark ? color.darker : color.lighter,\n        border: dark ? color.lighter : color.darker,\n        fg: dark ? color.lightest : color.darkest,\n        muted: {\n          fg: black,\n        },\n        accent: {\n          fg: black,\n        },\n        link: {\n          fg: black,\n        },\n        code: {\n          bg: black,\n          fg: black,\n        },\n        skeleton: base.skeleton,\n      }\n    }\n\n    return {\n      bg: dark ? color.darkest : color.lightest,\n      bg2: dark ? color.darkest : color.lightest,\n      border: dark ? color.darker : color.lighter,\n      fg: dark ? color.lighter : color.darker,\n      muted: {\n        fg: black,\n      },\n      accent: {\n        fg: black,\n      },\n      link: {\n        fg: black,\n      },\n      code: {\n        bg: black,\n        fg: black,\n      },\n      skeleton: base.skeleton,\n    }\n  },\n\n  button: ({base, mode, muted, solid}) => {\n    if (mode === 'bleed') {\n      return {\n        ...muted,\n        enabled: {\n          bg: 'transparent',\n          bg2: 'transparent',\n          fg: muted.enabled.fg,\n          border: 'transparent',\n          muted: {\n            fg: black,\n          },\n          accent: {\n            fg: black,\n          },\n          link: {\n            fg: black,\n          },\n          code: {\n            bg: black,\n            fg: black,\n          },\n          skeleton: base.skeleton,\n        },\n        hovered: {\n          bg: muted.enabled.bg,\n          bg2: muted.enabled.bg,\n          fg: muted.hovered.fg,\n          border: 'transparent',\n          muted: {\n            fg: black,\n          },\n          accent: {\n            fg: black,\n          },\n          link: {\n            fg: black,\n          },\n          code: {\n            bg: black,\n            fg: black,\n          },\n          skeleton: base.skeleton,\n        },\n      }\n    }\n\n    if (mode === 'ghost')\n      return {\n        ...solid,\n        enabled: muted.enabled,\n      }\n\n    return solid\n  },\n\n  card: ({base}) => {\n    return {\n      bg: black,\n      bg2: black,\n      fg: black,\n      border: black,\n      muted: {\n        fg: black,\n      },\n      accent: {\n        fg: black,\n      },\n      link: {\n        fg: black,\n      },\n      code: {\n        bg: black,\n        fg: black,\n      },\n      skeleton: base.skeleton,\n    }\n  },\n\n  input: () => {\n    return {\n      bg: black,\n      fg: black,\n      border: black,\n      placeholder: black,\n    }\n  },\n\n  selectable: ({muted, state, tone}) => {\n    return muted[tone][state]\n  },\n\n  spot: ({key}) => {\n    return spots[key]\n  },\n\n  syntax: () => ({\n    atrule: black,\n    attrName: black,\n    attrValue: black,\n    attribute: black,\n    boolean: black,\n    builtin: black,\n    cdata: black,\n    char: black,\n    class: black,\n    className: black,\n    comment: black,\n    constant: black,\n    deleted: black,\n    doctype: black,\n    entity: black,\n    function: black,\n    hexcode: black,\n    id: black,\n    important: black,\n    inserted: black,\n    keyword: black,\n    number: black,\n    operator: black,\n    prolog: black,\n    property: black,\n    pseudoClass: black,\n    pseudoElement: black,\n    punctuation: black,\n    regex: black,\n    selector: black,\n    string: black,\n    symbol: black,\n    tag: black,\n    unit: black,\n    url: black,\n    variable: black,\n  }),\n}\n","import {ThemeColorBase} from '../base'\nimport {ThemeColorBuilderOpts} from '../factory'\nimport {ThemeColorMuted} from '../muted'\nimport {ThemeColorSolid} from '../solid'\nimport {ThemeColorInput} from './types'\n\nexport function createInputModes(\n  opts: ThemeColorBuilderOpts,\n  base: ThemeColorBase,\n  dark: boolean,\n  solid: ThemeColorSolid,\n  muted: ThemeColorMuted\n): ThemeColorInput {\n  return {\n    default: {\n      enabled: opts.input({\n        base,\n        dark,\n        mode: 'default',\n        state: 'enabled',\n        solid: solid.default,\n        muted: muted.default,\n      }),\n      disabled: opts.input({\n        base,\n        dark,\n        mode: 'default',\n        state: 'disabled',\n        solid: solid.default,\n        muted: muted.default,\n      }),\n      hovered: opts.input({\n        base,\n        dark,\n        mode: 'default',\n        state: 'hovered',\n        solid: solid.default,\n        muted: muted.default,\n      }),\n      readOnly: opts.input({\n        base,\n        dark,\n        mode: 'default',\n        state: 'readOnly',\n        solid: solid.default,\n        muted: muted.default,\n      }),\n    },\n    invalid: {\n      enabled: opts.input({\n        base,\n        dark,\n        mode: 'invalid',\n        state: 'enabled',\n        solid: solid.default,\n        muted: muted.default,\n      }),\n      disabled: opts.input({\n        base,\n        dark,\n        mode: 'invalid',\n        state: 'disabled',\n        solid: solid.default,\n        muted: muted.default,\n      }),\n      hovered: opts.input({\n        base,\n        dark,\n        mode: 'invalid',\n        state: 'hovered',\n        solid: solid.default,\n        muted: muted.default,\n      }),\n      readOnly: opts.input({\n        base,\n        dark,\n        mode: 'invalid',\n        state: 'readOnly',\n        solid: solid.default,\n        muted: muted.default,\n      }),\n    },\n  }\n}\n","import {ThemeColorBase} from '../base'\nimport {ThemeColorBuilderOpts} from '../factory'\nimport {ThemeColorName} from '../types'\nimport {ThemeColorMuted} from './types'\n\nexport function createMutedTones(\n  opts: ThemeColorBuilderOpts,\n  base: ThemeColorBase,\n  dark: boolean,\n  name: ThemeColorName\n): ThemeColorMuted {\n  return {\n    default: {\n      enabled: opts.muted({base, dark, tone: 'default', name, state: 'enabled'}),\n      disabled: opts.muted({base, dark, tone: 'default', name, state: 'disabled'}),\n      hovered: opts.muted({base, dark, tone: 'default', name, state: 'hovered'}),\n      pressed: opts.muted({base, dark, tone: 'default', name, state: 'pressed'}),\n      selected: opts.muted({base, dark, tone: 'default', name, state: 'selected'}),\n    },\n    transparent: {\n      enabled: opts.muted({base, dark, tone: 'transparent', name, state: 'enabled'}),\n      disabled: opts.muted({base, dark, tone: 'transparent', name, state: 'disabled'}),\n      hovered: opts.muted({base, dark, tone: 'transparent', name, state: 'hovered'}),\n      pressed: opts.muted({base, dark, tone: 'transparent', name, state: 'pressed'}),\n      selected: opts.muted({base, dark, tone: 'transparent', name, state: 'selected'}),\n    },\n    primary: {\n      enabled: opts.muted({base, dark, tone: 'primary', name, state: 'enabled'}),\n      disabled: opts.muted({base, dark, tone: 'primary', name, state: 'disabled'}),\n      hovered: opts.muted({base, dark, tone: 'primary', name, state: 'hovered'}),\n      pressed: opts.muted({base, dark, tone: 'primary', name, state: 'pressed'}),\n      selected: opts.muted({base, dark, tone: 'primary', name, state: 'selected'}),\n    },\n    positive: {\n      enabled: opts.muted({base, dark, tone: 'positive', name, state: 'enabled'}),\n      disabled: opts.muted({base, dark, tone: 'positive', name, state: 'disabled'}),\n      hovered: opts.muted({base, dark, tone: 'positive', name, state: 'hovered'}),\n      pressed: opts.muted({base, dark, tone: 'positive', name, state: 'pressed'}),\n      selected: opts.muted({base, dark, tone: 'positive', name, state: 'selected'}),\n    },\n    caution: {\n      enabled: opts.muted({base, dark, tone: 'caution', name, state: 'enabled'}),\n      disabled: opts.muted({base, dark, tone: 'caution', name, state: 'disabled'}),\n      hovered: opts.muted({base, dark, tone: 'caution', name, state: 'hovered'}),\n      pressed: opts.muted({base, dark, tone: 'caution', name, state: 'pressed'}),\n      selected: opts.muted({base, dark, tone: 'caution', name, state: 'selected'}),\n    },\n    critical: {\n      enabled: opts.muted({base, dark, tone: 'critical', name, state: 'enabled'}),\n      disabled: opts.muted({base, dark, tone: 'critical', name, state: 'disabled'}),\n      hovered: opts.muted({base, dark, tone: 'critical', name, state: 'hovered'}),\n      pressed: opts.muted({base, dark, tone: 'critical', name, state: 'pressed'}),\n      selected: opts.muted({base, dark, tone: 'critical', name, state: 'selected'}),\n    },\n  }\n}\n","import {ThemeColorBase} from '../base'\nimport {ThemeColorBuilderOpts} from '../factory'\nimport {ThemeColorMuted} from '../muted'\nimport {ThemeColorSolid} from '../solid'\nimport {ThemeColorSelectable, ThemeColorSelectableStates} from './types'\n\nexport function createSelectableTones(\n  opts: ThemeColorBuilderOpts,\n  base: ThemeColorBase,\n  dark: boolean,\n  solid: ThemeColorSolid,\n  muted: ThemeColorMuted\n): ThemeColorSelectable {\n  return {\n    default: _createSelectableStates(opts, base, dark, solid, muted, 'default'),\n    primary: _createSelectableStates(opts, base, dark, solid, muted, 'primary'),\n    positive: _createSelectableStates(opts, base, dark, solid, muted, 'positive'),\n    caution: _createSelectableStates(opts, base, dark, solid, muted, 'caution'),\n    critical: _createSelectableStates(opts, base, dark, solid, muted, 'critical'),\n  }\n}\n\nfunction _createSelectableStates(\n  opts: ThemeColorBuilderOpts,\n  base: ThemeColorBase,\n  dark: boolean,\n  solid: ThemeColorSolid,\n  muted: ThemeColorMuted,\n  tone: 'default' | 'primary' | 'positive' | 'caution' | 'critical'\n): ThemeColorSelectableStates {\n  return {\n    enabled: opts.selectable({\n      base,\n      dark,\n      solid,\n      muted,\n      state: 'enabled',\n      tone,\n    }),\n    hovered: opts.selectable({\n      base,\n      dark,\n      solid,\n      muted,\n      state: 'hovered',\n      tone,\n    }),\n    pressed: opts.selectable({\n      base,\n      dark,\n      solid,\n      muted,\n      state: 'pressed',\n      tone,\n    }),\n    selected: opts.selectable({\n      base,\n      dark,\n      solid,\n      muted,\n      state: 'selected',\n      tone,\n    }),\n    disabled: opts.selectable({\n      base,\n      dark,\n      solid,\n      muted,\n      state: 'disabled',\n      tone,\n    }),\n  }\n}\n","import {ThemeColorBase} from '../base'\nimport {ThemeColorBuilderOpts} from '../factory'\nimport {ThemeColorName} from '../types'\nimport {ThemeColorSolid} from './types'\n\nexport function createSolidTones(\n  opts: ThemeColorBuilderOpts,\n  base: ThemeColorBase,\n  dark: boolean,\n  name: ThemeColorName\n): ThemeColorSolid {\n  return {\n    default: {\n      enabled: opts.solid({base, dark, tone: 'default', name, state: 'enabled'}),\n      disabled: opts.solid({base, dark, tone: 'default', name, state: 'disabled'}),\n      hovered: opts.solid({base, dark, tone: 'default', name, state: 'hovered'}),\n      pressed: opts.solid({base, dark, tone: 'default', name, state: 'pressed'}),\n      selected: opts.solid({base, dark, tone: 'default', name, state: 'selected'}),\n    },\n    transparent: {\n      enabled: opts.solid({base, dark, tone: 'transparent', name, state: 'enabled'}),\n      disabled: opts.solid({base, dark, tone: 'transparent', name, state: 'disabled'}),\n      hovered: opts.solid({base, dark, tone: 'transparent', name, state: 'hovered'}),\n      pressed: opts.solid({base, dark, tone: 'transparent', name, state: 'pressed'}),\n      selected: opts.solid({base, dark, tone: 'transparent', name, state: 'selected'}),\n    },\n    primary: {\n      enabled: opts.solid({base, dark, tone: 'primary', name, state: 'enabled'}),\n      disabled: opts.solid({base, dark, tone: 'primary', name, state: 'disabled'}),\n      hovered: opts.solid({base, dark, tone: 'primary', name, state: 'hovered'}),\n      pressed: opts.solid({base, dark, tone: 'primary', name, state: 'pressed'}),\n      selected: opts.solid({base, dark, tone: 'primary', name, state: 'selected'}),\n    },\n    positive: {\n      enabled: opts.solid({base, dark, tone: 'positive', name, state: 'enabled'}),\n      disabled: opts.solid({base, dark, tone: 'positive', name, state: 'disabled'}),\n      hovered: opts.solid({base, dark, tone: 'positive', name, state: 'hovered'}),\n      pressed: opts.solid({base, dark, tone: 'positive', name, state: 'pressed'}),\n      selected: opts.solid({base, dark, tone: 'positive', name, state: 'selected'}),\n    },\n    caution: {\n      enabled: opts.solid({base, dark, tone: 'caution', name, state: 'enabled'}),\n      disabled: opts.solid({base, dark, tone: 'caution', name, state: 'disabled'}),\n      hovered: opts.solid({base, dark, tone: 'caution', name, state: 'hovered'}),\n      pressed: opts.solid({base, dark, tone: 'caution', name, state: 'pressed'}),\n      selected: opts.solid({base, dark, tone: 'caution', name, state: 'selected'}),\n    },\n    critical: {\n      enabled: opts.solid({base, dark, tone: 'critical', name, state: 'enabled'}),\n      disabled: opts.solid({base, dark, tone: 'critical', name, state: 'disabled'}),\n      hovered: opts.solid({base, dark, tone: 'critical', name, state: 'hovered'}),\n      pressed: opts.solid({base, dark, tone: 'critical', name, state: 'pressed'}),\n      selected: opts.solid({base, dark, tone: 'critical', name, state: 'selected'}),\n    },\n  }\n}\n","import {ThemeColorBase} from '../base'\nimport {ThemeColorBuilderOpts} from '../factory'\nimport {ThemeColorSpot} from './types'\n\nexport function createSpot(\n  opts: ThemeColorBuilderOpts,\n  base: ThemeColorBase,\n  dark: boolean\n): ThemeColorSpot {\n  return {\n    gray: opts.spot({base, dark, key: 'gray'}),\n    blue: opts.spot({base, dark, key: 'blue'}),\n    purple: opts.spot({base, dark, key: 'purple'}),\n    magenta: opts.spot({base, dark, key: 'magenta'}),\n    red: opts.spot({base, dark, key: 'red'}),\n    orange: opts.spot({base, dark, key: 'orange'}),\n    yellow: opts.spot({base, dark, key: 'yellow'}),\n    green: opts.spot({base, dark, key: 'green'}),\n    cyan: opts.spot({base, dark, key: 'cyan'}),\n  }\n}\n","import {ThemeColorGenericState} from './_generic'\nimport {ThemeColorBase} from './base'\nimport {ThemeColorButtonModeKey, ThemeColorButtonStates} from './button'\nimport {createButtonModes} from './button/createButtonModes'\nimport {ThemeColorCardState} from './card'\nimport {createCardStates} from './card/createCardStates'\nimport {defaultOpts} from './defaults'\nimport {ThemeColorInputState} from './input'\nimport {createInputModes} from './input/createInputModes'\nimport {ThemeColorMuted, ThemeColorMutedTone} from './muted'\nimport {createMutedTones} from './muted/createMuted'\nimport {ThemeColorSelectableState} from './selectable'\nimport {createSelectableTones} from './selectable/createSelectableTones'\nimport {ThemeColorSolid, ThemeColorSolidTone} from './solid'\nimport {createSolidTones} from './solid/createSolidTones'\nimport {ThemeColorSpotKey} from './spot'\nimport {createSpot} from './spot/createSpot'\nimport {ThemeColorSyntax} from './syntax'\nimport {\n  ThemeColorName,\n  ThemeColorScheme,\n  ThemeColorSchemes,\n  ThemeColor,\n  ThemeColorToneKey,\n} from './types'\n\n/**\n * @public\n */\nexport interface ThemeColorBuilderOpts {\n  base: (opts: {dark: boolean; name: ThemeColorName}) => ThemeColorBase\n  solid: (opts: {\n    base: ThemeColorBase\n    dark: boolean\n    tone: ThemeColorToneKey\n    name: ThemeColorName\n    state: 'enabled' | 'disabled' | 'hovered' | 'pressed' | 'selected'\n  }) => ThemeColorGenericState\n  muted: (opts: {\n    base: ThemeColorBase\n    dark: boolean\n    tone: ThemeColorToneKey\n    name: ThemeColorName\n    state: 'enabled' | 'disabled' | 'hovered' | 'pressed' | 'selected'\n  }) => ThemeColorGenericState\n  card: (opts: {\n    base: ThemeColorBase\n    dark: boolean\n    muted: ThemeColorMuted\n    name: ThemeColorName\n    solid: ThemeColorSolid\n    state: 'enabled' | 'disabled' | 'hovered' | 'pressed' | 'selected'\n  }) => ThemeColorCardState\n  button: (opts: {\n    dark: boolean\n    mode: ThemeColorButtonModeKey\n    base: ThemeColorBase\n    solid: ThemeColorSolidTone\n    muted: ThemeColorMutedTone\n  }) => ThemeColorButtonStates\n  input: (opts: {\n    base: ThemeColorBase\n    solid: ThemeColorSolidTone\n    muted: ThemeColorMutedTone\n    dark: boolean\n    mode: 'default' | 'invalid'\n    state: 'enabled' | 'disabled' | 'hovered' | 'readOnly'\n  }) => ThemeColorInputState\n  selectable: (opts: {\n    dark: boolean\n    base: ThemeColorBase\n    solid: ThemeColorSolid\n    muted: ThemeColorMuted\n    state: 'enabled' | 'disabled' | 'hovered' | 'pressed' | 'selected'\n    tone: 'default' | 'primary' | 'positive' | 'caution' | 'critical'\n  }) => ThemeColorSelectableState\n  syntax: (opts: {base: ThemeColorBase; dark: boolean}) => ThemeColorSyntax\n  spot: (opts: {base: ThemeColorBase; dark: boolean; key: ThemeColorSpotKey}) => string\n}\n\n/**\n * @public\n */\nexport type PartialThemeColorBuilderOpts = Partial<ThemeColorBuilderOpts>\n\n/**\n * @public\n */\nexport function createColorTheme(\n  partialOpts: PartialThemeColorBuilderOpts = {}\n): ThemeColorSchemes {\n  const builders: ThemeColorBuilderOpts = {...defaultOpts, ...partialOpts}\n\n  return {\n    light: _createColorScheme(builders, false),\n    dark: _createColorScheme(builders, true),\n  }\n}\n\n/**\n * @internal\n */\nfunction _createColorScheme(opts: ThemeColorBuilderOpts, dark: boolean): ThemeColorScheme {\n  return {\n    default: _createColor(opts, dark, 'default'),\n    transparent: _createColor(opts, dark, 'transparent'),\n    primary: _createColor(opts, dark, 'primary'),\n    positive: _createColor(opts, dark, 'positive'),\n    caution: _createColor(opts, dark, 'caution'),\n    critical: _createColor(opts, dark, 'critical'),\n  }\n}\n\n/**\n * @internal\n */\nfunction _createColor(\n  opts: ThemeColorBuilderOpts,\n  dark: boolean,\n  name: ThemeColorName\n): ThemeColor {\n  const base = opts.base({dark, name})\n  const solid = createSolidTones(opts, base, dark, name)\n  const muted = createMutedTones(opts, base, dark, name)\n\n  return {\n    base,\n    button: createButtonModes(opts, base, dark, solid, muted),\n    card: createCardStates(opts, base, dark, name, solid, muted),\n    dark,\n    input: createInputModes(opts, base, dark, solid, muted),\n    selectable: createSelectableTones(opts, base, dark, solid, muted),\n    spot: createSpot(opts, base, dark),\n    syntax: opts.syntax({base, dark}),\n    solid,\n    muted,\n  }\n}\n","import {parseColor, rgbToHex, screen as _screen, multiply as _multiply} from '../lib/color-fns'\n\nexport function multiply(bg: string, fg: string): string {\n  const b = parseColor(bg)\n  const s = parseColor(fg)\n  const hex = rgbToHex(_multiply(b, s))\n\n  return hex\n}\n\nexport function screen(bg: string, fg: string): string {\n  const b = parseColor(bg)\n  const s = parseColor(fg)\n  const hex = rgbToHex(_screen(b, s))\n\n  return hex\n}\n","import {black, ColorTints, hues, white} from '@sanity/color'\nimport {rgba} from '../lib/color-fns'\nimport {createColorTheme} from '../lib/theme'\nimport {multiply, screen} from './helpers'\n\nconst tones: {[key: string]: ColorTints} = {\n  default: hues.gray,\n  transparent: hues.gray,\n  primary: hues.blue,\n  positive: hues.green,\n  caution: hues.yellow,\n  critical: hues.red,\n}\n\nconst NEUTRAL_TONES = ['default', 'transparent']\n\nexport const color = createColorTheme({\n  base: ({dark, name}) => {\n    if (name === 'default') {\n      const skeletonFrom = dark ? hues.gray[900].hex : hues.gray[100].hex\n\n      return {\n        fg: dark ? white.hex : black.hex,\n        bg: dark ? black.hex : white.hex,\n        border: hues.gray[dark ? 800 : 200].hex,\n        focusRing: hues.blue[dark ? 500 : 500].hex,\n        shadow: {\n          outline: rgba(hues.gray[500].hex, 0.4),\n          umbra: rgba(dark ? black.hex : hues.gray[500].hex, 0.2),\n          penumbra: rgba(dark ? black.hex : hues.gray[500].hex, 0.14),\n          ambient: rgba(dark ? black.hex : hues.gray[500].hex, 0.12),\n        },\n        skeleton: {\n          from: skeletonFrom,\n          to: rgba(skeletonFrom, 0.5),\n        },\n      }\n    }\n\n    if (name === 'transparent') {\n      const tints = tones.default\n      const skeletonFrom = tints[dark ? 800 : 200].hex\n\n      return {\n        fg: tints[dark ? 100 : 900].hex,\n        bg: tints[dark ? 950 : 50].hex,\n        border: tints[dark ? 800 : 300].hex,\n        focusRing: hues.blue[500].hex,\n        shadow: {\n          outline: rgba(tints[500].hex, dark ? 0.2 : 0.4),\n          umbra: rgba(dark ? black.hex : tints[500].hex, 0.2),\n          penumbra: rgba(dark ? black.hex : tints[500].hex, 0.14),\n          ambient: rgba(dark ? black.hex : tints[500].hex, 0.12),\n        },\n        skeleton: {\n          from: skeletonFrom,\n          to: rgba(skeletonFrom, 0.5),\n        },\n      }\n    }\n\n    const tints = tones[name] || tones.default\n    const skeletonFrom = tints[dark ? 800 : 200].hex\n\n    return {\n      fg: tints[dark ? 100 : 900].hex,\n      bg: tints[dark ? 950 : 50].hex,\n      border: tints[dark ? 800 : 200].hex,\n      focusRing: tints[500].hex,\n      shadow: {\n        outline: rgba(tints[500].hex, dark ? 0.2 : 0.4),\n        umbra: rgba(dark ? black.hex : tints[500].hex, 0.2),\n        penumbra: rgba(dark ? black.hex : tints[500].hex, 0.14),\n        ambient: rgba(dark ? black.hex : tints[500].hex, 0.12),\n      },\n      skeleton: {\n        from: skeletonFrom,\n        to: rgba(skeletonFrom, 0.5),\n      },\n    }\n  },\n\n  solid: ({base, dark, name, state, tone}) => {\n    const mix = dark ? screen : multiply\n    const mix2 = dark ? multiply : screen\n    const defaultTints = tones[name] || tones.default\n    const isNeutral = NEUTRAL_TONES.includes(name) && NEUTRAL_TONES.includes(tone)\n\n    let tints = tones[tone === 'default' ? name : tone] || defaultTints\n\n    if (state === 'disabled') {\n      tints = defaultTints\n\n      const bg = mix(base.bg, tints[dark ? 800 : 200].hex)\n      const skeletonFrom = mix2(bg, tints[dark ? 200 : 800].hex)\n\n      return {\n        bg,\n        bg2: mix2(bg, tints[dark ? 50 : 950].hex),\n        border: mix(base.bg, tints[dark ? 800 : 200].hex),\n        fg: mix(base.bg, dark ? black.hex : white.hex),\n        muted: {\n          fg: mix(base.bg, tints[dark ? 950 : 50].hex),\n        },\n        accent: {\n          fg: mix(base.bg, tints[dark ? 950 : 50].hex),\n        },\n        link: {\n          fg: mix(base.bg, tints[dark ? 950 : 50].hex),\n        },\n        code: {\n          bg,\n          fg: mix(base.bg, tints[dark ? 950 : 50].hex),\n        },\n        skeleton: {\n          from: skeletonFrom,\n          to: rgba(skeletonFrom, 0.5),\n        },\n      }\n    }\n\n    if (state === 'hovered') {\n      const bg = mix(base.bg, tints[dark ? 300 : 600].hex)\n      const skeletonFrom = mix2(bg, tints[dark ? 200 : 800].hex)\n\n      return {\n        bg,\n        bg2: mix2(bg, tints[dark ? 50 : 950].hex),\n        border: mix(base.bg, tints[dark ? 300 : 600].hex),\n        fg: mix(base.bg, dark ? black.hex : white.hex),\n        muted: {\n          fg: mix(base.bg, tints[dark ? 800 : 200].hex),\n        },\n        accent: {\n          fg: mix2(bg, hues.red[dark ? 800 : 200].hex),\n        },\n        link: {\n          fg: mix2(bg, hues.blue[dark ? 800 : 200].hex),\n        },\n        code: {\n          bg: mix(bg, tints[dark ? 950 : 50].hex),\n          fg: mix(base.bg, tints[dark ? 800 : 200].hex),\n        },\n        skeleton: {\n          from: skeletonFrom,\n          to: rgba(skeletonFrom, 0.5),\n        },\n      }\n    }\n\n    if (state === 'pressed') {\n      const bg = mix(base.bg, tints[dark ? 200 : 800].hex)\n      const skeletonFrom = mix2(bg, tints[dark ? 200 : 800].hex)\n\n      return {\n        bg: mix(base.bg, tints[dark ? 200 : 800].hex),\n        bg2: mix2(bg, tints[dark ? 50 : 950].hex),\n        border: mix(base.bg, tints[dark ? 200 : 800].hex),\n        fg: mix(base.bg, dark ? black.hex : white.hex),\n        muted: {\n          fg: mix(base.bg, tints[dark ? 800 : 200].hex),\n        },\n        accent: {\n          fg: mix2(bg, hues.red[dark ? 800 : 200].hex),\n        },\n        link: {\n          fg: mix2(bg, hues.blue[dark ? 800 : 200].hex),\n        },\n        code: {\n          bg: mix(bg, tints[dark ? 950 : 50].hex),\n          fg: mix(base.bg, tints[dark ? 800 : 200].hex),\n        },\n        skeleton: {\n          from: skeletonFrom,\n          to: rgba(skeletonFrom, 0.5),\n        },\n      }\n    }\n\n    if (state === 'selected') {\n      if (isNeutral) {\n        tints = tones.primary\n      }\n\n      const bg = mix(base.bg, tints[dark ? 200 : 800].hex)\n      const skeletonFrom = mix2(bg, tints[dark ? 200 : 800].hex)\n\n      return {\n        bg,\n        bg2: mix2(bg, tints[dark ? 50 : 950].hex),\n        border: mix(base.bg, tints[dark ? 200 : 800].hex),\n        fg: mix(base.bg, dark ? black.hex : white.hex),\n        muted: {\n          fg: mix(base.bg, tints[dark ? 800 : 200].hex),\n        },\n        accent: {\n          fg: mix2(bg, hues.red[dark ? 800 : 200].hex),\n        },\n        link: {\n          fg: mix2(bg, hues.blue[dark ? 800 : 200].hex),\n        },\n        code: {\n          bg: mix(bg, tints[dark ? 950 : 50].hex),\n          fg: mix(base.bg, tints[dark ? 800 : 200].hex),\n        },\n        skeleton: {\n          from: skeletonFrom,\n          to: rgba(skeletonFrom, 0.5),\n        },\n      }\n    }\n\n    // state: \"enabled\" | unknown\n    const bg = mix(base.bg, tints[dark ? 400 : 500].hex)\n    const skeletonFrom = mix2(bg, tints[dark ? 200 : 800].hex)\n\n    return {\n      bg,\n      bg2: mix2(bg, tints[dark ? 50 : 950].hex),\n      border: mix(base.bg, tints[dark ? 400 : 500].hex),\n      fg: mix(base.bg, dark ? black.hex : white.hex),\n      muted: {\n        fg: mix(base.bg, tints[dark ? 900 : 100].hex),\n      },\n      accent: {\n        fg: mix2(bg, hues.red[dark ? 900 : 100].hex),\n      },\n      link: {\n        fg: mix2(bg, hues.blue[dark ? 900 : 100].hex),\n      },\n      code: {\n        bg: mix(bg, tints[dark ? 950 : 50].hex),\n        fg: mix(base.bg, tints[dark ? 900 : 100].hex),\n      },\n      skeleton: {\n        from: skeletonFrom,\n        to: rgba(skeletonFrom, 0.5),\n      },\n    }\n  },\n\n  muted: ({base, dark, name, state, tone}) => {\n    const mix = dark ? screen : multiply\n    const defaultTints = tones[name] || tones.default\n    const isNeutral = NEUTRAL_TONES.includes(name) && NEUTRAL_TONES.includes(tone)\n\n    let tints = tones[tone === 'default' ? name : tone] || defaultTints\n\n    if (state === 'disabled') {\n      tints = defaultTints\n\n      const bg = base.bg\n      const skeletonFrom = mix(bg, tints[dark ? 900 : 100].hex)\n\n      return {\n        bg,\n        bg2: mix(bg, tints[dark ? 950 : 50].hex),\n        border: mix(bg, tints[dark ? 950 : 50].hex),\n        fg: mix(bg, tints[dark ? 800 : 200].hex),\n        muted: {\n          fg: mix(bg, tints[dark ? 900 : 100].hex),\n        },\n        accent: {\n          fg: mix(bg, tints[dark ? 900 : 100].hex),\n        },\n        link: {\n          fg: mix(bg, tints[dark ? 900 : 100].hex),\n        },\n        code: {\n          bg,\n          fg: mix(bg, tints[dark ? 900 : 100].hex),\n        },\n        skeleton: {\n          from: rgba(skeletonFrom, 0.5),\n          to: rgba(skeletonFrom, 0.25),\n        },\n      }\n    }\n\n    if (state === 'hovered') {\n      // if (isNeutral) {\n      //   tints = tones.primary\n      // }\n\n      const bg = mix(base.bg, tints[dark ? 950 : 50].hex)\n      const skeletonFrom = mix(bg, tints[dark ? 900 : 100].hex)\n\n      return {\n        bg,\n        bg2: mix(bg, tints[dark ? 950 : 50].hex),\n        border: mix(bg, tints[dark ? 900 : 100].hex),\n        fg: mix(base.bg, tints[dark ? 200 : 800].hex),\n        muted: {\n          fg: mix(base.bg, tints[dark ? 400 : 600].hex),\n        },\n        accent: {\n          fg: mix(base.bg, hues.red[dark ? 400 : 500].hex),\n        },\n        link: {\n          fg: mix(base.bg, hues.blue[dark ? 400 : 600].hex),\n        },\n        code: {\n          bg: mix(bg, tints[dark ? 950 : 50].hex),\n          fg: mix(base.bg, tints[dark ? 400 : 600].hex),\n        },\n        skeleton: {\n          from: skeletonFrom,\n          to: rgba(skeletonFrom, 0.5),\n        },\n      }\n    }\n\n    if (state === 'pressed') {\n      if (isNeutral) {\n        tints = tones.primary\n      }\n\n      const bg = mix(base.bg, tints[dark ? 900 : 100].hex)\n      const skeletonFrom = mix(bg, tints[dark ? 900 : 100].hex)\n\n      return {\n        bg,\n        bg2: mix(bg, tints[dark ? 950 : 50].hex),\n        border: mix(bg, tints[dark ? 900 : 100].hex),\n        fg: mix(base.bg, tints[dark ? 200 : 800].hex),\n        muted: {\n          fg: mix(base.bg, tints[dark ? 400 : 600].hex),\n        },\n        accent: {\n          fg: mix(bg, hues.red[dark ? 400 : 500].hex),\n        },\n        link: {\n          fg: mix(bg, hues.blue[dark ? 400 : 600].hex),\n        },\n        code: {\n          bg: mix(bg, tints[dark ? 950 : 50].hex),\n          fg: mix(base.bg, tints[dark ? 400 : 600].hex),\n        },\n        skeleton: {\n          from: skeletonFrom,\n          to: rgba(skeletonFrom, 0.5),\n        },\n      }\n    }\n\n    if (state === 'selected') {\n      if (isNeutral) {\n        tints = tones.primary\n      }\n\n      const bg = mix(base.bg, tints[dark ? 900 : 100].hex)\n      const skeletonFrom = mix(bg, tints[dark ? 900 : 100].hex)\n\n      return {\n        bg,\n        bg2: mix(bg, tints[dark ? 950 : 50].hex),\n        border: mix(bg, tints[dark ? 900 : 100].hex),\n        fg: mix(base.bg, tints[dark ? 200 : 800].hex),\n        muted: {\n          fg: mix(base.bg, tints[dark ? 400 : 600].hex),\n        },\n        accent: {\n          fg: mix(bg, hues.red[dark ? 400 : 500].hex),\n        },\n        link: {\n          fg: mix(bg, hues.blue[dark ? 400 : 600].hex),\n        },\n        code: {\n          bg: mix(bg, tints[dark ? 950 : 50].hex),\n          fg: mix(base.bg, tints[dark ? 400 : 600].hex),\n        },\n        skeleton: {\n          from: skeletonFrom,\n          to: rgba(skeletonFrom, 0.5),\n        },\n      }\n    }\n\n    const bg = base.bg\n    const skeletonFrom = mix(bg, tints[dark ? 900 : 100].hex)\n\n    return {\n      bg,\n      bg2: mix(bg, tints[dark ? 950 : 50].hex),\n      border: mix(bg, tints[dark ? 900 : 100].hex),\n      fg: mix(base.bg, tints[dark ? 300 : 700].hex),\n      muted: {\n        fg: mix(base.bg, tints[dark ? 400 : 600].hex),\n      },\n      accent: {\n        fg: mix(base.bg, hues.red[dark ? 400 : 500].hex),\n      },\n      link: {\n        fg: mix(base.bg, hues.blue[dark ? 400 : 600].hex),\n      },\n      code: {\n        bg: mix(base.bg, tints[dark ? 950 : 50].hex),\n        fg: mix(base.bg, tints[dark ? 400 : 600].hex),\n      },\n      skeleton: {\n        from: skeletonFrom,\n        to: rgba(skeletonFrom, 0.5),\n      },\n    }\n  },\n\n  button: ({base, mode, muted, solid}) => {\n    if (mode === 'bleed') {\n      return {\n        enabled: {\n          ...muted.enabled,\n          border: muted.enabled.bg,\n        },\n        hovered: {\n          ...muted.hovered,\n          border: muted.hovered.bg,\n        },\n        pressed: {\n          ...muted.pressed,\n          border: muted.pressed.bg,\n        },\n        selected: {\n          ...muted.selected,\n          border: muted.selected.bg,\n        },\n        disabled: {\n          ...muted.disabled,\n          border: muted.disabled.bg,\n        },\n      }\n    }\n\n    if (mode === 'ghost') {\n      return {\n        ...solid,\n        enabled: {\n          ...muted.enabled,\n          border: base.border,\n        },\n        disabled: muted.disabled,\n      }\n    }\n\n    return solid\n  },\n\n  card: ({base, dark, muted, name, solid, state}) => {\n    if (state === 'hovered') {\n      return muted[name].hovered\n    }\n\n    if (state === 'disabled') {\n      return muted[name].disabled\n    }\n\n    const isNeutral = NEUTRAL_TONES.includes(name)\n    const tints = tones[name] || tones.default\n    const mix = dark ? screen : multiply\n\n    if (state === 'pressed') {\n      if (isNeutral) {\n        return muted.primary.pressed\n      }\n\n      return muted[name].pressed\n    }\n\n    if (state === 'selected') {\n      if (isNeutral) {\n        return solid.primary.enabled\n      }\n\n      return solid[name].enabled\n    }\n\n    const bg = base.bg\n    const skeletonFrom = mix(base.bg, tints[dark ? 900 : 100].hex)\n\n    return {\n      bg,\n      bg2: mix(bg, tints[dark ? 950 : 50].hex),\n      fg: base.fg,\n      border: base.border,\n      muted: {\n        fg: mix(base.bg, tints[dark ? 400 : 600].hex),\n      },\n      accent: {\n        fg: mix(base.bg, hues.red[dark ? 400 : 500].hex),\n      },\n      link: {\n        fg: mix(base.bg, hues.blue[dark ? 400 : 600].hex),\n      },\n      code: {\n        bg: mix(base.bg, tints[dark ? 950 : 50].hex),\n        fg: tints[dark ? 400 : 600].hex,\n      },\n      skeleton: {\n        from: skeletonFrom,\n        to: rgba(skeletonFrom, 0.5),\n      },\n    }\n  },\n\n  input: ({base, dark, mode, state}) => {\n    const mix = dark ? screen : multiply\n\n    if (mode === 'invalid') {\n      const tints = tones.critical\n\n      return {\n        bg: mix(base.bg, tints[dark ? 950 : 50].hex),\n        fg: mix(base.bg, tints[dark ? 400 : 600].hex),\n        border: mix(base.bg, tints[dark ? 800 : 200].hex),\n        placeholder: mix(base.bg, tints[dark ? 600 : 400].hex),\n      }\n    }\n\n    if (state === 'hovered') {\n      return {\n        bg: base.bg,\n        fg: base.fg,\n        border: mix(base.bg, hues.gray[dark ? 700 : 300].hex),\n        placeholder: mix(base.bg, hues.gray[dark ? 600 : 400].hex),\n      }\n    }\n\n    if (state === 'disabled') {\n      return {\n        bg: mix(base.bg, hues.gray[dark ? 950 : 50].hex),\n        fg: mix(base.bg, hues.gray[dark ? 700 : 300].hex),\n        border: mix(base.bg, hues.gray[dark ? 900 : 100].hex),\n        placeholder: mix(base.bg, hues.gray[dark ? 800 : 200].hex),\n      }\n    }\n\n    if (state === 'readOnly') {\n      return {\n        bg: mix(base.bg, hues.gray[dark ? 950 : 50].hex),\n        fg: mix(base.bg, hues.gray[dark ? 200 : 800].hex),\n        border: mix(base.bg, hues.gray[dark ? 800 : 200].hex),\n        placeholder: mix(base.bg, hues.gray[dark ? 600 : 400].hex),\n      }\n    }\n\n    return {\n      bg: base.bg,\n      fg: base.fg,\n      border: base.border,\n      placeholder: mix(base.bg, hues.gray[dark ? 600 : 400].hex),\n    }\n  },\n\n  selectable: ({base, muted, tone, solid, state}) => {\n    if (state === 'enabled') {\n      return {\n        ...muted[tone].enabled,\n        bg: base.bg,\n      }\n    }\n\n    if (state === 'pressed') {\n      if (tone === 'default') {\n        return muted.primary.pressed\n      }\n\n      return muted[tone].pressed\n    }\n\n    if (state === 'selected') {\n      if (tone === 'default') {\n        return solid.primary.enabled\n      }\n\n      return solid[tone].enabled\n    }\n\n    if (state === 'disabled') {\n      return {\n        ...muted[tone].disabled,\n        bg: base.bg,\n      }\n    }\n\n    return muted[tone][state]\n  },\n\n  spot: ({base, dark, key}) => {\n    const mix = dark ? screen : multiply\n\n    return mix(base.bg, hues[key][dark ? 400 : 500].hex)\n  },\n\n  syntax: ({base, dark}) => {\n    const mix = dark ? screen : multiply\n    const mainShade = dark ? 400 : 600\n    const secondaryShade = dark ? 600 : 400\n\n    return {\n      atrule: mix(base.bg, hues.purple[mainShade].hex),\n      attrName: mix(base.bg, hues.green[mainShade].hex),\n      attrValue: mix(base.bg, hues.yellow[mainShade].hex),\n      attribute: mix(base.bg, hues.yellow[mainShade].hex),\n      boolean: mix(base.bg, hues.purple[mainShade].hex),\n      builtin: mix(base.bg, hues.purple[mainShade].hex),\n      cdata: mix(base.bg, hues.yellow[mainShade].hex),\n      char: mix(base.bg, hues.yellow[mainShade].hex),\n      class: mix(base.bg, hues.orange[mainShade].hex),\n      className: mix(base.bg, hues.cyan[mainShade].hex),\n      comment: mix(base.bg, hues.gray[secondaryShade].hex),\n      constant: mix(base.bg, hues.purple[mainShade].hex),\n      deleted: mix(base.bg, hues.red[mainShade].hex),\n      doctype: mix(base.bg, hues.gray[secondaryShade].hex),\n      entity: mix(base.bg, hues.red[mainShade].hex),\n      function: mix(base.bg, hues.green[mainShade].hex),\n      hexcode: mix(base.bg, hues.blue[mainShade].hex),\n      id: mix(base.bg, hues.purple[mainShade].hex),\n      important: mix(base.bg, hues.purple[mainShade].hex),\n      inserted: mix(base.bg, hues.yellow[mainShade].hex),\n      keyword: mix(base.bg, hues.magenta[mainShade].hex),\n      number: mix(base.bg, hues.purple[mainShade].hex),\n      operator: mix(base.bg, hues.magenta[mainShade].hex),\n      prolog: mix(base.bg, hues.gray[secondaryShade].hex),\n      property: mix(base.bg, hues.blue[mainShade].hex),\n      pseudoClass: mix(base.bg, hues.yellow[mainShade].hex),\n      pseudoElement: mix(base.bg, hues.yellow[mainShade].hex),\n      punctuation: mix(base.bg, hues.gray[mainShade].hex),\n      regex: mix(base.bg, hues.blue[mainShade].hex),\n      selector: mix(base.bg, hues.red[mainShade].hex),\n      string: mix(base.bg, hues.yellow[mainShade].hex),\n      symbol: mix(base.bg, hues.purple[mainShade].hex),\n      tag: mix(base.bg, hues.red[mainShade].hex),\n      unit: mix(base.bg, hues.orange[mainShade].hex),\n      url: mix(base.bg, hues.red[mainShade].hex),\n      variable: mix(base.bg, hues.red[mainShade].hex),\n    }\n  },\n})\n","import {ThemeFonts} from '../lib/theme'\n\nexport const fonts: ThemeFonts = {\n  code: {\n    family: '-apple-system-ui-monospace, \"SF Mono\", Menlo, Monaco, Consolas, monospace',\n    horizontalOffset: 0.075,\n    weights: {\n      regular: 400,\n      medium: 500,\n      semibold: 600,\n      bold: 700,\n    },\n    sizes: [\n      {\n        ascenderHeight: 3,\n        descenderHeight: 3,\n        fontSize: 10,\n        iconSize: 17,\n        lineHeight: 13,\n        letterSpacing: 0,\n      },\n      {\n        ascenderHeight: 4,\n        descenderHeight: 4,\n        fontSize: 13,\n        iconSize: 21,\n        lineHeight: 17,\n        letterSpacing: 0,\n      },\n      {\n        ascenderHeight: 5,\n        descenderHeight: 5,\n        fontSize: 16,\n        iconSize: 25,\n        lineHeight: 21,\n        letterSpacing: 0,\n      },\n      {\n        ascenderHeight: 6,\n        descenderHeight: 6,\n        fontSize: 19,\n        iconSize: 29,\n        lineHeight: 25,\n        letterSpacing: 0,\n      },\n      {\n        ascenderHeight: 7,\n        descenderHeight: 7,\n        fontSize: 22,\n        iconSize: 33,\n        lineHeight: 29,\n        letterSpacing: 0,\n      },\n    ],\n  },\n  heading: {\n    family:\n      '-apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, \"Helvetica Neue\", Helvetica, Arial, system-ui, sans-serif',\n    horizontalOffset: 0.075,\n    weights: {\n      regular: 700,\n      medium: 800,\n      semibold: 900,\n      bold: 900,\n    },\n    sizes: [\n      {\n        ascenderHeight: 4,\n        descenderHeight: 4,\n        fontSize: 12,\n        iconSize: 17,\n        lineHeight: 17,\n        letterSpacing: 0,\n      },\n      {\n        ascenderHeight: 5,\n        descenderHeight: 5,\n        fontSize: 16,\n        iconSize: 25,\n        lineHeight: 21,\n        letterSpacing: 0,\n      },\n      {\n        ascenderHeight: 6,\n        descenderHeight: 6,\n        fontSize: 21,\n        iconSize: 33,\n        lineHeight: 27,\n        letterSpacing: 0,\n      },\n      {\n        ascenderHeight: 7,\n        descenderHeight: 7,\n        fontSize: 27,\n        iconSize: 41,\n        lineHeight: 33,\n        letterSpacing: 0,\n      },\n      {\n        ascenderHeight: 9,\n        descenderHeight: 7,\n        fontSize: 33,\n        iconSize: 49,\n        lineHeight: 39,\n        letterSpacing: 0,\n      },\n      {\n        ascenderHeight: 10,\n        descenderHeight: 8,\n        fontSize: 38,\n        iconSize: 53,\n        lineHeight: 45,\n        letterSpacing: 0,\n      },\n    ],\n  },\n  label: {\n    family:\n      '-apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, \"Helvetica Neue\", system-ui, sans-serif',\n    horizontalOffset: 0.075,\n    weights: {\n      regular: 600,\n      medium: 700,\n      semibold: 800,\n      bold: 900,\n    },\n    sizes: [\n      {\n        ascenderHeight: 2,\n        descenderHeight: 2,\n        fontSize: 9.8,\n        iconSize: 15,\n        lineHeight: 11,\n        letterSpacing: 0.5,\n      },\n      {\n        ascenderHeight: 2,\n        descenderHeight: 2,\n        fontSize: 11.25,\n        iconSize: 17,\n        lineHeight: 12,\n        letterSpacing: 0.5,\n      },\n      {\n        ascenderHeight: 2,\n        descenderHeight: 2,\n        fontSize: 12.75,\n        iconSize: 19,\n        lineHeight: 13,\n        letterSpacing: 0.5,\n      },\n      {\n        ascenderHeight: 2,\n        descenderHeight: 2,\n        fontSize: 14,\n        iconSize: 21,\n        lineHeight: 14,\n        letterSpacing: 0.5,\n      },\n      {\n        ascenderHeight: 2,\n        descenderHeight: 2,\n        fontSize: 15.5,\n        iconSize: 23,\n        lineHeight: 15,\n        letterSpacing: 0.5,\n      },\n    ],\n  },\n  text: {\n    family:\n      '-apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, \"Helvetica Neue\", Helvetica, Arial, system-ui, sans-serif',\n    horizontalOffset: 0.075,\n    weights: {\n      regular: 400,\n      medium: 500,\n      semibold: 600,\n      bold: 700,\n    },\n    sizes: [\n      {\n        ascenderHeight: 3,\n        descenderHeight: 3,\n        fontSize: 10,\n        iconSize: 17,\n        lineHeight: 13,\n        letterSpacing: 0,\n      },\n      {\n        ascenderHeight: 4,\n        descenderHeight: 4,\n        fontSize: 13,\n        iconSize: 21,\n        lineHeight: 17,\n        letterSpacing: 0,\n      },\n      {\n        ascenderHeight: 5,\n        descenderHeight: 5,\n        fontSize: 16,\n        iconSize: 25,\n        lineHeight: 21,\n        letterSpacing: 0,\n      },\n      {\n        ascenderHeight: 6,\n        descenderHeight: 6,\n        fontSize: 19,\n        iconSize: 29,\n        lineHeight: 25,\n        letterSpacing: 0,\n      },\n      {\n        ascenderHeight: 7,\n        descenderHeight: 7,\n        fontSize: 22,\n        iconSize: 33,\n        lineHeight: 29,\n        letterSpacing: 0,\n      },\n    ],\n  },\n}\n","import {RootTheme} from '../types'\nimport {color} from './color'\nimport {fonts} from './fonts'\n\n/**\n * @public\n */\nexport const studioTheme: RootTheme = {\n  avatar: {\n    sizes: [\n      {distance: -3, size: 25},\n      {distance: -6, size: 35},\n      {distance: -9, size: 55},\n    ],\n  },\n  button: {\n    textWeight: 'medium',\n  },\n  color,\n  container: [320, 640, 960, 1280, 1600, 1920],\n  focusRing: {\n    offset: 1,\n    width: 2,\n  },\n  fonts,\n  media: [360, 600, 900, 1200, 1800, 2400],\n  radius: [0, 1, 3, 6, 9, 12, 21],\n  shadows: [\n    null,\n    {umbra: [0, 0, 0, 0], penumbra: [0, 0, 0, 0], ambient: [0, 0, 0, 0]},\n    {umbra: [0, 3, 5, -1], penumbra: [0, 6, 10, 0], ambient: [0, 1, 18, 0]},\n    {umbra: [0, 7, 8, -4], penumbra: [0, 12, 17, 2], ambient: [0, 5, 22, 4]},\n    {umbra: [0, 9, 11, -5], penumbra: [0, 18, 28, 2], ambient: [0, 7, 34, 6]},\n    {umbra: [0, 11, 15, -7], penumbra: [0, 24, 38, 3], ambient: [0, 9, 46, 8]},\n  ],\n  space: [0, 4, 8, 12, 20, 32, 52, 84, 136, 220],\n  input: {\n    checkbox: {\n      size: 17,\n    },\n    radio: {\n      size: 17,\n      markSize: 9,\n    },\n    switch: {\n      width: 33,\n      height: 17,\n      padding: 4,\n      transitionDurationMs: 150,\n      transitionTimingFunction: 'ease-out',\n    },\n    border: {\n      width: 1,\n    },\n  },\n  // styles: {\n  //   button: {\n  //     root: {\n  //       transition: 'background-color 100ms,border-color 100ms,color 100ms',\n  //     },\n  //   },\n  //   card: {\n  //     root: {\n  //       transition: 'background-color 100ms,border-color 100ms,color 100ms',\n  //     },\n  //   },\n  // },\n}\n","import {ThemeLayer} from './lib/theme/layer'\n\nexport const DEFAULT_THEME_LAYER: ThemeLayer = {\n  dialog: {zOffset: 600},\n  popover: {zOffset: 400},\n  tooltip: {zOffset: 200},\n}\n","/**\n * Gets the global scope instance in a given environment.\n *\n * The strategy is to return the most modern, and if not, the most common:\n * - The `globalThis` variable is the modern approach to accessing the global scope\n * - The `window` variable is the global scope in a web browser\n * - The `self` variable is the global scope in workers and others\n * - The `global` variable is the global scope in Node.js\n */\nfunction getGlobalScope() {\n  if (typeof globalThis !== 'undefined') return globalThis\n  if (typeof window !== 'undefined') return window\n  if (typeof self !== 'undefined') return self\n  if (typeof global !== 'undefined') return global\n\n  throw new Error('@sanity/ui: could not locate global scope')\n}\n\nexport const globalScope = getGlobalScope() as any\n","import {createContext} from 'react'\nimport {globalScope} from '../lib/globalScope'\nimport {ThemeContextValue} from './types'\n\nconst key = Symbol.for('@sanity/ui/context/theme')\n\nglobalScope[key] = globalScope[key] || createContext<ThemeContextValue | null>(null)\n\n/**\n * @internal\n */\nexport const ThemeContext: React.Context<ThemeContextValue | null> = globalScope[key]\n","import React, {useContext, useMemo} from 'react'\nimport {ThemeProvider as StyledThemeProvider} from 'styled-components'\nimport {DEFAULT_THEME_LAYER} from './defaults'\nimport {ThemeColorSchemeKey, ThemeColorName} from './lib/theme'\nimport {ThemeContext} from './themeContext'\nimport {RootTheme, Theme, ThemeContextValue} from './types'\n\n/**\n * @public\n */\nexport interface ThemeProviderProps {\n  children?: React.ReactNode\n  scheme?: ThemeColorSchemeKey\n  theme?: RootTheme\n  tone?: ThemeColorName\n}\n\n/**\n * @public\n */\nexport function ThemeProvider(props: ThemeProviderProps): React.ReactElement {\n  const parentTheme = useContext(ThemeContext)\n  const {\n    children,\n    scheme = parentTheme?.scheme || 'light',\n    theme: themeProp = parentTheme?.theme || null,\n    tone = parentTheme?.tone || 'default',\n  } = props\n\n  const theme: Theme | null = useMemo(() => {\n    if (!themeProp) return null\n\n    const {color: rootColor, layer: rootLayer, ...restTheme} = themeProp\n    const colorScheme = rootColor[scheme] || rootColor.light\n    const color = colorScheme[tone] || colorScheme.default\n    const layer = rootLayer || DEFAULT_THEME_LAYER\n\n    return {sanity: {...restTheme, color, layer}}\n  }, [scheme, themeProp, tone])\n\n  const value: ThemeContextValue | null = useMemo(\n    () =>\n      themeProp && {\n        version: 0.0,\n        theme: themeProp,\n        scheme,\n        tone,\n      },\n    [themeProp, scheme, tone]\n  )\n\n  if (!theme) {\n    return <pre>ThemeProvider: no \"theme\" property provided</pre>\n  }\n\n  return (\n    <ThemeContext.Provider value={value}>\n      <StyledThemeProvider theme={theme}>{children}</StyledThemeProvider>\n    </ThemeContext.Provider>\n  )\n}\n","export function isRecord(value: unknown): value is Record<string, unknown> {\n  return Boolean(value && typeof value === 'object')\n}\n","import {useContext} from 'react'\nimport {isRecord} from '../lib/isRecord'\nimport {ThemeContext} from './themeContext'\nimport {ThemeContextValue} from './types'\n\n/**\n * @public\n */\nexport function useRootTheme(): ThemeContextValue {\n  const value: unknown = useContext(ThemeContext)\n\n  if (!value) {\n    throw new Error('useRootTheme(): missing context value')\n  }\n\n  // NOTE: This check is for future-compatiblity\n  // - If the value is not an object, it’s not compatible with the current version\n  // - If the value is an object, but doesn’t have `version: 0.0`, it’s not compatible with the current version\n  if (!isRecord(value) || value.version !== 0.0) {\n    throw new Error('useRootTheme(): the context value is not compatible')\n  }\n\n  return value as any as ThemeContextValue\n}\n","import React from 'react'\nimport {ThemeColorName, ThemeColorSchemeKey} from './lib/theme'\nimport {ThemeProvider} from './themeProvider'\nimport {useRootTheme} from './useRootTheme'\n\n/**\n * @public\n */\nexport interface ThemeColorProviderProps {\n  children?: React.ReactNode\n  scheme?: ThemeColorSchemeKey\n  tone?: ThemeColorName\n}\n\n/**\n * @public\n */\nexport function ThemeColorProvider(props: ThemeColorProviderProps): React.ReactElement {\n  const {children, scheme, tone} = props\n  const root = useRootTheme()\n\n  return (\n    <ThemeProvider scheme={scheme || root.scheme} theme={root.theme} tone={tone}>\n      {children}\n    </ThemeProvider>\n  )\n}\n","import {useTheme as useStyledTheme} from 'styled-components'\n\nimport {Theme} from './types'\n\n/**\n * @public\n */\nexport function useTheme(): Theme {\n  return useStyledTheme() as Theme\n}\n","/**\n * @internal\n */\nexport interface _MediaManager {\n  getCurrentIndex: () => number\n  subscribe: (subscriber: (index: number) => void) => () => void\n}\n\nconst MEDIA_MANAGER_CACHE = new WeakMap<number[], _MediaManager>()\n\nfunction _getMediaQuery(media: number[], index: number) {\n  if (index === 0) {\n    return `screen and (max-width: ${media[index] - 1}px)`\n  }\n\n  if (index === media.length) {\n    return `screen and (min-width: ${media[index - 1]}px)`\n  }\n\n  return `screen and (min-width: ${media[index - 1]}px) and (max-width: ${media[index] - 1}px)`\n}\n\nfunction _createMediaManager(media: number[]): _MediaManager {\n  const mediaLen = media.length\n  const sizes: {mq: MediaQueryList; index: number}[] = []\n\n  if (typeof window !== 'undefined') {\n    for (let index = mediaLen; index > -1; index -= 1) {\n      const mediaQuery = _getMediaQuery(media, index)\n\n      sizes.push({index, mq: window.matchMedia(mediaQuery)})\n    }\n  }\n\n  const getCurrentIndex = () => {\n    for (const {index, mq} of sizes) {\n      if (mq.matches) return index\n    }\n\n    return 0\n  }\n\n  const subscribe = (subscriber: (index: number) => void) => {\n    const disposeFns: (() => void)[] = []\n\n    for (const {index, mq} of sizes) {\n      const handleChange = () => {\n        if (mq.matches) subscriber(index)\n      }\n\n      if (mq.addEventListener) {\n        mq.addEventListener('change', handleChange)\n      } else {\n        mq.addListener(handleChange)\n      }\n\n      disposeFns.push(() => {\n        if (mq.removeEventListener) {\n          mq.removeEventListener('change', handleChange)\n        } else {\n          mq.removeListener(handleChange)\n        }\n      })\n    }\n\n    return () => {\n      for (const disposeFn of disposeFns) {\n        disposeFn()\n      }\n    }\n  }\n\n  return {getCurrentIndex, subscribe}\n}\n\n/**\n * @internal\n */\nexport function _getMediaManager(media: number[]): _MediaManager {\n  let manager = MEDIA_MANAGER_CACHE.get(media)\n\n  if (!manager) {\n    manager = _createMediaManager(media)\n    MEDIA_MANAGER_CACHE.set(media, manager)\n  }\n\n  return manager\n}\n","import {useEffect, useMemo, useState} from 'react'\nimport {useTheme} from '../../theme'\nimport {_getMediaManager} from './lib/media'\n\n/**\n * This API might change. DO NOT USE IN PRODUCTION.\n * @beta\n */\nexport function useMediaIndex(): number {\n  const theme = useTheme()\n  const {media} = theme.sanity\n  const manager = useMemo(() => _getMediaManager(media), [media])\n  const [index, setIndex] = useState(manager.getCurrentIndex)\n\n  useEffect(() => manager.subscribe(setIndex), [manager])\n\n  return index\n}\n","import {useEffect, useState} from 'react'\n\n/**\n * @public\n */\nexport function usePrefersDark(): boolean {\n  const [dark, setDark] = useState(false)\n\n  useEffect(() => {\n    const mq = window.matchMedia('(prefers-color-scheme: dark)')\n\n    setDark(mq.matches)\n\n    const handleChange = () => setDark(mq.matches)\n\n    mq.addEventListener('change', handleChange)\n\n    return () => mq.removeEventListener('change', handleChange)\n  }, [])\n\n  return dark\n}\n","import {useEffect, useLayoutEffect} from 'react'\n\n/**\n * @beta\n */\nexport const useIsomorphicEffect = typeof window !== 'undefined' ? useLayoutEffect : useEffect\n","import React, {useRef} from 'react'\nimport {useIsomorphicEffect} from './useIsomorphicEffect'\n\n/**\n * @beta\n */\nexport function useForwardedRef<T>(ref: React.ForwardedRef<T>): React.MutableRefObject<T | null> {\n  const innerRef = useRef<T | null>(null)\n\n  useIsomorphicEffect(() => {\n    if (!ref) return\n\n    if (typeof ref === 'function') {\n      ref(innerRef.current)\n    } else {\n      ref.current = innerRef.current\n    }\n  })\n\n  return innerRef\n}\n","import {useEffect} from 'react'\n\n/**\n * @beta\n */\nexport function useCustomValidity(\n  ref: {current: null | {setCustomValidity: (validity: string) => void}},\n  customValidity: string | undefined\n): void {\n  useEffect(() => {\n    if (ref.current) {\n      ref.current.setCustomValidity(customValidity || '')\n    }\n  }, [customValidity, ref])\n}\n","import {CSSObject} from 'styled-components'\nimport {EMPTY_ARRAY} from '../constants'\nimport {Theme} from '../theme'\n\n/**\n * @internal\n */\nexport function fillCSSObject(propKeys: string[], value: unknown): CSSObject {\n  return propKeys.reduce((obj: CSSObject, propKey) => {\n    obj[propKey] = value as any\n\n    return obj\n  }, {})\n}\n\n/**\n * @public\n */\nexport function rem(pixelValue: number): string | 0 {\n  if (pixelValue === 0) return 0\n\n  return `${pixelValue / 16}rem`\n}\n\n/**\n * @internal\n */\nexport function responsive<T>(\n  media: number[],\n  values: T[],\n  callback: (value: T, index: number, array: T[]) => CSSObject\n): CSSObject[] {\n  const statements = values.map(callback)\n\n  return statements.map((statement, mediaIndex) => {\n    if (mediaIndex === 0) return statement\n\n    return {[`@media screen and (min-width: ${media[mediaIndex - 1]}px)`]: statement}\n  })\n}\n\n/**\n * @internal\n */\nexport function getResponsiveProp<T = number>(val: T | T[] | undefined, defaultVal?: T[]): T[] {\n  if (val === undefined) return defaultVal || EMPTY_ARRAY\n\n  return Array.isArray(val) ? val : [val]\n}\n\n/**\n * @internal\n */\nexport function getResponsiveSpace(\n  theme: Theme,\n  props: string[],\n  spaceIndexes: number[] = EMPTY_ARRAY\n): CSSObject[] | null {\n  if (!Array.isArray(spaceIndexes)) {\n    throw new Error('the property must be array of numbers')\n  }\n\n  if (spaceIndexes.length === 0) {\n    return null\n  }\n\n  return responsive(theme.sanity.media, spaceIndexes, (spaceIndex) =>\n    fillCSSObject(props, rem(theme.sanity.space[spaceIndex]))\n  )\n}\n","import {CSSObject} from 'styled-components'\nimport {ThemeFontSize, ThemeFontKey} from '../../theme'\nimport {getResponsiveProp, rem, responsive} from '../helpers'\nimport {ThemeProps} from '../types'\nimport {ResponsiveFontStyleProps} from './types'\n\n/**\n * A utility function getting responsive font styles.\n * @internal\n */\nexport function responsiveFont(\n  fontKey: ThemeFontKey,\n  props: ResponsiveFontStyleProps & ThemeProps\n): CSSObject[] {\n  const {$size, $weight, theme} = props\n  const {fonts, media} = theme.sanity\n  const {family, sizes, weights, horizontalOffset} = fonts[fontKey]\n  const fontWeight = ($weight && weights[$weight]) || weights.regular\n\n  // @todo: make this configurable\n  const defaultSize = sizes[2]\n\n  const base: CSSObject = {\n    position: 'relative',\n    fontFamily: family,\n    fontWeight,\n    padding: '1px',\n    margin: 0,\n\n    '&:before': {\n      content: '\"\"',\n      display: 'block',\n      height: 0,\n    },\n\n    '&:after': {\n      content: '\"\"',\n      display: 'block',\n      height: 0,\n    },\n\n    '& > code, & > span': {\n      display: 'block',\n    },\n\n    '&:not([hidden])': {\n      display: 'block',\n    },\n  }\n\n  const resp = responsive(media, getResponsiveProp($size), (sizeIndex) =>\n    fontSize(sizes[sizeIndex] || defaultSize, horizontalOffset)\n  )\n\n  return [base, ...resp]\n}\n\nexport function fontSize(size: ThemeFontSize, horizontalOffset?: number): CSSObject {\n  const {ascenderHeight, descenderHeight, fontSize, iconSize, letterSpacing, lineHeight} = size\n  const negHeight = ascenderHeight + descenderHeight\n  const capHeight = lineHeight - negHeight\n  const iconOffset = (capHeight - iconSize) / 2\n  const customIconSize = Math.floor((fontSize * 1.125) / 2) * 2 + 1\n  const customIconOffset = (capHeight - customIconSize) / 2\n\n  return {\n    fontSize: rem(fontSize),\n    lineHeight: `calc(${lineHeight} / ${fontSize})`,\n    letterSpacing: rem(letterSpacing),\n    transform: `translateY(${rem(descenderHeight)})`,\n\n    '&:before': {\n      marginTop: `calc(${rem(0 - negHeight)} - 1px)`,\n    },\n\n    '&:after': {\n      marginBottom: '-1px',\n    },\n\n    '& > code, & > span': {\n      margin: horizontalOffset ? `0 calc(${rem(0 - horizontalOffset * fontSize)} - 1px)` : '0 -1px',\n    },\n\n    '& svg:not([data-sanity-icon])': {\n      fontSize: `calc(${customIconSize} / 16 * 1rem)`,\n      margin: [\n        // top & bottom\n        rem(customIconOffset),\n        // left & right\n        horizontalOffset\n          ? `calc(${rem(customIconOffset)} + ${rem(horizontalOffset * fontSize)})`\n          : rem(customIconOffset),\n      ].join(' '),\n    },\n\n    '& [data-sanity-icon]': {\n      fontSize: `calc(${iconSize} / 16 * 1rem)`,\n      margin: [\n        // top & bottom\n        rem(iconOffset),\n        // left & right\n        horizontalOffset\n          ? `calc(${rem(iconOffset)} + ${rem(horizontalOffset * fontSize)})`\n          : rem(iconOffset),\n      ].join(' '),\n    },\n  }\n}\n","import {CSSObject} from 'styled-components'\nimport {ThemeProps} from '../types'\nimport {responsiveFont} from './responsiveFont'\nimport {ResponsiveFontStyleProps} from './types'\n\n/**\n * Get responsive CSS for the `code` font style.\n * @internal\n */\nexport function responsiveCodeFontStyle(props: ResponsiveFontStyleProps & ThemeProps): CSSObject[] {\n  return responsiveFont('code', props)\n}\n","import {CSSObject} from 'styled-components'\nimport {ThemeProps} from '../types'\nimport {responsiveFont} from './responsiveFont'\nimport {ResponsiveFontStyleProps} from './types'\n\n/**\n * Get responsive CSS for the `heading` font style.\n * @internal\n */\nexport function responsiveHeadingFont(props: ResponsiveFontStyleProps & ThemeProps): CSSObject[] {\n  return responsiveFont('heading', props)\n}\n","import {CSSObject} from 'styled-components'\nimport {ThemeProps} from '../types'\nimport {responsiveFont} from './responsiveFont'\nimport {ResponsiveFontStyleProps} from './types'\n\n/**\n * Get responsive CSS for the `label` font style.\n * @internal\n */\nexport function responsiveLabelFont(props: ResponsiveFontStyleProps & ThemeProps): CSSObject[] {\n  return responsiveFont('label', props)\n}\n","import {CSSObject} from 'styled-components'\nimport {getResponsiveProp, responsive} from '../helpers'\nimport {ThemeProps} from '../types'\nimport {ResponsiveTextAlignStyleProps} from './types'\n\n/**\n * Get responsive text align styles.\n * @internal\n */\nexport function responsiveTextAlignStyle(\n  props: ResponsiveTextAlignStyleProps & ThemeProps\n): CSSObject[] {\n  const {theme} = props\n\n  return responsive(theme.sanity.media, getResponsiveProp(props.$align), (textAlign) => {\n    return {textAlign}\n  })\n}\n","import {CSSObject} from 'styled-components'\nimport {ThemeProps} from '../types'\nimport {responsiveFont} from './responsiveFont'\nimport {ResponsiveFontStyleProps} from './types'\n\n/**\n * Get responsive CSS for the `text` font style.\n * @internal\n */\nexport function responsiveTextFont(props: ResponsiveFontStyleProps & ThemeProps): CSSObject[] {\n  return responsiveFont('text', props)\n}\n","import {useMemo} from 'react'\nimport {getResponsiveProp} from '../styles'\n\n/**\n * This API might change. DO NOT USE IN PRODUCTION.\n * @beta\n */\nexport function useResponsiveProp<T = number>(val: T | T[] | undefined, defaultVal?: T[]): T[] {\n  return useMemo(() => getResponsiveProp(val, defaultVal), [defaultVal, val])\n}\n","import {CSSObject} from 'styled-components'\nimport {getResponsiveProp, responsive} from '../helpers'\nimport {ThemeProps} from '../types'\nimport {ResponsiveBorderStyleProps} from './types'\n\nconst BORDER_VALUE = '1px solid var(--card-border-color)'\n\nexport function responsiveBorderStyle(): Array<\n  (props: ResponsiveBorderStyleProps & ThemeProps) => CSSObject[]\n> {\n  return [border, borderTop, borderRight, borderBottom, borderLeft]\n}\n\nfunction border(props: ResponsiveBorderStyleProps & ThemeProps) {\n  const {theme} = props\n  const {media} = theme.sanity\n\n  return responsive(media, getResponsiveProp(props.$border), (value) =>\n    value ? {'&&': {border: BORDER_VALUE}} : {'&&': {border: 0}}\n  )\n}\n\nfunction borderTop(props: ResponsiveBorderStyleProps & ThemeProps) {\n  const {theme} = props\n  const {media} = theme.sanity\n\n  return responsive(media, getResponsiveProp(props.$borderTop), (value) =>\n    value ? {'&&': {borderTop: BORDER_VALUE}} : {'&&': {borderTop: 0}}\n  )\n}\n\nfunction borderRight(props: ResponsiveBorderStyleProps & ThemeProps) {\n  const {theme} = props\n  const {media} = theme.sanity\n\n  return responsive(media, getResponsiveProp(props.$borderRight), (value) =>\n    value ? {'&&': {borderRight: BORDER_VALUE}} : {'&&': {borderRight: 0}}\n  )\n}\n\nfunction borderBottom(props: ResponsiveBorderStyleProps & ThemeProps) {\n  const {theme} = props\n  const {media} = theme.sanity\n\n  return responsive(media, getResponsiveProp(props.$borderBottom), (value) =>\n    value ? {'&&': {borderBottom: BORDER_VALUE}} : {'&&': {borderBottom: 0}}\n  )\n}\n\nfunction borderLeft(props: ResponsiveBorderStyleProps & ThemeProps) {\n  const {theme} = props\n  const {media} = theme.sanity\n\n  return responsive(media, getResponsiveProp(props.$borderLeft), (value) =>\n    value ? {'&&': {borderLeft: BORDER_VALUE}} : {'&&': {borderLeft: 0}}\n  )\n}\n","import {Property} from 'csstype'\nimport {CSSObject} from 'styled-components'\nimport {getResponsiveProp, responsive} from '../helpers'\nimport {ThemeProps} from '../types'\nimport {ResponsiveBoxStyleProps} from './types'\n\nconst BASE_STYLE: CSSObject = {\n  '&[data-as=\"ul\"],&[data-as=\"ol\"]': {\n    listStyle: 'none',\n  },\n}\n\nconst BOX_SIZING: {[key: string]: Property.BoxSizing} = {\n  content: 'content-box',\n  border: 'border-box',\n}\n\nconst BOX_HEIGHT = {\n  stretch: 'stretch',\n  fill: '100%',\n}\n\nexport function boxStyle(): CSSObject {\n  return BASE_STYLE\n}\n\nexport function responsiveBoxStyle(): Array<\n  (props: ResponsiveBoxStyleProps & ThemeProps) => CSSObject[]\n> {\n  return [\n    responsiveBoxSizingStyle,\n    responsiveBoxHeightStyle,\n    responsiveBoxOverflowStyle,\n    responsiveBoxDisplayStyle,\n  ]\n}\n\nfunction responsiveBoxDisplayStyle(props: ResponsiveBoxStyleProps & ThemeProps) {\n  const {theme} = props\n  const {media} = theme.sanity\n\n  return responsive(media, getResponsiveProp(props.$display), (display) => ({\n    '&:not([hidden])': {display},\n  }))\n}\n\nfunction responsiveBoxSizingStyle(props: ResponsiveBoxStyleProps & ThemeProps) {\n  const {theme} = props\n  const {media} = theme.sanity\n\n  return responsive(media, getResponsiveProp(props.$sizing), (sizing) => ({\n    boxSizing: BOX_SIZING[sizing],\n  }))\n}\n\nfunction responsiveBoxHeightStyle(props: ResponsiveBoxStyleProps & ThemeProps) {\n  const {theme} = props\n  const {media} = theme.sanity\n\n  return responsive(media, getResponsiveProp(props.$height), (height) => ({\n    height: BOX_HEIGHT[height],\n  }))\n}\n\nfunction responsiveBoxOverflowStyle(props: ResponsiveBoxStyleProps & ThemeProps) {\n  const {theme} = props\n  const {media} = theme.sanity\n\n  return responsive(media, getResponsiveProp(props.$overflow), (overflow) => ({\n    overflow,\n  }))\n}\n","import {CSSObject} from 'styled-components'\nimport {getResponsiveProp, rem, responsive} from '../helpers'\nimport {ThemeProps} from '../types'\nimport {ResponsiveFlexStyleProps} from './types'\n\nconst BASE_STYLE: CSSObject = {\n  '&&:not([hidden])': {\n    display: 'flex',\n  },\n}\n\nexport function responsiveFlexStyle(): Array<\n  CSSObject | ((props: ResponsiveFlexStyleProps & ThemeProps) => CSSObject[])\n> {\n  return [\n    BASE_STYLE,\n    responsiveFlexAlignStyle,\n    responsiveFlexGapStyle,\n    responsiveFlexWrapStyle,\n    responsiveFlexJustifyStyle,\n    responsiveFlexDirectionStyle,\n  ]\n}\n\nexport function responsiveFlexAlignStyle(\n  props: ResponsiveFlexStyleProps & ThemeProps\n): CSSObject[] {\n  const {theme} = props\n  const {media} = theme.sanity\n\n  return responsive(media, getResponsiveProp(props.$align), (align) => {\n    return {alignItems: align}\n  })\n}\n\nfunction responsiveFlexGapStyle(props: ResponsiveFlexStyleProps & ThemeProps) {\n  const {theme} = props\n  const {media, space} = theme.sanity\n\n  return responsive(media, getResponsiveProp(props.$gap), (gap) => ({\n    gap: gap ? rem(space[gap]) : undefined,\n  }))\n}\n\nexport function responsiveFlexWrapStyle(props: ResponsiveFlexStyleProps & ThemeProps): CSSObject[] {\n  const {theme} = props\n  const {media} = theme.sanity\n\n  return responsive(media, getResponsiveProp(props.$wrap), (wrap) => {\n    return {flexWrap: wrap}\n  })\n}\n\nexport function responsiveFlexJustifyStyle(\n  props: ResponsiveFlexStyleProps & ThemeProps\n): CSSObject[] {\n  const {theme} = props\n  const {media} = theme.sanity\n\n  return responsive(media, getResponsiveProp(props.$justify), (justify) => {\n    return {justifyContent: justify}\n  })\n}\n\nexport function responsiveFlexDirectionStyle(\n  props: ResponsiveFlexStyleProps & ThemeProps\n): CSSObject[] {\n  const {theme} = props\n  const {media} = theme.sanity\n\n  return responsive(media, getResponsiveProp(props.$direction), (direction) => {\n    return {flexDirection: direction}\n  })\n}\n","import {CSSObject} from 'styled-components'\nimport {getResponsiveProp, responsive} from '../helpers'\nimport {ThemeProps} from '../types'\nimport {ResponsiveFlexItemStyleProps} from './types'\n\nconst BASE_STYLE: CSSObject = {\n  minWidth: 0,\n  minHeight: 0,\n}\n\nexport function flexItemStyle(): Array<\n  CSSObject | ((props: ResponsiveFlexItemStyleProps & ThemeProps) => CSSObject[])\n> {\n  return [BASE_STYLE, responsiveFlexItemStyle]\n}\n\nexport function responsiveFlexItemStyle(\n  props: ResponsiveFlexItemStyleProps & ThemeProps\n): CSSObject[] {\n  const {theme} = props\n  const {media} = theme.sanity\n\n  return responsive(media, getResponsiveProp(props.$flex), (flex) => ({flex}))\n}\n","export function focusRingBorderStyle(border: {color: string; width: number}): string {\n  return `inset 0 0 0 ${border.width}px ${border.color}`\n}\n\nexport function focusRingStyle(opts: {\n  base?: {bg: string}\n  border?: {color: string; width: number}\n  focusRing: {offset: number; width: number}\n}): string {\n  const {base, border, focusRing} = opts\n  const focusRingOutsetWidth = focusRing.offset + focusRing.width\n  const focusRingInsetWidth = 0 - focusRing.offset\n  const bgColor = base ? base.bg : 'var(--card-bg-color)'\n\n  return [\n    focusRingInsetWidth > 0 && `inset 0 0 0 ${focusRingInsetWidth}px var(--card-focus-ring-color)`,\n    border && focusRingBorderStyle(border),\n    focusRingInsetWidth < 0 && `0 0 0 ${0 - focusRingInsetWidth}px ${bgColor}`,\n    focusRingOutsetWidth > 0 && `0 0 0 ${focusRingOutsetWidth}px var(--card-focus-ring-color)`,\n  ]\n    .filter(Boolean)\n    .join(',')\n}\n","import {CSSObject} from 'styled-components'\nimport {getResponsiveProp, rem, responsive} from '../helpers'\nimport {ThemeProps} from '../types'\nimport {ResponsiveGridStyleProps} from './types'\n\nconst GRID_CSS = {\n  '&&:not([hidden])': {\n    display: 'grid',\n  },\n  '&[data-as=\"ul\"],&[data-as=\"ol\"]': {\n    listStyle: 'none',\n  },\n}\n\nconst GRID_AUTO_COLUMS = {\n  auto: 'auto',\n  min: 'min-content',\n  max: 'max-content',\n  fr: 'minmax(0, 1fr)',\n}\n\nconst GRID_AUTO_ROWS = {\n  auto: 'auto',\n  min: 'min-content',\n  max: 'max-content',\n  fr: 'minmax(0, 1fr)',\n}\n\nexport function responsiveGridStyle(): Array<\n  CSSObject | ((props: ResponsiveGridStyleProps & ThemeProps) => CSSObject[])\n> {\n  return [\n    GRID_CSS,\n    responsiveGridAutoFlowStyle,\n    responsiveGridAutoRowsStyle,\n    responsiveGridAutoColsStyle,\n    responsiveGridColumnsStyle,\n    responsiveGridRowsStyle,\n    responsiveGridGapStyle,\n    responsiveGridGapXStyle,\n    responsiveGridGapYStyle,\n  ]\n}\n\nfunction responsiveGridAutoFlowStyle(props: ResponsiveGridStyleProps & ThemeProps) {\n  const {theme} = props\n  const {media} = theme.sanity\n\n  return responsive(media, getResponsiveProp(props.$autoFlow), (autoFlow) => ({\n    gridAutoFlow: autoFlow,\n  }))\n}\n\nfunction responsiveGridAutoRowsStyle(props: ResponsiveGridStyleProps & ThemeProps) {\n  const {theme} = props\n  const {media} = theme.sanity\n\n  return responsive(media, getResponsiveProp(props.$autoRows), (autoRows) => ({\n    gridAutoRows: autoRows && GRID_AUTO_ROWS[autoRows],\n  }))\n}\n\nfunction responsiveGridAutoColsStyle(props: ResponsiveGridStyleProps & ThemeProps) {\n  const {theme} = props\n  const {media} = theme.sanity\n\n  return responsive(media, getResponsiveProp(props.$autoCols), (autoCols) => ({\n    gridAutoColumns: autoCols && GRID_AUTO_COLUMS[autoCols],\n  }))\n}\n\nfunction responsiveGridColumnsStyle(props: ResponsiveGridStyleProps & ThemeProps) {\n  const {theme} = props\n  const {media} = theme.sanity\n\n  return responsive(media, getResponsiveProp(props.$columns), (columns) => ({\n    gridTemplateColumns: columns && `repeat(${columns},minmax(0,1fr));`,\n  }))\n}\n\nfunction responsiveGridRowsStyle(props: ResponsiveGridStyleProps & ThemeProps) {\n  const {theme} = props\n  const {media} = theme.sanity\n\n  return responsive(media, getResponsiveProp(props.$rows), (rows) => ({\n    gridTemplateRows: rows && `repeat(${rows},minmax(0,1fr));`,\n  }))\n}\n\nfunction responsiveGridGapStyle(props: ResponsiveGridStyleProps & ThemeProps) {\n  const {theme} = props\n  const {media, space} = theme.sanity\n\n  return responsive(media, getResponsiveProp(props.$gap), (gap) => ({\n    gridGap: gap ? rem(space[gap]) : undefined,\n  }))\n}\n\nfunction responsiveGridGapXStyle(props: ResponsiveGridStyleProps & ThemeProps) {\n  const {theme} = props\n  const {media, space} = theme.sanity\n\n  return responsive(media, getResponsiveProp(props.$gapX), (gapX) => ({\n    columnGap: gapX ? rem(space[gapX]) : undefined,\n  }))\n}\n\nfunction responsiveGridGapYStyle(props: ResponsiveGridStyleProps & ThemeProps) {\n  const {theme} = props\n  const {media, space} = theme.sanity\n\n  return responsive(media, getResponsiveProp(props.$gapY), (gapY) => ({\n    rowGap: gapY ? rem(space[gapY]) : undefined,\n  }))\n}\n","import {CSSObject} from 'styled-components'\nimport {getResponsiveProp, responsive} from '../helpers'\nimport {ThemeProps} from '../types'\nimport {ResponsiveGridItemStyleProps} from './types'\n\nexport function responsiveGridItemStyle(): Array<\n  (props: ResponsiveGridItemStyleProps & ThemeProps) => CSSObject[]\n> {\n  return [\n    responsiveGridItemRowStyle,\n    responsiveGridItemRowStartStyle,\n    responsiveGridItemRowEndStyle,\n    responsiveGridItemColumnStyle,\n    responsiveGridItemColumnStartStyle,\n    responsiveGridItemColumnEndStyle,\n  ]\n}\n\nconst GRID_ITEM_ROW = {\n  auto: 'auto',\n  full: '1 / -1',\n}\n\nconst GRID_ITEM_COLUMN = {\n  auto: 'auto',\n  full: '1 / -1',\n}\n\nfunction responsiveGridItemRowStyle(props: ResponsiveGridItemStyleProps & ThemeProps) {\n  const {theme} = props\n  const {media} = theme.sanity\n\n  return responsive(media, getResponsiveProp(props.$row), (row) => {\n    if (typeof row === 'number') {\n      return {gridRow: `span ${row} / span ${row}`}\n    }\n\n    return {gridRow: GRID_ITEM_ROW[row]}\n  })\n}\n\nfunction responsiveGridItemRowStartStyle(props: ResponsiveGridItemStyleProps & ThemeProps) {\n  const {theme} = props\n  const {media} = theme.sanity\n\n  return responsive(media, getResponsiveProp(props.$rowStart), (rowStart) => ({\n    gridRowStart: rowStart,\n  }))\n}\n\nfunction responsiveGridItemRowEndStyle(props: ResponsiveGridItemStyleProps & ThemeProps) {\n  const {theme} = props\n  const {media} = theme.sanity\n\n  return responsive(media, getResponsiveProp(props.$rowEnd), (rowEnd) => ({gridRowEnd: rowEnd}))\n}\n\nfunction responsiveGridItemColumnStyle(props: ResponsiveGridItemStyleProps & ThemeProps) {\n  const {theme} = props\n  const {media} = theme.sanity\n\n  return responsive(media, getResponsiveProp(props.$column), (column) => {\n    if (typeof column === 'number') {\n      return {gridColumn: `span ${column} / span ${column}`}\n    }\n\n    return {gridColumn: GRID_ITEM_COLUMN[column]}\n  })\n}\n\nfunction responsiveGridItemColumnStartStyle(props: ResponsiveGridItemStyleProps & ThemeProps) {\n  const {theme} = props\n  const {media} = theme.sanity\n\n  return responsive(media, getResponsiveProp(props.$columnStart), (columnStart) => ({\n    gridColumnStart: columnStart,\n  }))\n}\n\nfunction responsiveGridItemColumnEndStyle(props: ResponsiveGridItemStyleProps & ThemeProps) {\n  const {theme} = props\n  const {media} = theme.sanity\n\n  return responsive(media, getResponsiveProp(props.$columnEnd), (columnEnd) => ({\n    gridColumnEnd: columnEnd,\n  }))\n}\n","import {CSSObject} from 'styled-components'\nimport {getResponsiveProp, rem, responsive} from '../helpers'\nimport {ThemeProps} from '../types'\n\nexport interface TextInputResponsivePaddingStyleProps {\n  $fontSize?: number | number[]\n  $iconLeft?: boolean\n  $iconRight?: boolean\n  $padding?: number | number[]\n  $space?: number | number[]\n}\n\nexport function responsiveInputPaddingStyle(\n  props: TextInputResponsivePaddingStyleProps & ThemeProps\n): CSSObject[] {\n  const {$iconLeft, $iconRight, theme} = props\n  const {fonts, media, space: spaceScale} = theme.sanity\n  const padding = getResponsiveProp(props.$padding, [0])\n  const space = getResponsiveProp(props.$space, [0])\n  const size = getResponsiveProp(props.$fontSize, [0])\n  const len = Math.max(padding.length, space.length, size.length)\n  const _padding: number[] = []\n  const _space: number[] = []\n  const _size: number[] = []\n\n  for (let i = 0; i < len; i += 1) {\n    _padding[i] = padding[i] === undefined ? _padding[i - 1] : padding[i]\n    _space[i] = space[i] === undefined ? _space[i - 1] : space[i]\n    _size[i] = size[i] === undefined ? _size[i - 1] : size[i]\n  }\n\n  return responsive(media, _padding, (_, i) => {\n    const fontSize = fonts.text.sizes[_size[i]] || fonts.text.sizes[2]\n    const emSize = fontSize.lineHeight - fontSize.ascenderHeight - fontSize.descenderHeight\n    const p = spaceScale[_padding[i]]\n    const s = spaceScale[_space[i]]\n\n    const styles = {\n      paddingTop: rem(p - fontSize.ascenderHeight),\n      paddingRight: rem(p),\n      paddingBottom: rem(p - fontSize.descenderHeight),\n      paddingLeft: rem(p),\n    }\n\n    if ($iconRight) styles.paddingRight = rem(p + emSize + s)\n    if ($iconLeft) styles.paddingLeft = rem(p + emSize + s)\n\n    return styles\n  })\n}\n\nexport function responsiveInputPaddingIconsStyle(\n  props: {\n    padding?: number | number[]\n    size?: number | number[]\n    space?: number | number[]\n  } & ThemeProps\n): CSSObject[] {\n  return responsiveInputPaddingStyle({...props, $iconLeft: true, $iconRight: true})\n}\n\nexport function responsiveInputPaddingIconLeftStyle(\n  props: {\n    padding?: number | number[]\n    size?: number | number[]\n    space?: number | number[]\n  } & ThemeProps\n): CSSObject[] {\n  return responsiveInputPaddingStyle({...props, $iconLeft: true})\n}\n\nexport function responsiveInputPaddingIconRightStyle(\n  props: {\n    padding?: number | number[]\n    size?: number | number[]\n    space?: number | number[]\n  } & ThemeProps\n): CSSObject[] {\n  return responsiveInputPaddingStyle({...props, $iconRight: true})\n}\n","import {css, CSSObject, FlattenSimpleInterpolation} from 'styled-components'\nimport {ThemeFontWeightKey} from '../../theme'\nimport {focusRingBorderStyle, focusRingStyle} from '../focusRing'\nimport {getResponsiveProp, rem, responsive} from '../helpers'\nimport {ThemeProps} from '../types'\n\n/**\n * @internal\n */\nexport interface TextInputInputStyleProps {\n  $fontSize?: number | number[]\n  $weight?: ThemeFontWeightKey\n}\n\n/**\n * @internal\n */\nexport interface TextInputRepresentationStyleProps {\n  $border?: boolean\n  $hasPrefix?: boolean\n  $hasSuffix?: boolean\n}\n\nconst ROOT_STYLE = css`\n  &:not([hidden]) {\n    display: flex;\n  }\n`\n\nexport function textInputRootStyle(): FlattenSimpleInterpolation {\n  return ROOT_STYLE\n}\n\nexport function textInputBaseStyle(\n  props: TextInputInputStyleProps & ThemeProps\n): FlattenSimpleInterpolation {\n  const {theme, $weight} = props\n  const font = theme.sanity.fonts.text\n  const color = theme.sanity.color.input\n\n  return css`\n    --input-fg-color: ${color.default.enabled.fg};\n    --input-placeholder-color: ${color.default.enabled.placeholder};\n\n    appearance: none;\n    background: none;\n    border: 0;\n    border-radius: 0;\n    outline: none;\n    width: 100%;\n    box-sizing: border-box;\n    font-family: ${font.family};\n    font-weight: ${($weight && font.weights[$weight]) || font.weights.regular};\n    margin: 0;\n    position: relative;\n    z-index: 1;\n    display: block;\n    color: var(--input-fg-color);\n\n    /* NOTE: This is a hack to disable Chrome’s autofill styles */\n    &:-webkit-autofill,\n    &:-webkit-autofill:hover,\n    &:-webkit-autofill:focus,\n    &:-webkit-autofill:active {\n      -webkit-text-fill-color: var(--input-fg-color) !important;\n      transition: background-color 5000s;\n      transition-delay: 86400s /* 24h */;\n    }\n\n    &::placeholder {\n      color: var(--input-placeholder-color);\n    }\n\n    /* &:is(textarea) */\n    &[data-as='textarea'] {\n      resize: none;\n    }\n\n    /* enabled */\n    &:not(:invalid):not(:disabled):not(:read-only) {\n      --input-fg-color: ${color.default.enabled.fg};\n      --input-placeholder-color: ${color.default.enabled.placeholder};\n    }\n\n    /* disabled */\n    &:not(:invalid):disabled {\n      --input-fg-color: ${color.default.disabled.fg};\n      --input-placeholder-color: ${color.default.disabled.placeholder};\n    }\n\n    /* invalid */\n    &:invalid {\n      --input-fg-color: ${color.invalid.enabled.fg};\n      --input-placeholder-color: ${color.invalid.enabled.placeholder};\n    }\n\n    /* readOnly */\n    &:read-only {\n      --input-fg-color: ${color.default.readOnly.fg};\n      --input-placeholder-color: ${color.default.readOnly.placeholder};\n    }\n  `\n}\n\nexport function textInputFontSizeStyle(props: TextInputInputStyleProps & ThemeProps): CSSObject[] {\n  const {theme} = props\n  const {fonts, media} = theme.sanity\n\n  return responsive(media, getResponsiveProp(props.$fontSize, [2]), (sizeIndex) => {\n    const size = fonts.text.sizes[sizeIndex] || fonts.text.sizes[2]\n\n    return {\n      fontSize: rem(size.fontSize),\n      lineHeight: size.lineHeight / size.fontSize,\n    }\n  })\n}\n\nexport function textInputRepresentationStyle(\n  props: TextInputRepresentationStyleProps & ThemeProps\n): FlattenSimpleInterpolation {\n  const {$border, $hasPrefix, $hasSuffix, theme} = props\n  const {focusRing, input} = theme.sanity\n  const color = theme.sanity.color.input\n\n  return css`\n    --card-bg-color: ${color.default.enabled.bg};\n    --card-fg-color: ${color.default.enabled.fg};\n    --input-box-shadow: none;\n\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    display: block;\n    pointer-events: none;\n    z-index: 0;\n    background-color: var(--card-bg-color);\n    box-shadow: var(--input-box-shadow);\n\n    border-top-left-radius: ${$hasPrefix ? 0 : undefined};\n    border-bottom-left-radius: ${$hasPrefix ? 0 : undefined};\n    border-top-right-radius: ${$hasSuffix ? 0 : undefined};\n    border-bottom-right-radius: ${$hasSuffix ? 0 : undefined};\n\n    /* enabled */\n    *:not(:disabled) + && {\n      --input-box-shadow: ${$border\n        ? focusRingBorderStyle({color: color.default.enabled.border, width: input.border.width})\n        : undefined};\n    }\n\n    /* invalid */\n    *:not(:disabled):invalid + && {\n      --card-bg-color: ${color.invalid.enabled.bg};\n      --card-fg-color: ${color.invalid.enabled.fg};\n      --input-box-shadow: ${$border\n        ? focusRingBorderStyle({color: color.invalid.enabled.border, width: input.border.width})\n        : 'none'};\n    }\n\n    /* focused */\n    *:not(:disabled):focus + && {\n      --input-box-shadow: ${focusRingStyle({\n        border: $border\n          ? {color: color.default.enabled.border, width: input.border.width}\n          : undefined,\n        focusRing,\n      })};\n    }\n\n    /* disabled */\n    *:disabled + && {\n      --card-bg-color: ${color.default.disabled.bg};\n      --card-fg-color: ${color.default.disabled.fg};\n      --input-box-shadow: ${$border\n        ? focusRingBorderStyle({\n            color: color.default.disabled.border,\n            width: input.border.width,\n          })\n        : 'none'};\n    }\n\n    /* hovered */\n    @media (hover: hover) {\n      *:not(:disabled):not(:read-only):not(:invalid):hover + && {\n        --card-bg-color: ${color.default.hovered.bg};\n        --card-fg-color: ${color.default.hovered.fg};\n      }\n\n      *:not(:disabled):not(:read-only):not(:invalid):not(:focus):hover + && {\n        --input-box-shadow: ${$border\n          ? focusRingBorderStyle({\n              color: color.default.hovered.border,\n              width: input.border.width,\n            })\n          : 'none'};\n      }\n    }\n\n    /* readOnly */\n    *:read-only + && {\n      --card-bg-color: ${color.default.readOnly.bg};\n      --card-fg-color: ${color.default.readOnly.fg};\n    }\n  `\n}\n","import {CSSObject} from 'styled-components'\nimport {getResponsiveProp, getResponsiveSpace} from '../helpers'\nimport {ThemeProps} from '../types'\nimport {ResponsiveMarginStyleProps} from './types'\n\nexport function responsiveMarginStyle(\n  props: ResponsiveMarginStyleProps & ThemeProps\n): CSSObject[][] {\n  const {theme} = props\n\n  return [\n    getResponsiveSpace(theme, ['margin'], getResponsiveProp(props.$margin)),\n    getResponsiveSpace(theme, ['marginLeft', 'marginRight'], getResponsiveProp(props.$marginX)),\n    getResponsiveSpace(theme, ['marginTop', 'marginBottom'], getResponsiveProp(props.$marginY)),\n    getResponsiveSpace(theme, ['marginTop'], getResponsiveProp(props.$marginTop)),\n    getResponsiveSpace(theme, ['marginRight'], getResponsiveProp(props.$marginRight)),\n    getResponsiveSpace(theme, ['marginBottom'], getResponsiveProp(props.$marginBottom)),\n    getResponsiveSpace(theme, ['marginLeft'], getResponsiveProp(props.$marginLeft)),\n  ].filter(Boolean) as CSSObject[][]\n}\n","import {CSSObject} from 'styled-components'\nimport {getResponsiveProp, getResponsiveSpace} from '../helpers'\nimport {ThemeProps} from '../types'\nimport {ResponsivePaddingStyleProps} from './types'\n\nexport function responsivePaddingStyle(\n  props: ResponsivePaddingStyleProps & ThemeProps\n): CSSObject[][] {\n  const {theme} = props\n\n  return [\n    getResponsiveSpace(theme, ['padding'], getResponsiveProp(props.$padding)),\n    getResponsiveSpace(theme, ['paddingLeft', 'paddingRight'], getResponsiveProp(props.$paddingX)),\n    getResponsiveSpace(theme, ['paddingTop', 'paddingBottom'], getResponsiveProp(props.$paddingY)),\n    getResponsiveSpace(theme, ['paddingTop'], getResponsiveProp(props.$paddingTop)),\n    getResponsiveSpace(theme, ['paddingRight'], getResponsiveProp(props.$paddingRight)),\n    getResponsiveSpace(theme, ['paddingBottom'], getResponsiveProp(props.$paddingBottom)),\n    getResponsiveSpace(theme, ['paddingLeft'], getResponsiveProp(props.$paddingLeft)),\n  ].filter(Boolean) as CSSObject[][]\n}\n","import {CSSObject} from 'styled-components'\nimport {getResponsiveProp, rem, responsive} from '../helpers'\nimport {ThemeProps} from '../types'\nimport {ResponsiveRadiusStyleProps} from './types'\n\nexport function responsiveRadiusStyle(props: ResponsiveRadiusStyleProps & ThemeProps): CSSObject[] {\n  const {theme} = props\n  const {media, radius} = theme.sanity\n\n  return responsive(media, getResponsiveProp(props.$radius), (radiusIndex) => ({\n    borderRadius: rem(radius[radiusIndex]),\n  }))\n}\n","import {CSSObject} from 'styled-components'\nimport {getResponsiveProp} from '..'\nimport {EMPTY_RECORD} from '../../constants'\nimport {BoxShadow, ThemeShadow} from '../../theme'\nimport {rem, responsive} from '../helpers'\nimport {ThemeProps} from '../types'\nimport {ResponsiveShadowStyleProps} from './types'\n\nfunction toBoxShadow(shadow: BoxShadow, color: string) {\n  return `${shadow.map(rem).join(' ')} ${color}`\n}\n\nfunction shadowStyle(shadow: ThemeShadow | null): CSSObject {\n  if (!shadow) return EMPTY_RECORD\n\n  const outline = `0 0 0 ${rem(1)} var(--card-shadow-outline-color)`\n  const umbra = toBoxShadow(shadow.umbra, 'var(--card-shadow-umbra-color)')\n  const penumbra = toBoxShadow(shadow.penumbra, 'var(--card-shadow-penumbra-color)')\n  const ambient = toBoxShadow(shadow.ambient, 'var(--card-shadow-ambient-color)')\n\n  return {boxShadow: `${outline}, ${umbra}, ${penumbra}, ${ambient}`}\n}\n\nexport function responsiveShadowStyle(props: ResponsiveShadowStyleProps & ThemeProps): CSSObject[] {\n  const {theme} = props\n  const {media, shadows} = theme.sanity\n\n  return responsive(media, getResponsiveProp(props.$shadow), (shadow) =>\n    shadowStyle(shadows[shadow])\n  )\n}\n","import {css, FlattenSimpleInterpolation} from 'styled-components'\nimport {ThemeProps} from '../../styles'\n\nexport function textBaseStyle(\n  props: {$accent?: boolean; $muted?: boolean} & ThemeProps\n): FlattenSimpleInterpolation {\n  const {$accent, $muted, theme} = props\n  const {weights} = theme.sanity.fonts.text\n\n  return css`\n    color: var(--card-fg-color);\n\n    ${$accent &&\n    css`\n      color: var(--card-accent-fg-color);\n    `}\n\n    ${$muted &&\n    css`\n      color: var(--card-muted-fg-color);\n    `}\n\n    & code {\n      font-family: ${theme.sanity.fonts.code.family};\n      border-radius: 1px;\n      background-color: var(--card-code-bg-color);\n      color: var(--card-code-fg-color);\n    }\n\n    & a {\n      text-decoration: none;\n      border-radius: 1px;\n      color: var(--card-link-color);\n      outline: none;\n\n      @media (hover: hover) {\n        &:hover {\n          text-decoration: underline;\n        }\n      }\n\n      &:focus {\n        box-shadow: 0 0 0 1px var(--card-bg-color), 0 0 0 3px var(--card-focus-ring-color);\n      }\n\n      &:focus:not(:focus-visible) {\n        box-shadow: none;\n      }\n    }\n\n    & strong {\n      font-weight: ${weights.bold};\n    }\n\n    & [data-sanity-icon] {\n      vertical-align: baseline;\n    }\n  `\n}\n","import React, {forwardRef} from 'react'\nimport styled from 'styled-components'\nimport {\n  ResponsiveFontStyleProps,\n  responsiveTextAlignStyle,\n  responsiveTextFont,\n} from '../../styles/internal'\nimport {ThemeFontWeightKey} from '../../theme'\nimport {TextAlign} from '../../types'\nimport {textBaseStyle} from './styles'\n\n/**\n * @public\n */\nexport interface TextProps {\n  accent?: boolean\n  align?: TextAlign | TextAlign[]\n  as?: React.ElementType | keyof JSX.IntrinsicElements\n  muted?: boolean\n  size?: number | number[]\n  /**\n   * Controls how overflowing text is treated.\n   * Use `textOverflow=\"ellipsis\"` to render text as a single line which is concatenated with a `…` symbol.\n   * @beta\n   */\n  textOverflow?: 'ellipsis'\n  weight?: ThemeFontWeightKey\n}\n\nconst Root = styled.div<ResponsiveFontStyleProps>(\n  responsiveTextFont,\n  responsiveTextAlignStyle,\n  textBaseStyle\n)\n\nconst SpanWithTextOverflow = styled.span`\n  display: block;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  overflow: hidden;\n`\n\n/**\n * @public\n */\nexport const Text = forwardRef(function Text(\n  props: TextProps & Omit<React.HTMLProps<HTMLDivElement>, 'as' | 'size'>,\n  ref: React.ForwardedRef<HTMLDivElement>\n) {\n  const {\n    accent = false,\n    align,\n    children: childrenProp,\n    muted = false,\n    size = 2,\n    textOverflow,\n    weight,\n    ...restProps\n  } = props\n\n  let children = childrenProp\n\n  if (textOverflow === 'ellipsis') {\n    children = <SpanWithTextOverflow>{children}</SpanWithTextOverflow>\n  }\n\n  return (\n    <Root\n      data-ui=\"Text\"\n      {...restProps}\n      $accent={accent}\n      $align={align}\n      $muted={muted}\n      ref={ref}\n      $size={size}\n      $weight={weight}\n    >\n      <span>{children}</span>\n    </Root>\n  )\n})\n","import {CSSObject} from 'styled-components'\nimport {rem, responsive, ThemeProps} from '../../styles'\nimport {focusRingStyle} from '../../styles/internal'\nimport {AvatarRootStyleProps, ResponsiveAvatarSizeStyleProps} from './types'\n\nexport const avatarStyle = {\n  root: avatarRootStyle,\n  arrow: avatarArrowStyle,\n  bgStroke: avatarBgStrokeStyle,\n  stroke: avatarStrokeStyle,\n  initials: avatarInitialsStyle,\n}\n\nfunction avatarArrowStyle(): CSSObject {\n  return {\n    position: 'absolute',\n    boxSizing: 'border-box',\n    zIndex: 0,\n    opacity: 0,\n    transition: 'all 0.2s linear',\n    transform: 'rotate(-90deg) translate3d(0, 6px, 0)',\n    left: 0,\n    right: 0,\n    top: 0,\n    bottom: 0,\n\n    '& > svg': {\n      width: '11px',\n      height: '7px',\n      position: 'absolute',\n      top: '-5px',\n      left: '50%',\n      transform: 'translateX(-6px)',\n\n      '&:not([hidden])': {\n        display: 'block',\n      },\n    },\n\n    \"[data-arrow-position='inside'] > &\": {\n      transform: 'rotate(-90deg) translate3d(0, 6px, 0)',\n      opacity: 0,\n    },\n\n    \"[data-arrow-position='top'] > &\": {\n      opacity: 1,\n      transform: 'rotate(0deg)',\n    },\n\n    \"[data-arrow-position='bottom'] > &\": {\n      opacity: 1,\n      transform: 'rotate(-180deg)',\n    },\n  }\n}\n\nexport function avatarRootStyle(props: AvatarRootStyleProps & ThemeProps): CSSObject {\n  const {$color, theme} = props\n  const {focusRing} = theme.sanity\n\n  return {\n    backgroundColor: $color,\n    position: 'relative',\n    boxSizing: 'border-box',\n    userSelect: 'none',\n    boxShadow: '0 0 0 1px var(--card-bg-color)',\n\n    '&[data-status=\"inactive\"]': {\n      opacity: 0.5,\n    },\n\n    '&>svg': {\n      '&:not([hidden])': {\n        display: 'block',\n      },\n    },\n\n    /* &:is(button) */\n    '&[data-as=\"button\"]': {\n      '-webkit-font-smoothing': 'inherit',\n      appearance: 'none',\n      margin: 0,\n      padding: 0,\n      border: 0,\n      font: 'inherit',\n      color: 'inherit',\n      outline: 'none',\n\n      '&:focus': {\n        boxShadow: focusRingStyle({focusRing}),\n      },\n\n      '&:focus:not(:focus-visible)': {\n        boxShadow: 'none',\n      },\n    },\n  }\n}\n\nexport function responsiveAvatarSizeStyle(\n  props: ResponsiveAvatarSizeStyleProps & ThemeProps\n): CSSObject[] {\n  const {theme} = props\n  const {avatar, media} = theme.sanity\n\n  return responsive(media, props.$size, (size) => {\n    const avatarSize = avatar.sizes[size] || avatar.sizes[0]\n\n    return {\n      width: rem(avatarSize.size),\n      height: rem(avatarSize.size),\n      borderRadius: rem(avatarSize.size / 2),\n\n      '&>svg': {\n        width: rem(avatarSize.size),\n        height: rem(avatarSize.size),\n        borderRadius: rem(avatarSize.size / 2),\n      },\n    }\n  })\n}\n\nexport function avatarInitialsStyle(props: ThemeProps): CSSObject {\n  const {theme} = props\n  const {base} = theme.sanity.color\n\n  return {\n    width: '100%',\n    height: '100%',\n    color: base.fg,\n    alignItems: 'center',\n    justifyContent: 'center',\n    textTransform: 'uppercase',\n    textAlign: 'center',\n    borderRadius: '50%',\n\n    '&:not([hidden])': {\n      display: 'flex',\n    },\n  }\n}\n\nfunction avatarBgStrokeStyle(): CSSObject {\n  return {\n    strokeWidth: '4px',\n    stroke: 'var(--card-bg-color)',\n  }\n}\n\nfunction avatarStrokeStyle(): CSSObject {\n  return {\n    strokeWidth: '3px',\n\n    '[data-status=\"editing\"] &': {\n      strokeSasharray: '2 4',\n      strokeLinecap: 'round',\n    },\n  }\n}\n","import {useId} from '@reach/auto-id'\nimport React, {forwardRef, useCallback, useEffect, useState} from 'react'\nimport ReactIs from 'react-is'\nimport styled from 'styled-components'\nimport {useResponsiveProp} from '../../hooks'\nimport {ThemeColorSpotKey, useTheme} from '../../theme'\nimport {AvatarPosition, AvatarSize, AvatarStatus} from '../../types'\nimport {Text} from '../text'\nimport {avatarStyle, responsiveAvatarSizeStyle} from './styles'\n\n/**\n * @public\n */\nexport interface AvatarProps {\n  animateArrowFrom?: AvatarPosition\n  arrowPosition?: AvatarPosition\n  as?: React.ElementType | keyof JSX.IntrinsicElements\n  color?: ThemeColorSpotKey\n  initials?: string\n  onImageLoadError?: (event: Error) => void\n  size?: AvatarSize | AvatarSize[]\n  src?: string\n  /**\n   * The status of the entity this Avatar represents.\n   * @alpha\n   */\n  status?: AvatarStatus\n  title?: string\n}\n\nconst Root = styled.div<{$color: string; $size: AvatarSize[]}>(\n  responsiveAvatarSizeStyle,\n  avatarStyle.root\n)\n\nconst Arrow = styled.div(avatarStyle.arrow)\n\nconst BgStroke = styled.ellipse(avatarStyle.bgStroke)\n\nconst Stroke = styled.ellipse(avatarStyle.stroke)\n\nconst Initials = styled.div(avatarStyle.initials)\n\n/**\n * @public\n */\nexport const Avatar = forwardRef(function Avatar(\n  props: AvatarProps & Omit<React.HTMLProps<HTMLDivElement>, 'as' | 'ref'>,\n  ref: React.ForwardedRef<HTMLDivElement>\n) {\n  const {\n    as: asProp,\n    color: colorKey = 'gray',\n    src,\n    title,\n    initials,\n    onImageLoadError,\n    arrowPosition: arrowPositionProp,\n    animateArrowFrom,\n    status = 'online',\n    size: sizeProp,\n    ...restProps\n  } = props\n  const as = ReactIs.isValidElementType(asProp) ? asProp : 'div'\n  const size: AvatarSize[] = useResponsiveProp(sizeProp, [0])\n  const theme = useTheme()\n  const color = theme.sanity.color.spot[colorKey] || theme.sanity.color.spot.gray\n\n  // @todo: remove this\n  const avatarSize = theme.sanity.avatar.sizes[size[0]] || theme.sanity.avatar.sizes[0]\n  const _sizeRem = avatarSize.size\n  const _radius = _sizeRem / 2\n\n  const elementId = useId() || ''\n  const [arrowPosition, setArrowPosition] = useState<AvatarPosition | undefined>(\n    animateArrowFrom || arrowPositionProp || 'inside'\n  )\n\n  const [imageFailed, setImageFailed] = useState<boolean>(false)\n\n  const imageId = `avatar-image-${elementId}`\n\n  useEffect(() => {\n    if (arrowPosition === arrowPositionProp) return undefined\n\n    // Start animation in the next frame\n    const raf = requestAnimationFrame(() => setArrowPosition(arrowPositionProp))\n\n    return () => cancelAnimationFrame(raf)\n  }, [arrowPosition, arrowPositionProp])\n\n  useEffect(() => {\n    if (src) setImageFailed(false)\n  }, [src])\n\n  const handleImageError = useCallback(() => {\n    setImageFailed(true)\n\n    if (onImageLoadError) {\n      onImageLoadError(new Error('Avatar: the image failed to load'))\n    }\n  }, [onImageLoadError])\n\n  return (\n    <Root\n      as={as}\n      data-as={typeof as === 'string' ? as : undefined}\n      data-ui=\"Avatar\"\n      {...restProps}\n      $size={size}\n      $color={color}\n      aria-label={title}\n      data-arrow-position={arrowPosition}\n      data-status={status}\n      ref={ref}\n      title={title}\n    >\n      <Arrow>\n        <svg width=\"11\" height=\"7\" viewBox=\"0 0 11 7\" fill=\"none\">\n          <path\n            d=\"M6.67948 1.50115L11 7L0 7L4.32052 1.50115C4.92109 0.736796 6.07891 0.736795 6.67948 1.50115Z\"\n            fill={color}\n          />\n        </svg>\n      </Arrow>\n\n      {!imageFailed && src && (\n        <svg viewBox={`0 0 ${_sizeRem} ${_sizeRem}`} fill=\"none\">\n          <defs>\n            <pattern id={imageId} patternContentUnits=\"objectBoundingBox\" width=\"1\" height=\"1\">\n              <image href={src} width=\"1\" height=\"1\" onError={handleImageError} />\n            </pattern>\n          </defs>\n\n          <circle cx={_radius} cy={_radius} r={_radius} fill={`url(#${imageId})`} />\n          <BgStroke\n            cx={_radius}\n            cy={_radius}\n            rx={_radius}\n            ry={_radius}\n            vectorEffect=\"non-scaling-stroke\"\n          />\n          <Stroke\n            cx={_radius}\n            cy={_radius}\n            rx={_radius}\n            ry={_radius}\n            stroke={color}\n            vectorEffect=\"non-scaling-stroke\"\n          />\n        </svg>\n      )}\n\n      {(imageFailed || !src) && initials && (\n        <>\n          <Initials>\n            <Text as=\"span\" size={size.map((s) => (s === 0 ? 0 : s + 1))}>\n              <strong>{initials}</strong>\n            </Text>\n          </Initials>\n        </>\n      )}\n    </Root>\n  )\n})\n","import React, {forwardRef} from 'react'\nimport styled, {css} from 'styled-components'\nimport {EMPTY_RECORD} from '../../constants'\nimport {useResponsiveProp} from '../../hooks'\nimport {rem, responsive, ThemeProps} from '../../styles'\nimport {AvatarSize} from '../../types'\nimport {Text} from '../text'\n\nfunction responsiveAvatarCounterSizeStyle(props: {$size: AvatarSize[]} & ThemeProps) {\n  const {theme} = props\n  const {avatar, media} = theme.sanity\n\n  return responsive(media, props.$size, (size) => {\n    const avatarSize = avatar.sizes[size]\n\n    if (!avatarSize) return EMPTY_RECORD\n\n    return {\n      borderRadius: rem(avatarSize.size / 2),\n      minWidth: rem(avatarSize.size),\n      height: rem(avatarSize.size),\n    }\n  })\n}\n\nfunction avatarCounterBaseStyle(props: ThemeProps) {\n  const {theme} = props\n\n  return css`\n    align-items: center;\n    justify-content: center;\n    box-sizing: border-box;\n    user-select: none;\n    color: inherit;\n    color: var(--card-fg-color);\n    background: var(--card-bg-color);\n    box-shadow: 0 0 0 1px var(--card-bg-color), inset 0 0 0 1.5px var(--card-hairline-hard-color);\n    padding: 0 ${rem(theme.sanity.space[2])};\n\n    &:not([hidden]) {\n      display: flex;\n    }\n  `\n}\n\nconst Root = styled.div<{$size: AvatarSize[]}>(\n  responsiveAvatarCounterSizeStyle,\n  avatarCounterBaseStyle\n)\n\n/**\n * @public\n */\nexport interface AvatarCounterProps {\n  count: number\n  size?: AvatarSize | AvatarSize[]\n  tone?: 'navbar'\n}\n\n/**\n * @public\n */\nexport const AvatarCounter = forwardRef(function AvatarCounter(\n  props: AvatarCounterProps,\n  ref: React.Ref<HTMLDivElement>\n) {\n  const {count, size: sizeProp = 0, tone} = props\n  const size: AvatarSize[] = useResponsiveProp(sizeProp, [0])\n\n  return (\n    <Root $size={size} data-tone={tone} ref={ref}>\n      <Text as=\"span\" size={size.map((s) => (s === 0 ? 0 : s + 1))}>\n        <strong>{count}</strong>\n      </Text>\n    </Root>\n  )\n})\n","import {isElement, isFragment} from 'react-is'\n\nexport function childrenToElementArray(\n  children: React.ReactNode\n): Array<React.ReactElement | string> {\n  const childrenArray = Array.isArray(children) ? children : [children]\n\n  return childrenArray.filter(\n    (node) => isElement(node) || isFragment(node) || typeof node === 'string'\n  ) as Array<React.ReactElement | string>\n}\n","import React, {cloneElement, forwardRef} from 'react'\nimport styled, {css} from 'styled-components'\nimport {EMPTY_RECORD} from '../../constants'\nimport {getResponsiveProp, rem, responsive, ThemeProps} from '../../styles'\nimport {AvatarSize} from '../../types'\nimport {childrenToElementArray} from '../helpers'\nimport {AvatarCounter} from './avatarCounter'\n\nconst BASE_STYLES = css`\n  white-space: nowrap;\n\n  & > div {\n    vertical-align: top;\n\n    &:not([hidden]) {\n      display: inline-block;\n    }\n  }\n`\n\nfunction avatarStackStyle() {\n  return BASE_STYLES\n}\n\nfunction responsiveAvatarStackSizeStyle(props: {size: AvatarSize | AvatarSize[]} & ThemeProps) {\n  const {theme} = props\n  const {avatar, media} = theme.sanity\n\n  return responsive(media, getResponsiveProp(props.size), (size) => {\n    const avatarSize = avatar.sizes[size]\n\n    if (!avatarSize) return EMPTY_RECORD\n\n    return {\n      '& > div + div': {\n        marginLeft: rem(avatarSize.distance),\n      },\n    }\n  })\n}\n\nconst Root = styled.div<{size: AvatarSize | AvatarSize[]}>(\n  responsiveAvatarStackSizeStyle,\n  avatarStackStyle\n)\n\n/**\n * @public\n */\nexport interface AvatarStackProps {\n  children: React.ReactNode\n  maxLength?: number\n  size?: AvatarSize | AvatarSize[]\n  tone?: 'navbar'\n}\n\n/**\n * @public\n */\nexport const AvatarStack = forwardRef(function AvatarStack(\n  props: AvatarStackProps & Omit<React.HTMLProps<HTMLDivElement>, 'as' | 'ref'>,\n  ref: React.ForwardedRef<HTMLDivElement>\n) {\n  const {children: childrenProp, maxLength: maxLengthProp = 4, size = 0, tone, ...restProps} = props\n  const maxLength = Math.max(maxLengthProp, 0)\n  const children = childrenToElementArray(childrenProp).filter(\n    (child) => typeof child !== 'string'\n  ) as React.ReactElement[]\n  const len = children.length\n  const visibleCount = maxLength - 1\n  const extraCount = len - visibleCount\n  const visibleChildren = extraCount > 1 ? children.slice(extraCount, len) : children\n\n  return (\n    <Root data-ui=\"AvatarStack\" {...restProps} ref={ref} size={size}>\n      {len === 0 && (\n        <div>\n          <AvatarCounter count={len} tone={tone} />\n        </div>\n      )}\n\n      {len !== 0 && extraCount > 1 && (\n        <div>\n          <AvatarCounter count={extraCount} size={size} tone={tone} />\n        </div>\n      )}\n\n      {visibleChildren.map((child, childIndex) => (\n        <div key={String(childIndex)}>{cloneElement(child, {size, tone})}</div>\n      ))}\n    </Root>\n  )\n})\n","import React, {forwardRef} from 'react'\nimport styled from 'styled-components'\nimport {\n  boxStyle,\n  flexItemStyle,\n  FlexItemStyleProps,\n  responsiveBoxStyle,\n  ResponsiveBoxStyleProps,\n  responsiveGridItemStyle,\n  ResponsiveGridItemStyleProps,\n  responsivePaddingStyle,\n  ResponsivePaddingStyleProps,\n  responsiveMarginStyle,\n  ResponsiveMarginStyleProps,\n} from '../../styles/internal'\nimport {\n  ResponsiveBoxProps,\n  ResponsiveFlexItemProps,\n  ResponsiveGridItemProps,\n  ResponsiveMarginProps,\n  ResponsivePaddingProps,\n} from '../types'\n\n/**\n * @public\n */\nexport interface BoxProps\n  extends ResponsiveFlexItemProps,\n    ResponsiveBoxProps,\n    ResponsiveGridItemProps,\n    ResponsiveMarginProps,\n    ResponsivePaddingProps {\n  as?: React.ElementType | keyof JSX.IntrinsicElements\n}\n\nconst Root = styled.div<\n  FlexItemStyleProps &\n    ResponsiveBoxStyleProps &\n    ResponsiveGridItemStyleProps &\n    ResponsiveMarginStyleProps &\n    ResponsivePaddingStyleProps\n>(\n  boxStyle,\n  flexItemStyle,\n  responsiveBoxStyle,\n  responsiveGridItemStyle,\n  responsiveMarginStyle,\n  responsivePaddingStyle\n)\n\n/**\n * @public\n */\nexport const Box = forwardRef(function Box(\n  props: BoxProps & Omit<React.HTMLProps<HTMLDivElement>, 'as' | 'height'>,\n  ref: React.ForwardedRef<HTMLDivElement>\n) {\n  const {\n    as: asProp = 'div',\n    column,\n    columnStart,\n    columnEnd,\n    display = 'block',\n    flex,\n    height,\n    margin = 0,\n    marginX,\n    marginY,\n    marginTop,\n    marginRight,\n    marginBottom,\n    marginLeft,\n    overflow,\n    padding = 0,\n    paddingX,\n    paddingY,\n    paddingTop,\n    paddingRight,\n    paddingBottom,\n    paddingLeft,\n    row,\n    rowStart,\n    rowEnd,\n    sizing,\n    ...restProps\n  } = props\n\n  return (\n    <Root\n      data-as={asProp}\n      data-ui=\"Box\"\n      {...restProps}\n      $column={column}\n      $columnStart={columnStart}\n      $columnEnd={columnEnd}\n      $display={display}\n      $flex={flex}\n      $height={height}\n      $margin={margin}\n      $marginX={marginX}\n      $marginY={marginY}\n      $marginTop={marginTop}\n      $marginRight={marginRight}\n      $marginBottom={marginBottom}\n      $marginLeft={marginLeft}\n      $overflow={overflow}\n      $padding={padding}\n      $paddingX={paddingX}\n      $paddingY={paddingY}\n      $paddingTop={paddingTop}\n      $paddingRight={paddingRight}\n      $paddingBottom={paddingBottom}\n      $paddingLeft={paddingLeft}\n      $row={row}\n      $rowStart={rowStart}\n      $rowEnd={rowEnd}\n      $sizing={sizing}\n      as={asProp}\n      ref={ref}\n    >\n      {props.children}\n    </Root>\n  )\n})\n","import {css, FlattenSimpleInterpolation} from 'styled-components'\nimport {ThemeProps} from '../../styles'\n\nexport function labelBaseStyle(\n  props: {$accent?: boolean; $muted: boolean} & ThemeProps\n): FlattenSimpleInterpolation {\n  const {$accent, $muted, theme} = props\n  const {fonts} = theme.sanity\n\n  return css`\n    text-transform: uppercase;\n\n    ${$accent &&\n    css`\n      color: var(--card-accent-fg-color);\n    `}\n\n    ${$muted &&\n    css`\n      color: var(--card-muted-fg-color);\n    `}\n\n    & code {\n      font-family: ${fonts.code.family};\n      border-radius: 1px;\n    }\n\n    & a {\n      text-decoration: none;\n      border-radius: 1px;\n    }\n\n    & [data-sanity-icon] {\n      vertical-align: baseline;\n    }\n  `\n}\n","import React, {forwardRef} from 'react'\nimport styled from 'styled-components'\nimport {responsiveLabelFont, responsiveTextAlignStyle} from '../../styles/internal'\nimport {ThemeFontWeightKey} from '../../theme'\nimport {TextAlign} from '../../types'\nimport {labelBaseStyle} from './styles'\n\n/**\n * @public\n */\nexport interface LabelProps {\n  accent?: boolean\n  align?: TextAlign | TextAlign[]\n  as?: React.ElementType | keyof JSX.IntrinsicElements\n  muted?: boolean\n  size?: number | number[]\n  /**\n   * Controls how overflowing text is treated.\n   * Use `textOverflow=\"ellipsis\"` to render text as a single line which is concatenated with a `…` symbol.\n   * @beta\n   */\n  textOverflow?: 'ellipsis'\n  weight?: ThemeFontWeightKey\n}\n\nconst Root = styled.div<{\n  $accent?: boolean\n  $align?: TextAlign | TextAlign[]\n  $muted: boolean\n  $size: number[]\n}>(responsiveLabelFont, responsiveTextAlignStyle, labelBaseStyle)\n\nconst SpanWithTextOverflow = styled.span`\n  display: block;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  overflow: hidden;\n`\n\n/**\n * @public\n */\nexport const Label = forwardRef(function Label(\n  props: LabelProps & Omit<React.HTMLProps<HTMLDivElement>, 'as' | 'size'>,\n  ref: React.ForwardedRef<HTMLDivElement>\n) {\n  const {\n    accent,\n    align,\n    children: childrenProp,\n    muted = false,\n    size = 2,\n    textOverflow,\n    weight,\n    ...restProps\n  } = props\n\n  let children = childrenProp\n\n  if (textOverflow === 'ellipsis') {\n    children = <SpanWithTextOverflow>{children}</SpanWithTextOverflow>\n  } else {\n    children = <span>{children}</span>\n  }\n\n  return (\n    <Root\n      data-ui=\"Label\"\n      {...restProps}\n      $accent={accent}\n      $align={align}\n      $muted={muted}\n      $size={size}\n      $weight={weight}\n      ref={ref}\n    >\n      {children}\n    </Root>\n  )\n})\n","import {CSSObject} from 'styled-components'\nimport {ThemeProps} from '../../styles'\nimport {BadgeStyleProps} from './types'\n\nexport function badgeStyle(props: BadgeStyleProps & ThemeProps): CSSObject {\n  const {$mode, $tone, theme} = props\n  const palette = theme.sanity.color[$mode === 'outline' ? 'muted' : 'solid']\n  const color = palette[$tone] || palette.default\n\n  return {\n    backgroundColor: color.enabled.bg,\n    color: color.enabled.fg,\n    boxShadow: `inset 0 0 0 1px ${color.enabled.border}`,\n    cursor: 'default',\n\n    '&:not([hidden])': {\n      display: 'inline-block',\n    },\n  }\n}\n","import React, {forwardRef} from 'react'\nimport styled from 'styled-components'\nimport {responsiveRadiusStyle, ResponsiveRadiusStyleProps} from '../../styles/internal'\nimport {BadgeMode, BadgeTone} from '../../types'\nimport {Box, BoxProps} from '../box'\nimport {Label} from '../label'\nimport {ResponsiveRadiusProps} from '../types'\nimport {badgeStyle} from './styles'\nimport {BadgeStyleProps} from './types'\n\n/**\n * @public\n */\nexport interface BadgeProps extends BoxProps, ResponsiveRadiusProps {\n  as?: React.ElementType | keyof JSX.IntrinsicElements\n  fontSize?: number | number[]\n  mode?: BadgeMode\n  tone?: BadgeTone\n}\n\nconst Root = styled(Box)<BadgeStyleProps & ResponsiveRadiusStyleProps>(\n  responsiveRadiusStyle,\n  badgeStyle\n)\n\n/**\n * @public\n */\nexport const Badge = forwardRef(function Badge(\n  props: BadgeProps & React.HTMLProps<HTMLDivElement>,\n  ref\n) {\n  const {\n    children,\n    fontSize,\n    mode = 'default',\n    padding = 1,\n    radius = 2,\n    tone = 'default',\n    ...restProps\n  } = props\n\n  return (\n    <Root\n      data-ui=\"Badge\"\n      {...restProps}\n      $mode={mode}\n      $tone={tone}\n      $radius={radius}\n      padding={padding}\n      ref={ref}\n    >\n      <Label size={fontSize}>{children}</Label>\n    </Root>\n  )\n})\n","import React, {forwardRef} from 'react'\nimport styled from 'styled-components'\nimport {\n  flexItemStyle,\n  FlexItemStyleProps,\n  responsiveFlexStyle,\n  ResponsiveFlexStyleProps,\n} from '../../styles/internal'\nimport {Box, BoxProps} from '../box'\nimport {ResponsiveFlexProps, ResponsiveFlexItemProps} from '../types'\n\n/**\n * @public\n */\nexport interface FlexProps\n  extends Omit<BoxProps, 'display'>,\n    ResponsiveFlexProps,\n    ResponsiveFlexItemProps {\n  gap?: number | number[]\n}\n\nconst Root = styled(Box)<FlexItemStyleProps & ResponsiveFlexStyleProps>(\n  flexItemStyle,\n  responsiveFlexStyle\n)\n\n/**\n * @public\n */\nexport const Flex = forwardRef(function Flex(\n  props: FlexProps & Omit<React.HTMLProps<HTMLDivElement>, 'as' | 'wrap'>,\n  ref: React.ForwardedRef<HTMLDivElement>\n) {\n  const {align, as, direction = 'row', gap, justify, wrap, ...restProps} = props\n\n  return (\n    <Root\n      data-ui=\"Flex\"\n      {...restProps}\n      $align={align}\n      $direction={direction}\n      $gap={gap}\n      $justify={justify}\n      $wrap={wrap}\n      forwardedAs={as}\n      ref={ref}\n    />\n  )\n})\n","import {SpinnerIcon} from '@sanity/icons'\nimport React, {forwardRef} from 'react'\nimport styled, {keyframes} from 'styled-components'\nimport {Text} from '../text'\n\n/**\n * @public\n */\nexport interface SpinnerProps {\n  muted?: boolean\n  size?: number | number[]\n}\n\nconst rotate = keyframes`\n  from {\n    transform: rotate(0deg);\n  }\n\n  to {\n    transform: rotate(360deg);\n  }\n`\n\nconst Root = styled(Text)`\n  & > span > svg {\n    animation: ${rotate} 500ms linear infinite;\n  }\n`\n\n/**\n * @public\n */\nexport const Spinner = forwardRef(function Spinner(\n  props: SpinnerProps & Omit<React.HTMLProps<HTMLDivElement>, 'as' | 'size'>,\n  ref: React.ForwardedRef<HTMLDivElement>\n) {\n  return (\n    <Root data-ui=\"Spinner\" {...props} ref={ref}>\n      <SpinnerIcon />\n    </Root>\n  )\n})\n","import {CSSObject} from 'styled-components'\nimport {ThemeColorBase, ThemeColorGenericState} from '../../theme'\n\n/**\n * @internal\n */\nexport function _colorVarsStyle(\n  base: ThemeColorBase,\n  color: ThemeColorGenericState,\n  checkered = false\n): CSSObject {\n  return {\n    // Base\n    // @todo: rename to \"--base-\"?\n    '--card-shadow-outline-color': base.shadow.outline,\n    '--card-shadow-umbra-color': base.shadow.umbra,\n    '--card-shadow-penumbra-color': base.shadow.penumbra,\n    '--card-shadow-ambient-color': base.shadow.ambient,\n    '--card-focus-ring-color': base.focusRing,\n\n    // Card\n    '--card-bg-color': color.bg,\n    '--card-bg-image': checkered\n      ? `repeating-conic-gradient(${color.bg} 0% 25%, ${color.bg2 || color.bg} 0% 50%)`\n      : undefined,\n    '--card-fg-color': color.fg,\n    '--card-border-color': color.border,\n    '--card-muted-fg-color': color.muted?.fg,\n    '--card-accent-fg-color': color.accent?.fg,\n    '--card-link-fg-color': color.link?.fg,\n    '--card-code-bg-color': color.code?.bg,\n    '--card-code-fg-color': color.code?.fg,\n    '--card-skeleton-color-from': color.skeleton?.from,\n    '--card-skeleton-color-to': color.skeleton?.to,\n\n    // @todo: deprecate\n    '--card-link-color': color.link?.fg,\n    '--card-hairline-soft-color': color.border,\n    '--card-hairline-hard-color': color.border,\n  }\n}\n","import {css, CSSObject, FlattenSimpleInterpolation} from 'styled-components'\nimport {ThemeProps} from '../../styles'\nimport {_colorVarsStyle} from '../../styles/colorVars'\nimport {focusRingBorderStyle, focusRingStyle} from '../../styles/internal'\nimport {ButtonMode, ButtonTone} from '../../types'\n\n/**\n * @internal\n */\nexport function buttonBaseStyles(): FlattenSimpleInterpolation {\n  return css`\n    -webkit-font-smoothing: inherit;\n    appearance: none;\n    display: inline-flex;\n    align-items: center;\n    font: inherit;\n    border: 0;\n    outline: none;\n    user-select: none;\n    text-decoration: none;\n    border: 0;\n    box-sizing: border-box;\n    padding: 0;\n    margin: 0;\n    white-space: nowrap;\n    text-align: left;\n    position: relative;\n\n    & > span {\n      display: block;\n      flex: 1;\n      min-width: 0;\n      border-radius: inherit;\n    }\n\n    &::-moz-focus-inner {\n      border: 0;\n      padding: 0;\n    }\n  `\n}\n\nconst buttonTheme = {border: {width: 1}}\n\n/**\n * @internal\n */\nexport function buttonColorStyles(\n  props: {$mode: ButtonMode; $tone: ButtonTone} & ThemeProps\n): CSSObject[] {\n  const {$mode, theme} = props\n  const {focusRing} = theme.sanity\n  const base = theme.sanity.color.base\n  const mode = theme.sanity.color.button[$mode] || theme.sanity.color.button.default\n  const color = mode[props.$tone] || mode.default\n  const border = {width: buttonTheme.border.width, color: 'var(--card-border-color)'}\n\n  return [\n    _colorVarsStyle(base, color.enabled),\n    {\n      backgroundColor: 'var(--card-bg-color)',\n      color: 'var(--card-fg-color)',\n      boxShadow: focusRingBorderStyle(border),\n      '&:disabled, &[data-disabled=\"true\"]': _colorVarsStyle(base, color.disabled),\n      \"&:not([data-disabled='true'])\": {\n        '&:focus': {\n          boxShadow: focusRingStyle({base, border, focusRing}),\n        },\n        '&:focus:not(:focus-visible)': {\n          boxShadow: focusRingBorderStyle(border),\n        },\n        '@media (hover: hover)': {\n          '&:hover': _colorVarsStyle(base, color.hovered),\n          '&:active': _colorVarsStyle(base, color.pressed),\n        },\n        '&[data-selected]': _colorVarsStyle(base, color.pressed),\n      },\n    },\n    theme.sanity.styles?.button?.root,\n  ].filter(Boolean) as CSSObject[]\n}\n","import React, {createElement, forwardRef, isValidElement, useMemo} from 'react'\nimport {isValidElementType} from 'react-is'\nimport styled from 'styled-components'\nimport {ThemeProps} from '../../styles'\nimport {responsiveRadiusStyle, ResponsiveRadiusStyleProps} from '../../styles/internal'\nimport {useTheme} from '../../theme'\nimport {ButtonMode, ButtonTextAlign, ButtonTone, FlexJustify} from '../../types'\nimport {Box} from '../box'\nimport {Flex} from '../flex'\nimport {Spinner} from '../spinner'\nimport {Text} from '../text'\nimport {ResponsivePaddingProps, ResponsiveRadiusProps} from '../types'\nimport {buttonBaseStyles, buttonColorStyles} from './styles'\n\n/**\n * @public\n */\nexport interface ButtonProps extends ResponsivePaddingProps, ResponsiveRadiusProps {\n  as?: React.ElementType | keyof JSX.IntrinsicElements\n  fontSize?: number | number[]\n  mode?: ButtonMode\n  icon?: React.ComponentType | React.ReactNode\n  iconRight?: React.ComponentType | React.ReactNode\n  justify?: FlexJustify | FlexJustify[]\n  /**\n   * @beta Do not use in production, as this might change.\n   */\n  loading?: boolean\n  selected?: boolean\n  space?: number | number[]\n  textAlign?: ButtonTextAlign\n  text?: React.ReactNode\n  tone?: ButtonTone\n  type?: 'button' | 'reset' | 'submit'\n}\n\nconst Root = styled.button<\n  {$mode: ButtonMode; $tone: ButtonTone} & ResponsiveRadiusStyleProps & ThemeProps\n>(responsiveRadiusStyle, buttonBaseStyles, buttonColorStyles)\n\nconst LoadingBox = styled.div`\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background-color: var(--card-bg-color);\n  border-radius: inherit;\n  z-index: 1;\n  box-shadow: inherit;\n`\n\n/**\n * @public\n */\nexport const Button = forwardRef(function Button(\n  props: ButtonProps & Omit<React.HTMLProps<HTMLButtonElement>, 'as'>,\n  ref: React.ForwardedRef<HTMLButtonElement>\n) {\n  const {\n    children,\n    disabled,\n    fontSize,\n    icon,\n    iconRight,\n    justify = 'center',\n    loading,\n    mode = 'default',\n    padding = 3,\n    paddingX,\n    paddingY,\n    paddingTop,\n    paddingBottom,\n    paddingLeft,\n    paddingRight,\n    radius = 2,\n    selected,\n    space = 3,\n    text,\n    textAlign,\n    tone = 'default',\n    type = 'button',\n    ...restProps\n  } = props\n\n  const theme = useTheme()\n\n  const boxProps = useMemo(\n    () => ({\n      // flex: 1,\n      padding,\n      paddingX,\n      paddingY,\n      paddingTop,\n      paddingBottom,\n      paddingLeft,\n      paddingRight,\n    }),\n    [padding, paddingX, paddingY, paddingTop, paddingBottom, paddingLeft, paddingRight]\n  )\n\n  return (\n    <Root\n      data-ui=\"Button\"\n      {...restProps}\n      $mode={mode}\n      $radius={radius}\n      $tone={tone}\n      data-disabled={Boolean(loading || disabled)}\n      data-selected={selected ? '' : undefined}\n      disabled={Boolean(loading || disabled)}\n      ref={ref}\n      type={type}\n    >\n      {Boolean(loading) && (\n        <LoadingBox>\n          <Spinner />\n        </LoadingBox>\n      )}\n\n      {(icon || text || iconRight) && (\n        <Box as=\"span\" {...boxProps}>\n          <Flex as=\"span\" justify={justify}>\n            {icon && (\n              <Text size={fontSize}>\n                {isValidElement(icon) && icon}\n                {isValidElementType(icon) && createElement(icon)}\n              </Text>\n            )}\n\n            {text && (\n              <Box\n                flex={iconRight ? 1 : undefined}\n                marginLeft={icon ? space : undefined}\n                marginRight={iconRight ? space : undefined}\n              >\n                <Text\n                  align={textAlign}\n                  size={fontSize}\n                  textOverflow=\"ellipsis\"\n                  weight={theme.sanity.button.textWeight}\n                >\n                  {text}\n                </Text>\n              </Box>\n            )}\n\n            {iconRight && (\n              <Text size={fontSize}>\n                {isValidElement(iconRight) && iconRight}\n                {isValidElementType(iconRight) && createElement(iconRight)}\n              </Text>\n            )}\n          </Flex>\n        </Box>\n      )}\n\n      {children && (\n        <Box as=\"span\" {...boxProps}>\n          {children}\n        </Box>\n      )}\n    </Root>\n  )\n})\n","import {css, FlattenSimpleInterpolation} from 'styled-components'\nimport {ThemeProps} from '../../styles'\nimport {_colorVarsStyle} from '../../styles/colorVars'\nimport {focusRingBorderStyle, focusRingStyle} from '../../styles/focusRing'\nimport {CardStyleProps} from './types'\n\nexport function cardStyle(\n  props: CardStyleProps & ThemeProps\n): Array<FlattenSimpleInterpolation | (() => FlattenSimpleInterpolation)> {\n  return [cardBaseStyle(props), cardColorStyle(props)]\n}\n\nexport function cardBaseStyle(props: CardStyleProps & ThemeProps): FlattenSimpleInterpolation {\n  const {$checkered, theme} = props\n  const space = theme.sanity.space\n\n  return css`\n    ${$checkered &&\n    css`\n      background-size: ${space[3]}px ${space[3]}px;\n      background-position: 50% 50%;\n      background-image: var(--card-bg-image);\n    `}\n\n    &[data-as='button'] {\n      -webkit-font-smoothing: inherit;\n      appearance: none;\n      outline: none;\n      font: inherit;\n      text-align: inherit;\n      border: 0;\n      width: stretch;\n    }\n\n    /* &:is(a) */\n    &[data-as='a'] {\n      outline: none;\n      text-decoration: none;\n    }\n\n    /* &:is(pre) */\n    &[data-as='pre'] {\n      font: inherit;\n    }\n  `\n}\n\nexport function cardColorStyle(props: CardStyleProps & ThemeProps): FlattenSimpleInterpolation {\n  const {$checkered, $focusRing, theme} = props\n  const {focusRing} = theme.sanity\n  const {base, card} = theme.sanity.color\n  const border = {width: 0, color: 'var(--card-border-color)'}\n\n  return css`\n    ${_colorVarsStyle(base, card.enabled, $checkered)}\n\n    background-color: var(--card-bg-color);\n    color: var(--card-fg-color);\n\n    /* &:is(button) */\n    &[data-as='button'] {\n      --card-focus-ring-box-shadow: none;\n\n      cursor: default;\n      box-shadow: var(--card-focus-ring-box-shadow);\n\n      &:disabled {\n        ${_colorVarsStyle(base, card.disabled, $checkered)}\n      }\n\n      &:not(:disabled) {\n        &[data-pressed] {\n          ${_colorVarsStyle(base, card.pressed, $checkered)}\n        }\n\n        &[data-selected] {\n          ${_colorVarsStyle(base, card.selected, $checkered)}\n        }\n\n        @media (hover: hover) {\n          &:not([data-pressed]):not([data-selected]) {\n            &:hover {\n              ${_colorVarsStyle(base, card.hovered, $checkered)}\n            }\n\n            &:active {\n              ${_colorVarsStyle(base, card.pressed, $checkered)}\n            }\n          }\n        }\n\n        &:focus {\n          --card-focus-ring-box-shadow: ${$focusRing\n            ? focusRingStyle({base, border, focusRing})\n            : undefined};\n        }\n\n        &:focus:not(:focus-visible) {\n          --card-focus-ring-box-shadow: ${$focusRing ? focusRingBorderStyle(border) : undefined};\n        }\n      }\n    }\n\n    /* &:is(a) */\n    &[data-as='a'] {\n      cursor: pointer;\n      box-shadow: var(--card-focus-ring-box-shadow);\n\n      &[data-disabled] {\n        ${_colorVarsStyle(base, card.disabled, $checkered)}\n      }\n\n      &:not([data-disabled]) {\n        &[data-pressed] {\n          ${_colorVarsStyle(base, card.pressed, $checkered)}\n        }\n\n        &[data-selected] {\n          ${_colorVarsStyle(base, card.selected, $checkered)}\n        }\n\n        @media (hover: hover) {\n          &:not([data-pressed]):not([data-selected]) {\n            &:hover {\n              ${_colorVarsStyle(base, card.hovered, $checkered)}\n            }\n\n            &:active {\n              ${_colorVarsStyle(base, card.pressed, $checkered)}\n            }\n          }\n        }\n\n        &:focus {\n          --card-focus-ring-box-shadow: ${$focusRing\n            ? focusRingStyle({base, border, focusRing})\n            : undefined};\n        }\n\n        &:focus:not(:focus-visible) {\n          --card-focus-ring-box-shadow: ${$focusRing ? focusRingBorderStyle(border) : undefined};\n        }\n      }\n    }\n\n    ${theme.sanity.styles?.card?.root}\n  `\n}\n","import React, {forwardRef} from 'react'\nimport {isValidElementType} from 'react-is'\nimport styled from 'styled-components'\nimport {\n  responsiveBorderStyle,\n  ResponsiveBorderStyleProps,\n  responsiveRadiusStyle,\n  ResponsiveRadiusStyleProps,\n  responsiveShadowStyle,\n  ResponsiveShadowStyleProps,\n} from '../../styles/internal'\nimport {ThemeColorProvider, ThemeColorSchemeKey, useRootTheme} from '../../theme'\nimport {CardTone} from '../../types'\nimport {Box, BoxProps} from '../box'\nimport {ResponsiveBorderProps, ResponsiveRadiusProps, ResponsiveShadowProps} from '../types'\nimport {cardStyle} from './styles'\nimport {CardStyleProps} from './types'\n\n/**\n * @public\n */\nexport interface CardProps\n  extends BoxProps,\n    ResponsiveBorderProps,\n    ResponsiveRadiusProps,\n    ResponsiveShadowProps {\n  /**\n   * Do not use in production.\n   * @beta\n   */\n  __unstable_checkered?: boolean\n  /**\n   * Do not use in production.\n   * @beta\n   */\n  __unstable_focusRing?: boolean\n  pressed?: boolean\n  scheme?: ThemeColorSchemeKey\n  tone?: CardTone\n}\n\nconst Root = styled(Box)<\n  CardStyleProps &\n    ResponsiveRadiusStyleProps &\n    ResponsiveBorderStyleProps &\n    ResponsiveShadowStyleProps\n>(responsiveBorderStyle, responsiveRadiusStyle, responsiveShadowStyle, cardStyle)\n\n/**\n * @public\n */\nexport const Card = forwardRef(function Card(\n  props: CardProps & Omit<React.HTMLProps<HTMLDivElement>, 'as' | 'height'>,\n  ref: React.ForwardedRef<HTMLDivElement>\n) {\n  const {\n    pressed = false,\n    __unstable_checkered: checkered = false,\n    __unstable_focusRing: focusRing = false,\n    as: asProp,\n    border,\n    borderTop,\n    borderRight,\n    borderBottom,\n    borderLeft,\n    radius = 0,\n    scheme,\n    selected,\n    shadow,\n    tone: toneProp = 'default',\n    ...restProps\n  } = props\n  const as = isValidElementType(asProp) ? asProp : 'div'\n  const rootTheme = useRootTheme()\n  const tone = toneProp === 'inherit' ? rootTheme.tone : toneProp\n\n  return (\n    <ThemeColorProvider scheme={scheme} tone={tone}>\n      <Root\n        data-as={typeof as === 'string' ? as : undefined}\n        data-checkered={checkered ? '' : undefined}\n        data-pressed={pressed ? '' : undefined}\n        data-scheme={rootTheme.scheme}\n        data-selected={selected ? '' : undefined}\n        data-ui=\"Card\"\n        data-tone={tone}\n        {...restProps}\n        $border={border}\n        $borderTop={borderTop}\n        $borderRight={borderRight}\n        $borderBottom={borderBottom}\n        $borderLeft={borderLeft}\n        $checkered={checkered}\n        $focusRing={focusRing}\n        $radius={radius}\n        $shadow={shadow}\n        $tone={tone}\n        forwardedAs={as}\n        ref={ref}\n        selected={selected}\n      />\n    </ThemeColorProvider>\n  )\n})\n","import {css, FlattenSimpleInterpolation} from 'styled-components'\nimport {rem, ThemeProps} from '../../styles'\nimport {focusRingBorderStyle, focusRingStyle} from '../../styles/internal'\n\nexport function checkboxBaseStyles(): FlattenSimpleInterpolation {\n  return css`\n    position: relative;\n    display: inline-block;\n  `\n}\n\nexport function inputElementStyles(props: ThemeProps): FlattenSimpleInterpolation {\n  const {theme} = props\n  const color = theme.sanity.color.input\n  const {focusRing, input, radius} = theme.sanity\n\n  return css`\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    outline: none;\n    opacity: 0;\n    z-index: 1;\n    padding: 0;\n    margin: 0;\n\n    & + span {\n      position: relative;\n      display: block;\n      height: ${rem(input.checkbox.size)};\n      width: ${rem(input.checkbox.size)};\n      box-sizing: border-box;\n      box-shadow: ${focusRingBorderStyle({\n        color: color.default.enabled.border,\n        width: input.border.width,\n      })};\n      border-radius: ${rem(radius[2])};\n      line-height: 1;\n      background-color: ${color.default.enabled.bg};\n\n      & > svg {\n        display: block;\n        position: absolute;\n        opacity: 0;\n        height: 100%;\n        width: 100%;\n\n        & > path {\n          vector-effect: non-scaling-stroke;\n          stroke-width: 2 !important;\n        }\n      }\n    }\n\n    &:not(:disabled):focus + span {\n      box-shadow: ${focusRingStyle({\n        border: {width: input.border.width, color: color.default.enabled.border},\n        focusRing,\n      })};\n    }\n\n    &:not(:disabled):focus:not(:focus-visible) + span {\n      box-shadow: ${focusRingBorderStyle({\n        color: color.default.enabled.border,\n        width: input.border.width,\n      })};\n    }\n\n    &:checked + span > svg:first-child {\n      opacity: 1;\n    }\n\n    &[data-read-only] + span {\n      background-color: ${color.default.readOnly.bg};\n      box-shadow: ${focusRingBorderStyle({\n        width: input.border.width,\n        color: color.default.readOnly.border,\n      })};\n      color: ${color.default.readOnly.fg};\n    }\n\n    &:not([data-read-only]):disabled + span {\n      background-color: ${color.default.disabled.bg};\n      box-shadow: ${focusRingBorderStyle({\n        width: input.border.width,\n        color: color.default.disabled.border,\n      })};\n      color: ${color.default.disabled.fg};\n    }\n\n    &:indeterminate + span > svg:last-child {\n      opacity: 1;\n    }\n  `\n}\n","import {CheckmarkIcon, RemoveIcon} from '@sanity/icons'\nimport React, {forwardRef, useEffect} from 'react'\nimport styled from 'styled-components'\nimport {useForwardedRef, useCustomValidity} from '../../hooks'\nimport {checkboxBaseStyles, inputElementStyles} from './styles'\n\n/**\n * @public\n */\nexport interface CheckboxProps {\n  indeterminate?: boolean\n  customValidity?: string\n}\n\nconst Root = styled.div(checkboxBaseStyles)\nconst Input = styled.input(inputElementStyles)\n\n/**\n * @public\n */\nexport const Checkbox = forwardRef(function Checkbox(\n  props: Omit<React.HTMLProps<HTMLInputElement>, 'as' | 'type'> & CheckboxProps,\n  forwardedRef: React.ForwardedRef<HTMLInputElement>\n) {\n  const {\n    checked,\n    className,\n    disabled,\n    indeterminate,\n    customValidity,\n    readOnly,\n    style,\n    ...restProps\n  } = props\n  const ref = useForwardedRef(forwardedRef)\n\n  useCustomValidity(ref, customValidity)\n\n  useEffect(() => {\n    if (ref.current) {\n      // Set the indeterminate state\n      ref.current.indeterminate = indeterminate || false\n    }\n  }, [indeterminate, ref])\n\n  return (\n    <Root className={className} data-ui=\"Checkbox\" style={style}>\n      <Input\n        data-read-only={!disabled && readOnly ? '' : undefined}\n        {...restProps}\n        checked={checked}\n        disabled={disabled || readOnly}\n        type=\"checkbox\"\n        readOnly={readOnly}\n        ref={ref}\n      />\n      <span>\n        <CheckmarkIcon />\n        <RemoveIcon />\n      </span>\n    </Root>\n  )\n})\n","import {css, FlattenInterpolation, ThemeProps as StyledThemeProps} from 'styled-components'\nimport {ThemeProps} from '../../styles'\nimport {Theme} from '../../theme'\n\nfunction codeSyntaxHighlightingStyle({theme}: ThemeProps) {\n  const color = theme.sanity.color.syntax\n\n  return {\n    '&.atrule': {color: color.atrule},\n    '&.attr-name': {color: color.attrName},\n    '&.attr-value': {color: color.attrValue},\n    '&.attribute': {color: color.attribute},\n    '&.boolean': {color: color.boolean},\n    '&.builtin': {color: color.builtin},\n    '&.cdata': {color: color.cdata},\n    '&.char': {color: color.char},\n    '&.class': {color: color.class},\n    '&.class-name': {color: color.className},\n    '&.comment': {color: color.comment},\n    '&.constant': {color: color.constant},\n    '&.deleted': {color: color.deleted},\n    '&.doctype': {color: color.doctype},\n    '&.entity': {color: color.entity},\n    '&.function': {color: color.function},\n    '&.hexcode': {color: color.hexcode},\n    '&.id': {color: color.id},\n    '&.important': {color: color.important},\n    '&.inserted': {color: color.inserted},\n    '&.keyword': {color: color.keyword},\n    '&.number': {color: color.number},\n    '&.operator': {color: color.operator},\n    '&.prolog': {color: color.prolog},\n    '&.property': {color: color.property},\n    '&.pseudo-class': {color: color.pseudoClass},\n    '&.pseudo-element': {color: color.pseudoElement},\n    '&.punctuation': {color: color.punctuation},\n    '&.regex': {color: color.regex},\n    '&.selector': {color: color.selector},\n    '&.string': {color: color.string},\n    '&.symbol': {color: color.symbol},\n    '&.tag': {color: color.tag},\n    '&.unit': {color: color.unit},\n    '&.url': {color: color.url},\n    '&.variable': {color: color.variable},\n  }\n}\n\nexport function codeBaseStyle(): FlattenInterpolation<StyledThemeProps<Theme>> {\n  return css`\n    color: var(--card-code-fg-color);\n\n    & code {\n      font-family: inherit;\n\n      &.refractor .token {\n        ${codeSyntaxHighlightingStyle}\n      }\n    }\n\n    & a {\n      color: inherit;\n      text-decoration: underline;\n      border-radius: 1px;\n    }\n\n    & [data-sanity-icon] {\n      vertical-align: baseline;\n    }\n  `\n}\n","import React, {forwardRef} from 'react'\nimport Refractor from 'react-refractor'\nimport styled from 'styled-components'\nimport {responsiveCodeFontStyle, ResponsiveFontStyleProps} from '../../styles/internal'\nimport {codeBaseStyle} from './styles'\n\n/**\n * @public\n */\nexport interface CodeProps {\n  as?: React.ElementType | keyof JSX.IntrinsicElements\n  language?: string\n  size?: number | number[]\n  weight?: string\n}\n\nconst Root = styled.pre<ResponsiveFontStyleProps>(codeBaseStyle, responsiveCodeFontStyle)\n\n/**\n * @public\n */\nexport const Code = forwardRef(function Code(\n  props: CodeProps & Omit<React.HTMLProps<HTMLElement>, 'as' | 'size'>,\n  ref: React.ForwardedRef<HTMLElement>\n) {\n  const {children, language: languageProp, size = 2, weight, ...restProps} = props\n  const language = typeof languageProp === 'string' ? languageProp : undefined\n  const registered = language ? Refractor.hasLanguage(language as any) : false\n\n  return (\n    <Root data-ui=\"Code\" {...restProps} $size={size} $weight={weight} ref={ref}>\n      {!(language && registered) && <code>{children}</code>}\n      {language && registered && <Refractor inline language={language} value={String(children)} />}\n    </Root>\n  )\n})\n","import {CSSObject} from 'styled-components'\nimport {getResponsiveProp, rem, responsive, ThemeProps} from '../../styles'\nimport {ResponsiveWidthStyleProps} from './types'\n\nconst BASE_STYLE: CSSObject = {\n  width: '100%',\n  margin: '0 auto',\n}\n\nexport function containerBaseStyle(): CSSObject {\n  return BASE_STYLE\n}\n\nexport function responsiveContainerWidthStyle(\n  props: ResponsiveWidthStyleProps & ThemeProps\n): CSSObject[] {\n  const {theme} = props\n  const {container, media} = theme.sanity\n\n  return responsive(media, getResponsiveProp(props.$width), (val) => ({\n    maxWidth: val === 'auto' ? 'none' : rem(container[val]),\n  }))\n}\n","import React, {forwardRef} from 'react'\nimport styled from 'styled-components'\nimport {Box, BoxProps} from '../box'\nimport {ResponsiveWidthProps} from '../types'\nimport {containerBaseStyle, responsiveContainerWidthStyle} from './styles'\nimport {ResponsiveWidthStyleProps} from './types'\n\n/**\n * @public\n */\nexport interface ContainerProps extends BoxProps, ResponsiveWidthProps {}\n\nconst Root = styled(Box)<ResponsiveWidthStyleProps>(\n  containerBaseStyle,\n  responsiveContainerWidthStyle\n)\n\n/**\n * @public\n */\nexport const Container = forwardRef(function Container(\n  props: ContainerProps & Omit<React.HTMLProps<HTMLDivElement>, 'as' | 'height' | 'width'>,\n  ref: React.ForwardedRef<HTMLDivElement>\n) {\n  const {as, width = 2, ...restProps} = props\n\n  return <Root data-ui=\"Container\" {...restProps} $width={width} forwardedAs={as} ref={ref} />\n})\n","import React, {forwardRef} from 'react'\nimport styled from 'styled-components'\nimport {responsiveGridStyle, ResponsiveGridStyleProps} from '../../styles/internal'\nimport {Box, BoxProps} from '../box'\nimport {ResponsiveGridProps} from '../types'\n\n/**\n * @public\n */\nexport interface GridProps extends Omit<BoxProps, 'display'>, ResponsiveGridProps {}\n\nconst Root = styled(Box)<ResponsiveGridStyleProps>(responsiveGridStyle)\n\n/**\n * @public\n */\nexport const Grid = forwardRef(function Grid(\n  props: GridProps & Omit<React.HTMLProps<HTMLDivElement>, 'as' | 'height' | 'rows'>,\n  ref: React.ForwardedRef<HTMLDivElement>\n) {\n  const {as, autoRows, autoCols, autoFlow, columns, gap, gapX, gapY, rows, children, ...restProps} =\n    props\n\n  return (\n    <Root\n      data-as={typeof as === 'string' ? as : undefined}\n      data-ui=\"Grid\"\n      {...restProps}\n      $autoRows={autoRows}\n      $autoCols={autoCols}\n      $autoFlow={autoFlow}\n      $columns={columns}\n      $gap={gap}\n      $gapX={gapX}\n      $gapY={gapY}\n      $rows={rows}\n      forwardedAs={as}\n      ref={ref}\n    >\n      {children}\n    </Root>\n  )\n})\n","import {css, FlattenSimpleInterpolation} from 'styled-components'\nimport {ThemeProps} from '../../styles'\nimport {HeadingStyleProps} from './types'\n\nexport function headingBaseStyle(\n  props: HeadingStyleProps & ThemeProps\n): FlattenSimpleInterpolation {\n  const {$accent, $muted, theme} = props\n\n  return css`\n    ${$accent &&\n    css`\n      color: var(--card-accent-fg-color);\n    `}\n\n    ${$muted &&\n    css`\n      color: var(--card-muted-fg-color);\n    `}\n\n    & code {\n      font-family: ${theme.sanity.fonts.code.family};\n      border-radius: 1px;\n    }\n\n    & a {\n      text-decoration: none;\n      border-radius: 1px;\n      color: var(--card-link-color);\n      outline: none;\n\n      @media (hover: hover) {\n        &:hover {\n          text-decoration: underline;\n        }\n      }\n\n      &:focus {\n        box-shadow: 0 0 0 1px var(--card-bg-color), 0 0 0 3px var(--card-focus-ring-color);\n      }\n\n      &:focus:not(:focus-visible) {\n        box-shadow: none;\n      }\n    }\n\n    & [data-sanity-icon] {\n      vertical-align: baseline;\n    }\n  `\n}\n","import React, {forwardRef} from 'react'\nimport styled from 'styled-components'\nimport {\n  ResponsiveFontStyleProps,\n  responsiveHeadingFont,\n  responsiveTextAlignStyle,\n  ResponsiveTextAlignStyleProps,\n} from '../../styles/internal'\nimport {ThemeFontWeightKey} from '../../theme'\nimport {TextAlign} from '../../types'\nimport {headingBaseStyle} from './styles'\nimport {HeadingStyleProps} from './types'\n\n/**\n * @public\n */\nexport interface HeadingProps {\n  accent?: boolean\n  align?: TextAlign | TextAlign[]\n  as?: React.ElementType | keyof JSX.IntrinsicElements\n  muted?: boolean\n  size?: number | number[]\n  /**\n   * Controls how overflowing text is treated.\n   * Use `textOverflow=\"ellipsis\"` to render text as a single line which is concatenated with a `…` symbol.\n   * @beta\n   */\n  textOverflow?: 'ellipsis'\n  weight?: ThemeFontWeightKey\n}\n\nconst Root = styled.div<\n  HeadingStyleProps & ResponsiveTextAlignStyleProps & ResponsiveFontStyleProps\n>(headingBaseStyle, responsiveTextAlignStyle, responsiveHeadingFont)\n\nconst SpanWithTextOverflow = styled.span`\n  display: block;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  overflow: hidden;\n`\n\n/**\n * @public\n */\nexport const Heading = forwardRef(function Heading(\n  props: HeadingProps & Omit<React.HTMLProps<HTMLElement>, 'as' | 'size'>,\n  ref: React.ForwardedRef<HTMLElement>\n) {\n  const {\n    accent = false,\n    align,\n    children: childrenProp,\n    muted = false,\n    size = 2,\n    textOverflow,\n    weight,\n    ...restProps\n  } = props\n\n  let children = childrenProp\n\n  if (textOverflow === 'ellipsis') {\n    children = <SpanWithTextOverflow>{children}</SpanWithTextOverflow>\n  }\n\n  return (\n    <Root\n      data-ui=\"Heading\"\n      {...restProps}\n      $accent={accent}\n      $align={align}\n      $muted={muted}\n      $size={size}\n      $weight={weight}\n      ref={ref}\n    >\n      <span>{children}</span>\n    </Root>\n  )\n})\n","import {CSSObject} from 'styled-components'\nimport {getResponsiveProp, rem, responsive, ThemeProps} from '../../styles'\nimport {ResponsiveInlineSpaceStyleProps} from './types'\n\nexport function inlineBaseStyle(): CSSObject {\n  return {\n    lineHeight: 0,\n\n    '&&:not([hidden])': {\n      display: 'block',\n    },\n\n    '& > div': {\n      display: 'inline-block',\n      verticalAlign: 'middle',\n    },\n  }\n}\n\nexport function inlineSpaceStyle(props: ResponsiveInlineSpaceStyleProps & ThemeProps): CSSObject[] {\n  const {theme} = props\n\n  return responsive(theme.sanity.media, getResponsiveProp(props.$space), (spaceIndex) => {\n    const space = rem(theme.sanity.space[spaceIndex])\n\n    return {\n      margin: `-${space} 0 0 -${space}`,\n      '& > div': {padding: `${space} 0 0 ${space}`},\n    }\n  })\n}\n","import React, {forwardRef} from 'react'\nimport styled from 'styled-components'\nimport {Box, BoxProps} from '../box'\nimport {childrenToElementArray} from '../helpers'\nimport {inlineBaseStyle, inlineSpaceStyle} from './styles'\nimport {ResponsiveInlineSpaceStyleProps} from './types'\n\n/**\n * @public\n */\nexport interface InlineProps extends Omit<BoxProps, 'display'> {\n  space?: number | number[]\n}\n\nconst Root = styled(Box)<ResponsiveInlineSpaceStyleProps>(inlineBaseStyle, inlineSpaceStyle)\n\n/**\n * @public\n */\nexport const Inline = forwardRef(function Inline(\n  props: InlineProps & React.HTMLProps<HTMLDivElement>,\n  ref\n) {\n  const {as, children: childrenProp, space, ...restProps} = props\n  const children = childrenToElementArray(childrenProp).filter(Boolean)\n\n  return (\n    <Root data-ui=\"Inline\" {...restProps} $space={space} forwardedAs={as} ref={ref}>\n      {children.map((child, idx) => (\n        <div key={idx}>{child}</div>\n      ))}\n    </Root>\n  )\n})\n","import React, {forwardRef} from 'react'\nimport styled, {css} from 'styled-components'\nimport {responsiveRadiusStyle, ResponsiveRadiusStyleProps} from '../../styles/internal'\nimport {Box} from '../box'\nimport {Code} from '../code'\n\n/**\n * @public\n */\nexport interface KBDProps {\n  as?: React.ElementType | keyof JSX.IntrinsicElements\n  fontSize?: number | number[]\n  padding?: number | number[]\n  radius?: number | number[]\n}\n\nfunction kbdStyle() {\n  return css`\n    background: var(--card-bg-color);\n    font: inherit;\n    box-shadow: inset 0 0 0 1px var(--card-hairline-hard-color);\n\n    &:not([hidden]) {\n      display: inline-block;\n    }\n  `\n}\n\nconst Root = styled.kbd<ResponsiveRadiusStyleProps>(responsiveRadiusStyle, kbdStyle)\n\n/**\n * @public\n */\nexport const KBD = forwardRef(function KBD(\n  props: KBDProps & Omit<React.HTMLProps<HTMLElement>, 'as' | 'ref' | 'size'>,\n  ref: React.ForwardedRef<HTMLDivElement>\n) {\n  const {children, fontSize = 1, padding = 1, radius = 2, ...restProps} = props\n\n  return (\n    <Root data-ui=\"KBD\" {...restProps} $radius={radius} ref={ref}>\n      <Box as=\"span\" padding={padding}>\n        <Code as=\"span\" muted size={fontSize}>\n          {children}\n        </Code>\n      </Box>\n    </Root>\n  )\n})\n","import {createContext} from 'react'\nimport {globalScope} from '../../lib/globalScope'\nimport {BoundaryElementContextValue} from './types'\n\nconst key = Symbol.for('@sanity/ui/context/boundaryElement')\n\nglobalScope[key] = globalScope[key] || createContext<BoundaryElementContextValue | null>(null)\n\nexport const BoundaryElementContext: React.Context<BoundaryElementContextValue | null> =\n  globalScope[key]\n","import React, {useMemo} from 'react'\nimport {BoundaryElementContext} from './boundaryElementContext'\nimport {BoundaryElementContextValue} from './types'\n\n/**\n * @public\n */\nexport interface BoundaryElementProviderProps {\n  children: React.ReactNode\n  element: HTMLElement | null\n}\n\n/**\n * @public\n */\nexport function BoundaryElementProvider(props: BoundaryElementProviderProps): React.ReactElement {\n  const {children, element} = props\n  const value: BoundaryElementContextValue = useMemo(() => ({version: 0.0, element}), [element])\n\n  return <BoundaryElementContext.Provider value={value}>{children}</BoundaryElementContext.Provider>\n}\n","import {useContext} from 'react'\nimport {isRecord} from '../../lib/isRecord'\nimport {BoundaryElementContext} from './boundaryElementContext'\nimport {BoundaryElementContextValue} from './types'\n\nconst DEFAULT_VALUE: BoundaryElementContextValue = {\n  version: 0.0,\n  element: null,\n}\n\n/**\n * @public\n */\nexport function useBoundaryElement(): BoundaryElementContextValue {\n  const value = useContext(BoundaryElementContext)\n\n  // NOTE: This check is for future-compatiblity\n  // - If the value is not an object, it’s not compatible with the current version\n  // - If the value is an object, but doesn’t have `version: 0.0`, it’s not compatible with the current version\n  if (value && (!isRecord(value) || value.version !== 0.0)) {\n    throw new Error('useBoundaryElement(): the context value is not compatible')\n  }\n\n  return value || DEFAULT_VALUE\n}\n","import {ResizeObserver as ResizeObserverPolyfill} from '@juggle/resize-observer'\n\n/**\n * @internal\n */\nconst RO: typeof ResizeObserver = (\n  typeof window !== 'undefined' && window.ResizeObserver\n    ? window.ResizeObserver\n    : ResizeObserverPolyfill\n) as any\n\nexport {RO as ResizeObserver}\n","export function findMaxBreakpoints(media: number[], width: number): number[] {\n  const ret: number[] = []\n\n  for (let i = 0; i < media.length; i += 1) {\n    const bp = media[i]\n\n    if (bp > width) {\n      ret.push(i)\n    }\n  }\n\n  return ret\n}\n\nexport function findMinBreakpoints(media: number[], width: number): number[] {\n  const ret: number[] = []\n\n  for (let i = 0; i < media.length; i += 1) {\n    const bp = media[i]\n\n    if (bp <= width) {\n      ret.push(i)\n    }\n  }\n\n  return ret\n}\n","import React, {forwardRef, useCallback, useEffect, useMemo, useState} from 'react'\nimport {useForwardedRef} from '../../hooks'\nimport {useTheme} from '../../theme'\nimport {ResizeObserver} from '../resizeObserver'\nimport {findMaxBreakpoints, findMinBreakpoints} from './helpers'\n\n/**\n * DO NOT USE IN PRODUCTION.\n * @beta\n */\nexport interface MediaQueryProps {\n  as?: React.ElementType | keyof JSX.IntrinsicElements\n  media?: number[]\n}\n\n/**\n * DO NOT USE IN PRODUCTION.\n * @beta\n */\nexport const ElementQuery = forwardRef(function ElementQuery(\n  props: MediaQueryProps & Omit<React.HTMLProps<HTMLDivElement>, 'as' | 'media'>,\n  ref: React.ForwardedRef<HTMLDivElement>\n) {\n  const theme = useTheme()\n  const {children, media = theme.sanity.media, ...restProps} = props\n  const [width, setWidth] = useState(() => window.innerWidth)\n  const forwardedRef = useForwardedRef(ref)\n  const [element, setElement] = useState<HTMLDivElement | null>(null)\n\n  useEffect(() => {\n    if (!element) return\n\n    const handleResizeEntries: ResizeObserverCallback = (entries) => {\n      setWidth(entries[0].contentRect.width)\n    }\n\n    const ro = new ResizeObserver(handleResizeEntries)\n\n    ro.observe(element)\n\n    return () => ro.disconnect()\n  }, [element])\n\n  const max = useMemo(() => findMaxBreakpoints(media, width), [media, width])\n  const min = useMemo(() => findMinBreakpoints(media, width), [media, width])\n\n  const setRef = useCallback(\n    (el: HTMLDivElement | null) => {\n      forwardedRef.current = el\n      setElement(el)\n    },\n    [forwardedRef]\n  )\n\n  return (\n    <div\n      data-ui=\"ElementQuery\"\n      {...restProps}\n      data-eq-max={max.length ? max.join(' ') : undefined}\n      data-eq-min={min.length ? min.join(' ') : undefined}\n      ref={setRef}\n    >\n      {children}\n    </div>\n  )\n})\n","import React from 'react'\nimport {Code} from '../primitives/code'\n\n/**\n * DO NOT USE IN PRODUCTION\n * @beta\n */\nexport interface ErrorBoundaryProps {\n  onCatch: (params: {error: Error; info: React.ErrorInfo}) => void\n}\n\n/**\n * DO NOT USE IN PRODUCTION\n * @beta\n */\nexport interface ErrorBoundaryState {\n  error: Error | null\n}\n\n/**\n * DO NOT USE IN PRODUCTION\n * @beta\n */\nexport class ErrorBoundary extends React.Component<ErrorBoundaryProps, ErrorBoundaryState> {\n  state: ErrorBoundaryState = {error: null}\n\n  static getDerivedStateFromError(error: Error): ErrorBoundaryState {\n    // Update state so the next render will show the fallback UI.\n    return {error}\n  }\n\n  componentDidCatch(error: Error, info: React.ErrorInfo): void {\n    this.props.onCatch({error, info})\n  }\n\n  render(): React.ReactNode {\n    const {error} = this.state\n\n    if (error) {\n      return <Code>{error.message}</Code>\n    }\n\n    return this.props.children\n  }\n}\n","import {createContext} from 'react'\nimport {globalScope} from '../../lib/globalScope'\nimport {LayerContextValue} from './types'\n\nconst key = Symbol.for('@sanity/ui/context/layer')\n\nglobalScope[key] = globalScope[key] || createContext<LayerContextValue | null>(null)\n\nexport const LayerContext: React.Context<LayerContextValue | null> = globalScope[key]\n","import {useContext} from 'react'\nimport {isRecord} from '../../lib/isRecord'\nimport {LayerContext} from './layerContext'\nimport {LayerContextValue} from './types'\n\n/**\n * @public\n */\nexport function useLayer(): LayerContextValue {\n  const value = useContext(LayerContext)\n\n  if (!value) {\n    throw new Error('useLayer(): missing context value')\n  }\n\n  // NOTE: This check is for future-compatiblity\n  // - If the value is not an object, it’s not compatible with the current version\n  // - If the value is an object, but doesn’t have `version: 0.0`, it’s not compatible with the current version\n  if (!isRecord(value) || value.version !== 0.0) {\n    throw new Error('useLayer(): the context value is not compatible')\n  }\n\n  return value\n}\n","import React, {useCallback, useContext, useEffect, useMemo, useState} from 'react'\nimport {useMediaIndex, useResponsiveProp} from '../../hooks'\nimport {LayerContext} from './layerContext'\nimport {LayerContextValue} from './types'\n\n/**\n * @public\n */\nexport interface LayerProviderProps {\n  children?: React.ReactNode\n  zOffset?: number | number[]\n}\n\n/**\n * @public\n */\nexport function LayerProvider(props: LayerProviderProps): React.ReactElement {\n  const {children, zOffset: zOffsetProp = 0} = props\n  const parent = useContext(LayerContext)\n  const zOffset = useResponsiveProp(zOffsetProp)\n  const maxMediaIndex = zOffset.length - 1\n  const mediaIndex = Math.min(useMediaIndex(), maxMediaIndex)\n  const zIndex = parent ? parent.zIndex + zOffset[mediaIndex] : zOffset[mediaIndex]\n  const [size, setSize] = useState(0)\n\n  const registerChild = useCallback(() => {\n    setSize((v) => v + 1)\n\n    return () => setSize((v) => v - 1)\n  }, [])\n\n  const parentRegisterChild = parent?.registerChild\n\n  useEffect(() => {\n    if (!parentRegisterChild) return\n\n    return parentRegisterChild()\n  }, [parentRegisterChild])\n\n  const value: LayerContextValue = useMemo(\n    () => ({version: 0.0, isTopLayer: size === 0, registerChild, size, zIndex}),\n    [size, registerChild, zIndex]\n  )\n\n  return <LayerContext.Provider value={value}>{children}</LayerContext.Provider>\n}\n","import React, {forwardRef} from 'react'\nimport styled from 'styled-components'\nimport {EMPTY_RECORD} from '../../constants'\nimport {LayerProvider} from './layerProvider'\nimport {useLayer} from './useLayer'\n\n/**\n * @public\n */\nexport interface LayerProps {\n  as?: React.ElementType | keyof JSX.IntrinsicElements\n  zOffset?: number | number[]\n}\n\ninterface LayerChildrenProps {\n  as?: React.ElementType | keyof JSX.IntrinsicElements\n}\n\nconst Root = styled.div`\n  position: relative;\n`\n\nconst LayerChildren = forwardRef(function LayerChildren(\n  props: LayerChildrenProps & Omit<React.HTMLProps<HTMLDivElement>, 'as'>,\n  ref: React.Ref<HTMLDivElement>\n) {\n  const {children, style = EMPTY_RECORD, ...restProps} = props\n  const {zIndex} = useLayer()\n\n  return (\n    <Root {...restProps} ref={ref} style={{...style, zIndex}}>\n      {children}\n    </Root>\n  )\n})\n\n/**\n * @public\n */\nexport const Layer = forwardRef(function Layer(\n  props: LayerProps & Omit<React.HTMLProps<HTMLDivElement>, 'as'>,\n  ref: React.Ref<HTMLDivElement>\n) {\n  const {children, zOffset = 1, ...restProps} = props\n\n  return (\n    <LayerProvider zOffset={zOffset}>\n      <LayerChildren {...restProps} ref={ref}>\n        {children}\n      </LayerChildren>\n    </LayerProvider>\n  )\n})\n","import {createContext} from 'react'\nimport {globalScope} from '../../lib/globalScope'\nimport {PortalContextValue} from './types'\n\nconst key = Symbol.for('@sanity/ui/context/portal')\nconst elementKey = Symbol.for('@sanity/ui/context/portal/element')\n\nglobalScope[elementKey] = null\n\nexport const defaultContextValue: PortalContextValue = {\n  version: 0.0,\n  boundaryElement: null,\n  get element() {\n    if (typeof window === 'undefined') {\n      return null\n    }\n\n    if (globalScope[elementKey]) {\n      return globalScope[elementKey]\n    }\n\n    globalScope[elementKey] = document.createElement('div')\n    globalScope[elementKey].setAttribute('data-portal', '')\n\n    document.body.appendChild(globalScope[elementKey])\n\n    return globalScope[elementKey]\n  },\n}\n\nglobalScope[key] = globalScope[key] || createContext<PortalContextValue>(defaultContextValue)\n\nexport const PortalContext: React.Context<PortalContextValue> = globalScope[key]\n","import {useContext} from 'react'\nimport {isRecord} from '../../lib/isRecord'\nimport {PortalContext} from './portalContext'\nimport {PortalContextValue} from './types'\n\n/**\n * @public\n */\nexport function usePortal(): PortalContextValue {\n  const value = useContext(PortalContext)\n\n  if (!value) {\n    throw new Error('usePortal(): missing context value')\n  }\n\n  // NOTE: This check is for future-compatiblity\n  // - If the value is not an object, it’s not compatible with the current version\n  // - If the value is an object, but doesn’t have `version: 0.0`, it’s not compatible with the current version\n  if (!isRecord(value) || value.version !== 0.0) {\n    throw new Error('usePortal(): the context value is not compatible')\n  }\n\n  return value\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport {usePortal} from './usePortal'\n\n/**\n * @public\n */\nexport interface PortalProps {\n  children: React.ReactNode\n  /**\n   * @beta This API might change. DO NOT USE IN PRODUCTION.\n   */\n  __unstable_name?: string\n}\n\n/**\n * @public\n */\nexport function Portal(props: PortalProps): React.ReactPortal | null {\n  const {children, __unstable_name: name} = props\n  const portal = usePortal()\n  const portalElement =\n    (name ? portal.elements && portal.elements[name] : portal.element) || portal.elements?.default\n\n  if (!portalElement) {\n    return null\n  }\n\n  return ReactDOM.createPortal(children, portalElement)\n}\n","import {isEqual} from 'lodash'\nimport {useRef} from 'react'\n\n/**\n * This is React hook – an and escape hatch – to make sure that a value is the same\n * on every render. SHOULD NOT BE USED IN MOST CASES.\n *\n * @internal\n */\nexport function useUnique<ValueType>(value: ValueType): ValueType {\n  const valueRef = useRef<ValueType>(value)\n\n  if (!isEqual(valueRef.current, value)) {\n    valueRef.current = value\n  }\n\n  return valueRef.current\n}\n","import React, {useMemo} from 'react'\nimport {useUnique} from '../../hooks/_internal'\nimport {PortalContext} from './portalContext'\nimport {PortalContextValue} from './types'\n\n/**\n * @public\n */\nexport interface PortalProviderProps {\n  /**\n   * @deprecated Use `<BoundaryElementProvider element={...} />` instead\n   */\n  boundaryElement?: HTMLElement | null\n  children: React.ReactNode\n  element?: HTMLElement | null\n  /**\n   * @beta\n   */\n  __unstable_elements?: Record<string, HTMLElement | null | undefined>\n}\n\nconst __BROWSER__ = typeof window !== 'undefined'\n\n/**\n * @public\n */\nexport function PortalProvider(props: PortalProviderProps): React.ReactElement {\n  const {boundaryElement, children, element, __unstable_elements: elementsProp} = props\n  const elements = useUnique(elementsProp)\n\n  const value: PortalContextValue = useMemo(() => {\n    return {\n      version: 0.0,\n      boundaryElement: boundaryElement || null,\n      element: element || (__BROWSER__ && document.body) || null,\n      elements,\n    }\n  }, [boundaryElement, element, elements])\n\n  return <PortalContext.Provider value={value}>{children}</PortalContext.Provider>\n}\n","import React, {forwardRef} from 'react'\nimport styled from 'styled-components'\n\n/**\n * @public\n */\nexport interface SrOnlyProps {\n  as?: React.ElementType | keyof JSX.IntrinsicElements\n  children?: React.ReactNode\n}\n\nconst Root = styled.div`\n  display: block;\n  width: 0;\n  height: 0;\n  position: absolute;\n  overflow: hidden;\n`\n\n/**\n * @public\n */\nexport const SrOnly = forwardRef(function SrOnly(\n  props: SrOnlyProps & Omit<React.HTMLProps<HTMLDivElement>, 'aria-hidden' | 'as'>,\n  ref: React.Ref<HTMLDivElement>\n) {\n  const {as, children} = props\n\n  return (\n    <Root aria-hidden as={as} data-ui=\"SrOnly\" ref={ref}>\n      {children}\n    </Root>\n  )\n})\n","/**\n * @internal\n */\nexport function _raf(fn: () => void): () => void {\n  const frameId = requestAnimationFrame(fn)\n\n  return () => {\n    cancelAnimationFrame(frameId)\n  }\n}\n\n/**\n * @internal\n */\nexport function _raf2(fn: () => void): () => void {\n  let innerDispose: (() => void) | null = null\n\n  const outerDispose = _raf(() => {\n    innerDispose = _raf(fn)\n  })\n\n  return () => {\n    if (innerDispose) innerDispose()\n\n    outerDispose()\n  }\n}\n","/**\n * @internal\n */\nexport function _isEnterToClickElement(element: HTMLElement): boolean {\n  return isHTMLAnchorElement(element) || isHTMLButtonElement(element)\n}\n\n/**\n * @internal\n */\nexport function isHTMLElement(node: unknown): node is HTMLElement {\n  return node instanceof Node && node.nodeType === Node.ELEMENT_NODE\n}\n\n/**\n * @internal\n */\nexport function isHTMLAnchorElement(element: unknown): element is HTMLAnchorElement {\n  return isHTMLElement(element) && element.nodeName === 'A'\n}\n\n/**\n * @internal\n */\nexport function isHTMLInputElement(element: unknown): element is HTMLInputElement {\n  return isHTMLElement(element) && element.nodeName === 'INPUT'\n}\n\n/**\n * @internal\n */\nexport function isHTMLButtonElement(element: unknown): element is HTMLButtonElement {\n  return isHTMLElement(element) && element.nodeName === 'BUTTON'\n}\n\n/**\n * @internal\n */\nexport function isHTMLSelectElement(element: unknown): element is HTMLSelectElement {\n  return isHTMLElement(element) && element.nodeName === 'SELECT'\n}\n\n/**\n * @internal\n */\nexport function isHTMLTextAreaElement(element: unknown): element is HTMLTextAreaElement {\n  return isHTMLElement(element) && element.nodeName === 'TEXTAREA'\n}\n","import {\n  isHTMLElement,\n  isHTMLAnchorElement,\n  isHTMLInputElement,\n  isHTMLButtonElement,\n  isHTMLSelectElement,\n  isHTMLTextAreaElement,\n} from './element'\n\n// export const globalFocusState = {\n//   IgnoreUtilFocusChanges: false,\n// }\n\n/**\n * @internal\n */\nexport function _hasFocus(element: HTMLElement): boolean {\n  return Boolean(document.activeElement) && element.contains(document.activeElement)\n}\n\n/**\n * @internal\n */\nexport function isFocusable(element: HTMLElement): boolean {\n  if (\n    element.tabIndex > 0 ||\n    (element.tabIndex === 0 && element.getAttribute('tabIndex') !== null)\n  ) {\n    return true\n  }\n\n  if (isHTMLAnchorElement(element)) {\n    return Boolean(element.href) && element.rel !== 'ignore'\n  }\n\n  if (isHTMLInputElement(element)) {\n    return element.type !== 'hidden' && element.type !== 'file' && !element.disabled\n  }\n\n  if (\n    isHTMLButtonElement(element) ||\n    isHTMLSelectElement(element) ||\n    isHTMLTextAreaElement(element)\n  ) {\n    return !element.disabled\n  }\n\n  return false\n}\n\n/**\n * @internal\n */\nexport function attemptFocus(element: HTMLElement): boolean {\n  if (!isFocusable(element)) {\n    return false\n  }\n\n  // globalFocusState.IgnoreUtilFocusChanges = true\n\n  try {\n    element.focus()\n  } catch (_) {\n    // ignore\n  }\n\n  // globalFocusState.IgnoreUtilFocusChanges = false\n\n  return document.activeElement === element\n}\n\n/**\n * @internal\n */\nexport function focusFirstDescendant(element: HTMLElement): boolean {\n  for (let i = 0; i < element.childNodes.length; i++) {\n    const child = element.childNodes[i]\n\n    if (isHTMLElement(child) && (attemptFocus(child) || focusFirstDescendant(child))) {\n      return true\n    }\n  }\n\n  return false\n}\n\n/**\n * @internal\n */\nexport function focusLastDescendant(element: HTMLElement): boolean {\n  for (let i = element.childNodes.length - 1; i >= 0; i--) {\n    const child = element.childNodes[i]\n\n    if (isHTMLElement(child) && (attemptFocus(child) || focusLastDescendant(child))) {\n      return true\n    }\n  }\n\n  return false\n}\n","/**\n * @internal\n */\nexport function _isScrollable(el: Node): boolean {\n  if (!(el instanceof Element)) return false\n\n  const style = window.getComputedStyle(el)\n\n  return (\n    style.overflowX.includes('auto') ||\n    style.overflowX.includes('scroll') ||\n    style.overflowY.includes('auto') ||\n    style.overflowY.includes('scroll')\n  )\n}\n","import React, {forwardRef, useEffect, useMemo, useRef, useState} from 'react'\nimport styled from 'styled-components'\nimport {_isScrollable} from '../../helpers'\nimport {useForwardedRef} from '../../hooks'\nimport {StackProps} from '../../primitives'\nimport {useTheme} from '../../theme'\n\n/**\n * @beta\n */\nexport interface VirtualListChangeOpts {\n  fromIndex: number\n  gap: number\n  itemHeight: number\n  scrollHeight: number\n  scrollTop: number\n  toIndex: number\n}\n\n/**\n * @beta\n */\nexport interface VirtualListProps<Item = any> {\n  as?: React.ElementType | keyof JSX.IntrinsicElements\n  gap?: number\n  getItemKey?: (item: Item, itemIndex: number) => string\n  items?: Item[]\n  onChange?: (opts: VirtualListChangeOpts) => void\n  renderItem?: (item: Item) => React.ReactNode\n}\n\nconst Root = styled.div`\n  position: relative;\n`\n\nconst ItemWrapper = styled.div`\n  position: absolute;\n  left: 0;\n  right: 0;\n`\n\n/**\n * @beta\n */\nexport const VirtualList = forwardRef(function VirtualList(\n  props: VirtualListProps &\n    StackProps &\n    Omit<React.HTMLProps<HTMLDivElement>, 'as' | 'children' | 'onChange' | 'ref'>,\n  ref: React.ForwardedRef<HTMLDivElement>\n): React.ReactElement {\n  const {as = 'div', gap = 0, getItemKey, items = [], onChange, renderItem, ...restProps} = props\n  const {space} = useTheme().sanity\n  const forwardedRef = useForwardedRef(ref)\n  const wrapperRef = useRef<HTMLDivElement | null>(null)\n  const [scrollTop, setScrollTop] = useState(0)\n  const [scrollHeight, setScrollHeight] = useState(0)\n  const [itemHeight, setItemHeight] = useState(-1)\n\n  useEffect(() => {\n    if (!wrapperRef.current) return\n\n    const firstElement = wrapperRef.current.firstChild\n\n    if (firstElement instanceof HTMLElement) {\n      setItemHeight(firstElement.offsetHeight)\n    }\n  }, [renderItem])\n\n  useEffect(() => {\n    if (!forwardedRef.current) return\n\n    let _scrollEl = forwardedRef.current.parentNode\n\n    while (_scrollEl && !_isScrollable(_scrollEl)) {\n      _scrollEl = _scrollEl.parentNode\n    }\n\n    if (_scrollEl) {\n      const scrollEl = _scrollEl\n\n      if (!(scrollEl instanceof HTMLElement)) return\n\n      const handleScroll = () => {\n        setScrollTop(scrollEl.scrollTop)\n      }\n\n      scrollEl.addEventListener('scroll', handleScroll, {passive: true})\n\n      const ro = new ResizeObserver((entries) => {\n        setScrollHeight(entries[0].contentRect.height)\n      })\n\n      ro.observe(scrollEl)\n\n      handleScroll()\n\n      return () => {\n        scrollEl.removeEventListener('scroll', handleScroll)\n        ro.unobserve(scrollEl)\n        ro.disconnect()\n      }\n    }\n\n    const handleScroll = () => {\n      setScrollTop(window.scrollY)\n    }\n\n    const handleResize = () => {\n      setScrollHeight(window.innerHeight)\n    }\n\n    window.addEventListener('scroll', handleScroll, {passive: true})\n    window.addEventListener('resize', handleResize)\n\n    setScrollHeight(window.innerHeight)\n\n    handleScroll()\n\n    return () => {\n      window.removeEventListener('scroll', handleScroll)\n      window.removeEventListener('resize', handleResize)\n    }\n  }, [forwardedRef])\n\n  const len = items.length\n  const height = itemHeight ? len * (itemHeight + space[gap]) - space[gap] : 0\n  const fromIndex = height ? Math.max(Math.floor((scrollTop / height) * len) - 2, 0) : 0\n  const toIndex = height ? Math.ceil(((scrollTop + scrollHeight) / height) * len) + 1 : 0\n\n  useEffect(() => {\n    if (!onChange) return\n    onChange({fromIndex, gap: space[gap], itemHeight, scrollHeight, scrollTop, toIndex})\n  }, [fromIndex, gap, itemHeight, onChange, scrollHeight, scrollTop, space, toIndex])\n\n  const children = useMemo(() => {\n    if (!renderItem || items.length === 0) return null\n\n    if (itemHeight === -1) {\n      return [<ItemWrapper key={0}>{renderItem(items[0])}</ItemWrapper>]\n    }\n\n    return items.slice(fromIndex, toIndex).map((item, _itemIndex) => {\n      const itemIndex = fromIndex + _itemIndex\n      const node = renderItem(item)\n      const key = getItemKey ? getItemKey(item, itemIndex) : itemIndex\n\n      return (\n        <ItemWrapper key={key} style={{top: itemIndex * (itemHeight + space[gap])}}>\n          {node}\n        </ItemWrapper>\n      )\n    })\n  }, [fromIndex, gap, getItemKey, itemHeight, items, renderItem, space, toIndex])\n\n  const wrapperStyle = useMemo(() => ({height}), [height])\n\n  return (\n    <Root as={as} data-ui=\"VirtualList\" {...restProps} ref={forwardedRef}>\n      <div ref={wrapperRef} style={wrapperStyle}>\n        {children}\n      </div>\n    </Root>\n  )\n})\n","import React, {forwardRef} from 'react'\nimport styled from 'styled-components'\n\nconst Root = styled.div`\n  position: absolute;\n  pointer-events: none;\n  width: 27px;\n  height: 27px;\n  fill: none;\n\n  :empty + & {\n    display: none;\n  }\n\n  & > svg {\n    display: block;\n    transform-origin: 13.5px 13.5px;\n  }\n\n  [data-popper-placement^='top'] > div > & {\n    bottom: -27px;\n  }\n\n  [data-popper-placement^='right'] > div > & {\n    left: -27px;\n\n    & > svg {\n      transform: rotate(90deg);\n    }\n  }\n\n  [data-popper-placement^='left'] > div > & {\n    right: -27px;\n\n    & > svg {\n      transform: rotate(-90deg);\n    }\n  }\n\n  [data-popper-placement^='bottom'] > div > & {\n    top: -27px;\n\n    & > svg {\n      transform: rotate(180deg);\n    }\n  }\n`\n\nconst BorderPath = styled.path`\n  fill: var(--card-shadow-outline-color);\n`\n\nconst ShapePath = styled.path`\n  fill: var(--card-bg-color);\n`\n\nexport const PopoverArrow = forwardRef(function PopoverArrow(\n  props: Omit<React.HTMLProps<HTMLDivElement>, 'as'>,\n  ref: React.ForwardedRef<HTMLDivElement>\n) {\n  return (\n    <Root data-ui=\"PopoverArrow\" {...props} ref={ref}>\n      <svg\n        width=\"27\"\n        height=\"11\"\n        viewBox=\"0 0 27 11\"\n        fill=\"none\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n      >\n        <BorderPath d=\"M1.18708 1C3.29803 1.0011 5.29585 1.95479 6.62414 3.59561L11.1683 9.20895C12.369 10.6922 14.631 10.6922 15.8317 9.20894L20.3759 3.59561C21.7042 1.95478 23.702 1.0011 25.8129 1H21.9436C21.0533 1.49255 20.2545 2.15618 19.5986 2.96641L15.0545 8.57975C14.254 9.56855 12.746 9.56855 11.9455 8.57975L7.40139 2.96642C6.74548 2.15618 5.94673 1.49255 5.05643 1H1.18708Z\" />\n        <ShapePath d=\"M1.18342 0C3.59749 0 5.88246 1.0901 7.40138 2.96642L11.9455 8.57975C12.746 9.56855 14.254 9.56855 15.0545 8.57975L19.5986 2.96641C21.1175 1.0901 23.4025 0 25.8166 0H27H0H1.18342Z\" />\n      </svg>\n    </Root>\n  )\n})\n","import maxSizeModifier from 'popper-max-size-modifier'\nimport {Modifier} from 'react-popper'\nimport {PopoverModifiersProps} from './types'\n\n/*\n\nThe order of popper phases:\n\n- beforeRead\n- read\n- afterRead\n- beforeMain\n- main\n- afterMain\n- beforeWrite\n- write\n- afterWrite\n\n*/\n\nexport function getPopoverModifiers(props: PopoverModifiersProps): Modifier<any, any>[] {\n  const {\n    allowedAutoPlacements,\n    arrow,\n    arrowElement,\n    boundaryElement,\n    constrainSize,\n    distance,\n    fallbackPlacements,\n    margins,\n    matchReferenceWidth,\n    open,\n    preventOverflow,\n    skidding,\n    tether,\n    tetherOffset,\n  } = props\n\n  // NOTE: For later viewers:\n  // Prior to adding this change, the popover would get `maxWidth: 0` the 2nd time it\n  // was opened, when used with `constrainSize`. I was looking for a way to \"reset\"\n  // the size of the popover as measured by Popper.js, and this seems to be a workaround.\n  if (!open) {\n    return []\n  }\n\n  const detectOverflowOptions = {\n    altAxis: !constrainSize,\n    boundary: boundaryElement || undefined,\n    padding: 8,\n    tether,\n    tetherOffset,\n  }\n\n  return [\n    constrainSize && {\n      ...maxSizeModifier,\n      options: detectOverflowOptions,\n    },\n    constrainSize && {\n      name: 'applyMaxSize',\n      enabled: true,\n      phase: 'beforeWrite',\n      requires: ['maxSize'],\n      fn({state}: any) {\n        const {width, height} = state.modifiersData.maxSize\n\n        state.styles.popper = {\n          ...state.styles.popper,\n          maxWidth: `${width}px`,\n          maxHeight: `${height}px`,\n        }\n      },\n    },\n    arrow && {\n      name: 'arrow',\n      options: {\n        element: arrowElement,\n        padding: 4,\n      },\n    },\n    (constrainSize || preventOverflow) && {\n      name: 'preventOverflow',\n      options: detectOverflowOptions,\n    },\n    {\n      name: 'offset',\n      options: {\n        offset: [skidding, distance],\n      },\n    },\n    margins && {\n      name: 'margins',\n      enabled: true,\n      phase: 'beforeRead',\n      fn: ({state}: any) => {\n        const {rects} = state\n\n        if (rects.reference) {\n          rects.reference.x += margins[3]\n          rects.reference.y += margins[1]\n          rects.reference.width -= margins[1] + margins[3]\n          rects.reference.height -= margins[0] + margins[2]\n        }\n      },\n    },\n    {\n      name: 'flip',\n      options: {\n        allowedAutoPlacements,\n        boundary: boundaryElement || undefined,\n        fallbackPlacements,\n        padding: 8,\n      },\n    },\n    matchReferenceWidth && {\n      name: 'matchWidth',\n      enabled: true,\n      phase: 'beforeWrite',\n      requires: ['computeStyles'],\n      fn({state}: any) {\n        const {width} = state.rects.reference\n\n        state.styles.popper.width = `${width}px`\n      },\n      effect: ({state}: any) => {\n        const refElement = state.elements.reference\n\n        if (refElement instanceof HTMLElement) {\n          state.elements.popper.style.width = `${\n            refElement.offsetWidth - (margins ? margins[1] + margins[3] : 0)\n          }px`\n        }\n      },\n    },\n  ].filter(Boolean) as Modifier<any, any>[]\n}\n","import {useMemo} from 'react'\nimport {Modifier} from 'react-popper'\n\nimport {getPopoverModifiers} from './getPopoverModifiers'\nimport {PopoverModifiersProps} from './types'\n\nexport function usePopoverModifiers(props: PopoverModifiersProps): Modifier<any, any>[] {\n  const {\n    allowedAutoPlacements,\n    arrow,\n    arrowElement,\n    boundaryElement,\n    constrainSize,\n    distance,\n    fallbackPlacements,\n    margins,\n    matchReferenceWidth,\n    open,\n    preventOverflow,\n    skidding,\n    tether,\n    tetherOffset,\n  } = props\n\n  return useMemo(() => {\n    return getPopoverModifiers({\n      allowedAutoPlacements,\n      arrow,\n      arrowElement,\n      boundaryElement,\n      constrainSize,\n      distance,\n      fallbackPlacements,\n      margins,\n      matchReferenceWidth,\n      open,\n      preventOverflow,\n      skidding,\n      tether,\n      tetherOffset,\n    })\n  }, [\n    allowedAutoPlacements,\n    arrow,\n    arrowElement,\n    boundaryElement,\n    constrainSize,\n    distance,\n    fallbackPlacements,\n    margins,\n    matchReferenceWidth,\n    open,\n    preventOverflow,\n    skidding,\n    tether,\n    tetherOffset,\n  ])\n}\n","import React, {cloneElement, forwardRef, useCallback, useEffect, useMemo, useState} from 'react'\nimport {usePopper} from 'react-popper'\nimport styled, {css} from 'styled-components'\nimport {EMPTY_RECORD} from '../../constants'\nimport {useForwardedRef} from '../../hooks'\nimport {ThemeColorSchemeKey, useTheme} from '../../theme'\nimport {CardTone, Placement, PopoverMargins} from '../../types'\nimport {Layer, LayerProps, Portal, useBoundaryElement, usePortal} from '../../utils'\nimport {Card} from '../card'\nimport {ResponsiveWidthStyleProps} from '../container'\nimport {responsiveContainerWidthStyle} from '../container/styles'\nimport {ResponsiveRadiusProps, ResponsiveShadowProps, ResponsiveWidthProps} from '../types'\nimport {PopoverArrow} from './arrow'\nimport {usePopoverModifiers} from './modifiers'\n\n/**\n * @public\n */\nexport interface PopoverProps\n  extends Omit<LayerProps, 'as'>,\n    ResponsiveRadiusProps,\n    ResponsiveShadowProps,\n    ResponsiveWidthProps {\n  /**\n   * @beta\n   */\n  __unstable_margins?: PopoverMargins\n  allowedAutoPlacements?: Placement[]\n  arrow?: boolean\n  boundaryElement?: HTMLElement | null\n  children?: React.ReactElement\n  constrainSize?: boolean\n  content?: React.ReactNode\n  disabled?: boolean\n  fallbackPlacements?: Placement[]\n  open?: boolean\n  padding?: number | number[]\n  placement?: Placement\n  portal?: boolean | string\n  preventOverflow?: boolean\n  referenceElement?: HTMLElement | null\n  matchReferenceWidth?: boolean\n  scheme?: ThemeColorSchemeKey\n  tether?: boolean\n  tetherOffset?: number | ((...args: any[]) => number)\n  tone?: CardTone\n}\n\nconst Root = styled(Layer)<{$preventOverflow?: boolean}>(\n  ({$preventOverflow}) => css`\n    pointer-events: none;\n    display: flex;\n    flex-direction: column;\n    max-width: calc(100% - 16px);\n\n    & > * {\n      min-height: 0;\n    }\n\n    /* Hide the popover when the reference element is out of bounds */\n    ${$preventOverflow &&\n    css`\n      &[data-popper-reference-hidden='true'] {\n        display: none;\n      }\n    `}\n  `\n)\n\nconst PopoverCard = styled(Card)<\n  ResponsiveWidthStyleProps & {\n    $constrainSize?: boolean\n    $preventOverflow?: boolean\n  }\n>(\n  ({$constrainSize}) => css`\n    flex: 1;\n    max-height: ${$constrainSize && '100%'};\n    pointer-events: all;\n\n    && {\n      display: flex;\n    }\n\n    flex-direction: column;\n\n    & > * {\n      min-height: 0;\n    }\n\n    ${responsiveContainerWidthStyle}\n  `\n)\n\n/**\n * @public\n */\nexport const Popover = forwardRef(function Popover(\n  props: PopoverProps &\n    Omit<React.HTMLProps<HTMLDivElement>, 'as' | 'children' | 'content' | 'width'>,\n  ref: React.ForwardedRef<HTMLDivElement>\n) {\n  const boundaryElementContext = useBoundaryElement()\n  const theme = useTheme()\n  const {\n    __unstable_margins: margins,\n    allowedAutoPlacements,\n    arrow = true,\n    boundaryElement: boundaryElementProp = boundaryElementContext.element,\n    children: child,\n    content,\n    constrainSize,\n    disabled,\n    fallbackPlacements,\n    open = false,\n    padding,\n    placement = 'bottom',\n    portal: portalProp = false,\n    preventOverflow,\n    radius = 3,\n    referenceElement: referenceElementProp,\n    matchReferenceWidth,\n    shadow = 3,\n    scheme,\n    style = EMPTY_RECORD,\n    tether,\n    tetherOffset,\n    tone = 'inherit',\n    width = 0,\n    zOffset = theme.sanity.layer?.popover.zOffset,\n    ...restProps\n  } = props\n  const forwardedRef = useForwardedRef(ref)\n  const portal = usePortal()\n  const [referenceElement, setReferenceElement] = useState<HTMLElement | null>(null)\n  const [popperElement, setPopperElement] = useState<HTMLElement | null>(null)\n  const [arrowElement, setArrowElement] = useState<HTMLElement | null>(null)\n  const popperReferenceElement = referenceElementProp || referenceElement\n\n  const modifiers = usePopoverModifiers({\n    allowedAutoPlacements,\n    arrow,\n    arrowElement,\n    boundaryElement: boundaryElementProp || portal.boundaryElement,\n    constrainSize,\n    distance: arrow ? 4 : 0,\n    fallbackPlacements,\n    margins,\n    matchReferenceWidth,\n    open,\n    preventOverflow,\n    skidding: 0,\n    tether,\n    tetherOffset,\n  })\n\n  const popper = usePopper(popperReferenceElement, popperElement, {\n    placement,\n    modifiers,\n  })\n\n  const {attributes, forceUpdate, styles} = popper\n\n  const setRef = useCallback(\n    (el: HTMLElement | null) => {\n      const childRef = (child as any).ref\n\n      setReferenceElement(el)\n\n      if (typeof childRef === 'function') {\n        childRef(el)\n      } else if (childRef) {\n        childRef.current = el\n      }\n    },\n    [child]\n  )\n\n  const setRootRef = useCallback(\n    (el: HTMLDivElement | null) => {\n      setPopperElement(el)\n      forwardedRef.current = el\n    },\n    [forwardedRef]\n  )\n\n  const popoverStyle = useMemo(() => ({...style, ...styles.popper}), [style, styles])\n\n  useEffect(() => {\n    if (forceUpdate) {\n      try {\n        forceUpdate()\n      } catch (_) {\n        // ignore caught error\n      }\n    }\n  }, [content, forceUpdate, open, popperReferenceElement])\n\n  if (disabled) {\n    return child || <></>\n  }\n\n  const node = (\n    <Root\n      data-ui=\"Popover\"\n      {...restProps}\n      $preventOverflow={preventOverflow}\n      ref={setRootRef}\n      style={popoverStyle}\n      zOffset={zOffset}\n      {...attributes.popper}\n    >\n      <PopoverCard\n        $constrainSize={constrainSize}\n        data-ui=\"PopoverCard\"\n        padding={padding}\n        radius={radius}\n        scheme={scheme}\n        shadow={shadow}\n        tone={tone}\n        width={width as any}\n      >\n        {arrow && <PopoverArrow ref={setArrowElement} style={styles.arrow} />}\n        {content}\n      </PopoverCard>\n    </Root>\n  )\n\n  return (\n    <>\n      {child && !referenceElementProp ? cloneElement(child, {ref: setRef}) : child || <></>}\n\n      {open && (\n        <>\n          {portalProp && (\n            <Portal __unstable_name={typeof portalProp === 'string' ? portalProp : undefined}>\n              {node}\n            </Portal>\n          )}\n\n          {!portalProp && node}\n        </>\n      )}\n    </>\n  )\n})\n","import {css, FlattenSimpleInterpolation} from 'styled-components'\nimport {rem, ThemeProps} from '../../styles'\nimport {focusRingBorderStyle, focusRingStyle} from '../../styles/internal'\n\nexport function radioBaseStyle(): FlattenSimpleInterpolation {\n  return css`\n    position: relative;\n\n    &:not([hidden]) {\n      display: inline-block;\n    }\n\n    &[data-read-only] {\n      outline: 1px solid red;\n    }\n  `\n}\n\nexport function inputElementStyle(props: ThemeProps): FlattenSimpleInterpolation {\n  const {theme} = props\n  const {focusRing, input} = theme.sanity\n  const color = theme.sanity.color.input\n  const dist = (input.radio.size - input.radio.markSize) / 2\n\n  return css`\n    appearance: none;\n    position: absolute;\n    top: 0;\n    left: 0;\n    opacity: 0;\n    height: 100%;\n    width: 100%;\n    outline: none;\n    z-index: 1;\n    padding: 0;\n    margin: 0;\n    border-radius: ${rem(input.radio.size / 2)};\n    border: none;\n\n    /* enabled */\n    & + span {\n      display: block;\n      position: relative;\n      height: ${rem(input.radio.size)};\n      width: ${rem(input.radio.size)};\n      border-radius: ${rem(input.radio.size / 2)};\n      background: ${color.default.enabled.bg};\n      box-shadow: ${focusRingBorderStyle({\n        color: color.default.enabled.border,\n        width: input.border.width,\n      })};\n\n      &::after {\n        content: '';\n        position: absolute;\n        top: ${rem(dist)};\n        left: ${rem(dist)};\n        height: ${rem(input.radio.markSize)};\n        width: ${rem(input.radio.markSize)};\n        border-radius: ${rem(input.radio.markSize / 2)};\n        background: ${color.default.enabled.fg};\n        opacity: 0;\n      }\n    }\n\n    /* focused */\n    &:not(:disabled):focus + span {\n      box-shadow: ${focusRingStyle({\n        border: {width: input.border.width, color: color.default.enabled.border},\n        focusRing,\n      })};\n    }\n\n    &:not(:disabled):focus:not(:focus-visible) + span {\n      box-shadow: ${focusRingBorderStyle({\n        color: color.default.enabled.border,\n        width: input.border.width,\n      })};\n    }\n\n    &:checked + span::after {\n      opacity: 1;\n    }\n\n    /* read only */\n    &[data-read-only] + span {\n      box-shadow: 0 0 0 1px ${color.default.readOnly.border};\n      background: ${color.default.readOnly.bg};\n\n      &::after {\n        background: ${color.default.readOnly.fg};\n      }\n    }\n\n    /* disabled */\n    &:not([data-read-only]):disabled + span {\n      box-shadow: 0 0 0 1px ${color.default.disabled.border};\n      background: ${color.default.disabled.bg};\n\n      &::after {\n        background: ${color.default.disabled.fg};\n      }\n    }\n  `\n}\n","import React, {forwardRef} from 'react'\nimport styled from 'styled-components'\nimport {useForwardedRef, useCustomValidity} from '../../hooks'\nimport {radioBaseStyle, inputElementStyle} from './styles'\n\n/**\n * @public\n */\nexport interface RadioProps {\n  customValidity?: string\n}\n\nconst Root = styled.div(radioBaseStyle)\nconst Input = styled.input(inputElementStyle)\n\n/**\n * @public\n */\nexport const Radio = forwardRef(function Radio(\n  props: Omit<React.HTMLProps<HTMLInputElement>, 'as' | 'type'> & RadioProps,\n  forwardedRef: React.ForwardedRef<HTMLInputElement>\n) {\n  const {className, disabled, style, customValidity, readOnly, ...restProps} = props\n  const ref = useForwardedRef(forwardedRef)\n\n  useCustomValidity(ref, customValidity)\n\n  return (\n    <Root className={className} data-ui=\"Radio\" style={style}>\n      <Input\n        data-read-only={!disabled && readOnly ? '' : undefined}\n        {...restProps}\n        disabled={disabled || readOnly}\n        readOnly={readOnly}\n        ref={ref}\n        type=\"radio\"\n      />\n      <span />\n    </Root>\n  )\n})\n","import {css, CSSObject, FlattenSimpleInterpolation} from 'styled-components'\nimport {getResponsiveProp, rem, responsive, ThemeProps} from '../../styles'\nimport {\n  focusRingBorderStyle,\n  focusRingStyle,\n  responsiveInputPaddingIconRightStyle,\n  responsiveRadiusStyle,\n  ResponsiveRadiusStyleProps,\n} from '../../styles/internal'\nimport {ThemeFontSize} from '../../theme'\n\nfunction rootStyle(): FlattenSimpleInterpolation {\n  return css`\n    position: relative;\n    width: stretch;\n\n    &:not([hidden]) {\n      display: inline-block;\n    }\n  `\n}\n\nfunction inputBaseStyle(props: ThemeProps): FlattenSimpleInterpolation {\n  const {theme} = props\n  const font = theme.sanity.fonts.text\n\n  return css`\n    -webkit-font-smoothing: antialiased;\n    appearance: none;\n    border: 0;\n    font-family: ${font.family};\n    color: inherit;\n    width: 100%;\n    outline: none;\n    margin: 0;\n\n    &:disabled {\n      opacity: 1;\n    }\n  `\n}\n\nfunction inputColorStyle(props: ThemeProps) {\n  const {theme} = props\n  const {focusRing, input} = theme.sanity\n  const color = theme.sanity.color.input\n\n  return css`\n    /* enabled */\n    background-color: ${color.default.enabled.bg};\n    color: ${color.default.enabled.fg};\n    box-shadow: ${focusRingBorderStyle({\n      color: color.default.enabled.border,\n      width: input.border.width,\n    })};\n\n    /* hovered */\n    @media (hover: hover) {\n      &:not(:disabled):hover {\n        background-color: ${color.default.hovered.bg};\n        color: ${color.default.hovered.fg};\n        box-shadow: ${focusRingBorderStyle({\n          color: color.default.hovered.border,\n          width: input.border.width,\n        })};\n      }\n    }\n\n    /* focused */\n    &:not(:disabled):focus {\n      box-shadow: ${focusRingStyle({\n        border: {width: input.border.width, color: color.default.enabled.border},\n        focusRing,\n      })};\n    }\n\n    /* read-only */\n    &[data-read-only] {\n      background-color: ${color.default.readOnly.bg};\n      color: ${color.default.readOnly.fg};\n      box-shadow: ${focusRingBorderStyle({\n        color: color.default.readOnly.border,\n        width: input.border.width,\n      })};\n    }\n\n    /* disabled */\n    &:not([data-read-only]):disabled {\n      background-color: ${color.default.disabled.bg};\n      color: ${color.default.disabled.fg};\n      box-shadow: ${focusRingBorderStyle({\n        color: color.default.disabled.border,\n        width: input.border.width,\n      })};\n    }\n  `\n}\n\nfunction textSize(size: ThemeFontSize) {\n  return {fontSize: rem(size.fontSize), lineHeight: rem(size.lineHeight)}\n}\n\nfunction inputTextSizeStyle(props: {$fontSize?: number | number[]} & ThemeProps) {\n  const {theme, $fontSize} = props\n  const {sizes} = theme.sanity.fonts.text\n\n  return responsive(theme.sanity.media, getResponsiveProp($fontSize), (sizeIndex) =>\n    textSize(sizes[sizeIndex] || sizes[2])\n  )\n}\n\nfunction inputStyle(): Array<\n  | ((props: ResponsiveRadiusStyleProps & ThemeProps) => CSSObject[])\n  | ((props: ThemeProps) => FlattenSimpleInterpolation)\n> {\n  return [\n    responsiveRadiusStyle,\n    inputBaseStyle,\n    inputColorStyle,\n    inputTextSizeStyle,\n    responsiveInputPaddingIconRightStyle,\n  ]\n}\n\nfunction iconBoxStyle(props: ThemeProps): FlattenSimpleInterpolation {\n  const {theme} = props\n  const color = theme.sanity.color.input\n\n  return css`\n    pointer-events: none;\n    position: absolute;\n    top: 0;\n    right: 0;\n\n    /* enabled */\n    --card-fg-color: ${color.default.enabled.fg};\n\n    /* hover */\n    @media (hover: hover) {\n      select:not(disabled):not(:read-only):hover + && {\n        --card-fg-color: ${color.default.hovered.fg};\n      }\n    }\n\n    /* disabled */\n    select:disabled + && {\n      --card-fg-color: ${color.default.disabled.fg};\n    }\n\n    /* read-only */\n    select[data-read-only] + && {\n      --card-fg-color: ${color.default.readOnly.fg};\n    }\n  `\n}\n\nexport const selectStyle = {\n  root: rootStyle,\n  input: inputStyle,\n  iconBox: iconBoxStyle,\n}\n","import {SelectIcon} from '@sanity/icons'\nimport React, {forwardRef} from 'react'\nimport styled from 'styled-components'\nimport {useForwardedRef, useCustomValidity} from '../../hooks'\nimport {Box} from '../box'\nimport {Text} from '../text'\nimport {selectStyle} from './styles'\n\n/**\n * @public\n */\nexport interface SelectProps {\n  fontSize?: number | number[]\n  padding?: number | number[]\n  radius?: number | number[]\n  space?: number | number[]\n  customValidity?: string\n}\n\nconst Root = styled.div(selectStyle.root)\n\nconst Input = styled.select<{\n  $fontSize?: number | number[]\n  $padding?: number | number[]\n  $radius?: number | number[]\n  $space?: number | number[]\n}>(selectStyle.input)\n\nconst IconBox = styled(Box)(selectStyle.iconBox)\n\n/**\n * @public\n */\nexport const Select = forwardRef(function Select(\n  props: SelectProps & Omit<React.HTMLProps<HTMLSelectElement>, 'as'>,\n  forwardedRef: React.ForwardedRef<HTMLSelectElement>\n) {\n  const {\n    children,\n    customValidity,\n    disabled,\n    fontSize = 2,\n    padding = 3,\n    radius = 1,\n    readOnly,\n    space = 3,\n    ...restProps\n  } = props\n\n  const ref = useForwardedRef(forwardedRef)\n\n  useCustomValidity(ref, customValidity)\n\n  return (\n    <Root data-ui=\"Select\">\n      <Input\n        data-read-only={!disabled && readOnly ? '' : undefined}\n        data-ui=\"Select\"\n        {...restProps}\n        $fontSize={fontSize}\n        $padding={padding}\n        $radius={radius}\n        $space={space}\n        disabled={disabled || readOnly}\n        ref={ref}\n      >\n        {children}\n      </Input>\n\n      <IconBox padding={padding}>\n        <Text size={fontSize}>\n          <SelectIcon />\n        </Text>\n      </IconBox>\n    </Root>\n  )\n})\n","import {CSSObject} from 'styled-components'\nimport {getResponsiveProp, rem, responsive, ThemeProps} from '../../styles'\n\nexport interface ResponsiveStackSpaceStyleProps {\n  $space?: number | number[]\n}\n\nconst BASE_STYLE: CSSObject = {\n  '&&:not([hidden])': {\n    display: 'grid',\n  },\n  '&[data-as=\"ul\"],&[data-as=\"ol\"]': {\n    listStyle: 'none',\n  },\n  gridTemplateColumns: 'minmax(0, 1fr)',\n  gridAutoRows: 'min-content',\n}\n\nexport function stackBaseStyle(): CSSObject {\n  return BASE_STYLE\n}\n\nexport function responsiveStackSpaceStyle(\n  props: ResponsiveStackSpaceStyleProps & ThemeProps\n): CSSObject[] {\n  const {theme} = props\n  const {media, space} = theme.sanity\n\n  return responsive(media, getResponsiveProp(props.$space), (spaceIndex) => ({\n    gridGap: rem(space[spaceIndex]),\n  }))\n}\n","import React, {forwardRef} from 'react'\nimport styled from 'styled-components'\nimport {Box, BoxProps} from '../box'\nimport {stackBaseStyle, responsiveStackSpaceStyle, ResponsiveStackSpaceStyleProps} from './styles'\n\n/**\n * @public\n */\nexport interface StackProps extends BoxProps {\n  as?: React.ElementType | keyof JSX.IntrinsicElements\n  space?: number | number[]\n}\n\nconst Root = styled(Box)<ResponsiveStackSpaceStyleProps>(stackBaseStyle, responsiveStackSpaceStyle)\n\n/**\n * @public\n */\nexport const Stack = forwardRef(function Stack(\n  props: StackProps & Omit<React.HTMLProps<HTMLDivElement>, 'as' | 'ref'>,\n  ref: React.ForwardedRef<HTMLDivElement>\n) {\n  const {as, space, ...restProps} = props\n\n  return (\n    <Root\n      data-as={typeof as === 'string' ? as : undefined}\n      data-ui=\"Stack\"\n      {...restProps}\n      $space={space}\n      forwardedAs={as}\n      ref={ref}\n    />\n  )\n})\n","import {css, FlattenSimpleInterpolation} from 'styled-components'\nimport {rem, ThemeProps} from '../../styles'\nimport {focusRingStyle} from '../../styles/internal'\n\n/* Root */\nexport function switchBaseStyles(): FlattenSimpleInterpolation {\n  return css`\n    position: relative;\n    &:not([hidden]) {\n      display: inline-block;\n    }\n  `\n}\n\n/* Input */\nexport function switchInputStyles(): FlattenSimpleInterpolation {\n  // Visually hide the input element while keeping it interactive\n  return css`\n    position: absolute;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    opacity: 0;\n    height: 100%;\n    width: 100%;\n    outline: none;\n    padding: 0;\n    margin: 0;\n\n    /* Place the input element above the representation element */\n    z-index: 1;\n  `\n}\n\n/* Representation */\nexport function switchRepresentationStyles(props: ThemeProps): FlattenSimpleInterpolation {\n  const {theme} = props\n  const {focusRing, input} = theme.sanity\n  const color = theme.sanity.color.button.default\n\n  return css`\n    --switch-bg-color: ${color.default.enabled.bg};\n    --switch-fg-color: ${color.default.enabled.fg};\n    --switch-box-shadow: none;\n\n    &:not([hidden]) {\n      display: block;\n    }\n    position: relative;\n    width: ${rem(input.switch.width)};\n    height: ${rem(input.switch.height)};\n    border-radius: ${rem(input.switch.height / 2)};\n\n    /* Make sure it’s not possible to interact with the wrapper element */\n    pointer-events: none;\n\n    &:after {\n      content: '';\n      display: block;\n      position: absolute;\n      top: 0;\n      left: 0;\n      right: 0;\n      bottom: 0;\n      z-index: 1;\n      box-shadow: var(--switch-box-shadow);\n      border-radius: inherit;\n    }\n\n    /* Focus styles */\n    input:focus + && {\n      --switch-box-shadow: ${focusRingStyle({focusRing})};\n    }\n\n    input:focus:not(:focus-visible) + && {\n      --switch-box-shadow: none;\n    }\n\n    input:checked + && {\n      --switch-bg-color: ${color.positive.enabled.bg};\n      --switch-fg-color: ${color.positive.enabled.fg};\n    }\n\n    @media (hover: hover) {\n      input:not(:disabled):hover + && {\n        --switch-bg-color: ${color.default.hovered.bg};\n        --switch-fg-color: ${color.default.hovered.fg};\n      }\n\n      input:not(:disabled):checked:hover + && {\n        --switch-bg-color: ${color.positive.hovered.bg};\n        --switch-fg-color: ${color.positive.hovered.fg};\n      }\n    }\n\n    input:not([data-read-only]):disabled + && {\n      --switch-bg-color: ${color.default.disabled.bg};\n      --switch-fg-color: ${color.default.disabled.fg};\n    }\n  `\n}\n\n/* Track */\nexport function switchTrackStyles(props: ThemeProps): FlattenSimpleInterpolation {\n  const {theme} = props\n  const {input} = theme.sanity\n\n  return css`\n    &:not([hidden]) {\n      display: block;\n    }\n    background-color: var(--switch-bg-color);\n    position: absolute;\n    left: 0;\n    top: 0;\n    width: ${rem(input.switch.width)};\n    height: ${rem(input.switch.height)};\n    border-radius: ${rem(input.switch.height / 2)};\n  `\n}\n\n/* Thumb */\nexport function switchThumbStyles(\n  props: {$checked?: boolean; $indeterminate?: boolean} & ThemeProps\n): FlattenSimpleInterpolation {\n  const {$indeterminate, theme} = props\n  const {input} = theme.sanity\n  const trackWidth = input.switch.width\n  const trackHeight = input.switch.height\n  const trackPadding = input.switch.padding\n  const size = trackHeight - input.switch.padding * 2\n  const checkedOffset = trackWidth - trackPadding * 2 - size\n  const indeterminateOffset = trackWidth / 2 - size / 2 - trackPadding\n  const checked = $indeterminate !== true && props.$checked === true\n\n  return css`\n    &:not([hidden]) {\n      display: block;\n    }\n    position: absolute;\n    left: ${rem(trackPadding)};\n    top: ${rem(trackPadding)};\n    height: ${rem(size)};\n    width: ${rem(size)};\n    border-radius: ${rem(size / 2)};\n    transition-property: transform;\n    transition-duration: ${input.switch.transitionDurationMs}ms;\n    transition-timing-function: ${input.switch.transitionTimingFunction};\n    background: var(--switch-fg-color);\n    transform: translate3d(0, 0, 0);\n\n    ${checked &&\n    css`\n      transform: translate3d(${checkedOffset}px, 0, 0);\n    `}\n\n    ${$indeterminate &&\n    css`\n      transform: translate3d(${indeterminateOffset}px, 0, 0);\n    `}\n  `\n}\n","import React, {forwardRef, useEffect} from 'react'\nimport styled from 'styled-components'\nimport {useForwardedRef} from '../../hooks'\nimport {\n  switchBaseStyles,\n  switchRepresentationStyles,\n  switchThumbStyles,\n  switchTrackStyles,\n  switchInputStyles,\n} from './styles'\n\n/**\n * @public\n */\nexport interface SwitchProps {\n  indeterminate?: boolean\n}\n\nconst Root = styled.span(switchBaseStyles)\nconst Input = styled.input(switchInputStyles)\nconst Representation = styled.span(switchRepresentationStyles)\nconst Track = styled.span(switchTrackStyles)\nconst Thumb = styled.span<{$checked?: boolean; $indeterminate?: boolean}>(switchThumbStyles)\n\n/**\n * @public\n */\nexport const Switch = forwardRef(function Switch(\n  props: Omit<React.HTMLProps<HTMLInputElement>, 'as' | 'type'> & SwitchProps,\n  forwardedRef: React.ForwardedRef<HTMLInputElement>\n) {\n  const {checked, className, disabled, indeterminate, readOnly, style, ...restProps} = props\n  const ref = useForwardedRef(forwardedRef)\n\n  useEffect(() => {\n    if (ref.current) {\n      // Set the indeterminate state\n      ref.current.indeterminate = indeterminate || false\n    }\n  }, [indeterminate, ref])\n\n  return (\n    <Root className={className} data-ui=\"Switch\" style={style}>\n      <Input\n        data-read-only={!disabled && readOnly ? '' : undefined}\n        {...restProps}\n        checked={indeterminate !== true && checked}\n        disabled={disabled || readOnly}\n        type=\"checkbox\"\n        ref={ref}\n      />\n      <Representation aria-hidden data-name=\"representation\">\n        <Track />\n        <Thumb $checked={checked} $indeterminate={indeterminate} />\n      </Representation>\n    </Root>\n  )\n})\n","import React, {forwardRef} from 'react'\nimport styled from 'styled-components'\nimport {useForwardedRef, useCustomValidity} from '../../hooks'\nimport {\n  responsiveInputPaddingStyle,\n  responsiveRadiusStyle,\n  ResponsiveRadiusStyleProps,\n  TextInputResponsivePaddingStyleProps,\n  TextInputInputStyleProps,\n  TextInputRepresentationStyleProps,\n  textInputRootStyle,\n  textInputBaseStyle,\n  textInputFontSizeStyle,\n  textInputRepresentationStyle,\n} from '../../styles/internal'\nimport {ThemeFontWeightKey} from '../../theme'\nimport {ResponsiveRadiusProps} from '../types'\n\n/**\n * @public\n */\nexport interface TextAreaProps extends ResponsiveRadiusProps {\n  border?: boolean\n  customValidity?: string\n  fontSize?: number | number[]\n  padding?: number | number[]\n  weight?: ThemeFontWeightKey\n}\n\nconst Root = styled.span(textInputRootStyle)\n\nconst InputRoot = styled.span`\n  flex: 1;\n  min-width: 0;\n  display: block;\n  position: relative;\n`\n\nconst Input = styled.textarea<TextInputResponsivePaddingStyleProps & TextInputInputStyleProps>(\n  responsiveInputPaddingStyle,\n  textInputBaseStyle,\n  textInputFontSizeStyle\n)\n\nconst Presentation = styled.div<ResponsiveRadiusStyleProps & TextInputRepresentationStyleProps>(\n  responsiveRadiusStyle,\n  textInputRepresentationStyle\n)\n\n/**\n * @public\n */\nexport const TextArea = forwardRef(function TextArea(\n  props: TextAreaProps & Omit<React.HTMLProps<HTMLTextAreaElement>, 'as'>,\n  forwardedRef: React.ForwardedRef<HTMLTextAreaElement>\n) {\n  const {\n    border = true,\n    customValidity,\n    disabled = false,\n    fontSize = 2,\n    padding = 3,\n    radius = 1,\n    ...restProps\n  } = props\n\n  const ref = useForwardedRef(forwardedRef)\n\n  useCustomValidity(ref, customValidity)\n\n  return (\n    <Root data-ui=\"TextArea\">\n      <InputRoot>\n        <Input\n          data-as=\"textarea\"\n          {...restProps}\n          $fontSize={fontSize}\n          $padding={padding}\n          disabled={disabled}\n          ref={ref}\n        />\n        <Presentation $border={border} $radius={radius} />\n      </InputRoot>\n    </Root>\n  )\n})\n","import {CloseIcon} from '@sanity/icons'\nimport React, {createElement, forwardRef, isValidElement, useCallback, useMemo} from 'react'\nimport {isValidElementType} from 'react-is'\nimport styled from 'styled-components'\nimport {EMPTY_RECORD} from '../../constants'\nimport {useForwardedRef, useCustomValidity, useResponsiveProp} from '../../hooks'\nimport {\n  responsiveRadiusStyle,\n  ResponsiveRadiusStyleProps,\n  responsiveInputPaddingStyle,\n  TextInputInputStyleProps,\n  TextInputRepresentationStyleProps,\n  TextInputResponsivePaddingStyleProps,\n  textInputBaseStyle,\n  textInputFontSizeStyle,\n  textInputRepresentationStyle,\n  textInputRootStyle,\n} from '../../styles/internal'\nimport {ThemeFontWeightKey} from '../../theme'\nimport {Box} from '../box'\nimport {Button, ButtonProps} from '../button'\nimport {Card} from '../card'\nimport {Text} from '../text'\n\n/**\n * @public\n */\nexport type TextInputClearButtonProps = Omit<ButtonProps, 'as'> &\n  Omit<React.HTMLProps<HTMLButtonElement>, 'as' | 'onClick' | 'onMouseDown' | 'ref'>\n\n/**\n * @public\n */\nexport type TextInputType =\n  | 'date'\n  | 'datetime-local'\n  | 'email'\n  | 'url'\n  | 'month'\n  | 'number'\n  | 'password'\n  | 'tel'\n  | 'time'\n  | 'text'\n  | 'week'\n\n/**\n * @public\n */\nexport interface TextInputProps {\n  border?: boolean\n  /**\n   * @beta\n   */\n  clearButton?: boolean | TextInputClearButtonProps\n  customValidity?: string\n  fontSize?: number | number[]\n  icon?: React.ComponentType | React.ReactNode\n  iconRight?: React.ComponentType | React.ReactNode\n  /**\n   * @beta\n   */\n  onClear?: () => void\n  padding?: number | number[]\n  prefix?: React.ReactNode\n  radius?: number | number[]\n  space?: number | number[]\n  suffix?: React.ReactNode\n  type?: TextInputType\n  weight?: ThemeFontWeightKey\n}\n\nconst CLEAR_BUTTON_BOX_STYLE: React.CSSProperties = {zIndex: 2}\n\nconst Root = styled.span(textInputRootStyle)\n\nconst InputRoot = styled.span`\n  flex: 1;\n  min-width: 0;\n  display: block;\n  position: relative;\n`\n\nconst Prefix = styled(Card).attrs({forwardedAs: 'span'})`\n  border-top-right-radius: 0;\n  border-bottom-right-radius: 0;\n\n  & > span {\n    display: block;\n    margin: -1px;\n  }\n`\n\nconst Suffix = styled(Card).attrs({forwardedAs: 'span'})`\n  border-top-left-radius: 0;\n  border-bottom-left-radius: 0;\n\n  & > span {\n    display: block;\n    margin: -1px;\n  }\n`\n\nconst Input = styled.input<TextInputResponsivePaddingStyleProps & TextInputInputStyleProps>(\n  responsiveInputPaddingStyle,\n  textInputBaseStyle,\n  textInputFontSizeStyle\n)\n\nconst Presentation = styled.span<ResponsiveRadiusStyleProps & TextInputRepresentationStyleProps>(\n  responsiveRadiusStyle,\n  textInputRepresentationStyle\n)\n\nconst LeftBox = styled(Box)`\n  position: absolute;\n  top: 0;\n  left: 0;\n`\n\nconst RightCard = styled(Card)`\n  background-color: transparent;\n  position: absolute;\n  top: 0;\n  right: 0;\n`\n\n/**\n * @public\n */\nexport const TextInput = forwardRef(function TextInput(\n  props: TextInputProps & Omit<React.HTMLProps<HTMLInputElement>, 'as' | 'prefix' | 'type'>,\n  forwardedRef: React.Ref<HTMLInputElement>\n) {\n  const {\n    border = true,\n    clearButton,\n    disabled = false,\n    fontSize = 2,\n    icon,\n    iconRight,\n    onClear,\n    padding: paddingProp = 3,\n    prefix,\n    radius: radiusProp = 1,\n    readOnly,\n    space = 3,\n    suffix,\n    customValidity,\n    type = 'text',\n    ...restProps\n  } = props\n\n  const ref = useForwardedRef(forwardedRef)\n  const padding = useResponsiveProp(paddingProp)\n  const radius = useResponsiveProp(radiusProp)\n\n  // Transient properties\n  const $hasClearButton = Boolean(clearButton)\n  const $hasIcon = Boolean(icon)\n  const $hasIconRight = Boolean(iconRight)\n  const $hasSuffix = Boolean(suffix)\n  const $hasPrefix = Boolean(prefix)\n\n  useCustomValidity(ref, customValidity)\n\n  // Prevent the clear button from taking the focus away from the input\n  const handleClearMouseDown = useCallback((event: React.MouseEvent<HTMLButtonElement>) => {\n    event.preventDefault()\n    event.stopPropagation()\n  }, [])\n\n  const handleClearClick = useCallback(\n    (event: React.MouseEvent<HTMLButtonElement>) => {\n      event.preventDefault()\n      event.stopPropagation()\n\n      if (onClear) onClear()\n\n      // Focus the input, in case focus has been lost when clicking the clear button\n      ref.current?.focus()\n    },\n    [onClear, ref]\n  )\n\n  // Render prefix (memoized)\n  const prefixNode = useMemo(\n    () =>\n      prefix && (\n        <Prefix borderTop borderLeft borderBottom radius={radius} sizing=\"border\" tone=\"inherit\">\n          <span>{prefix}</span>\n        </Prefix>\n      ),\n    [prefix, radius]\n  )\n\n  // Render presentation (memoized)\n  const presentationNode = useMemo(\n    () => (\n      <Presentation\n        $border={border}\n        $hasPrefix={$hasPrefix}\n        $hasSuffix={$hasSuffix}\n        $radius={radius}\n      >\n        {icon && (\n          <LeftBox padding={padding}>\n            <Text size={fontSize}>\n              {isValidElement(icon) && icon}\n              {isValidElementType(icon) && createElement(icon)}\n            </Text>\n          </LeftBox>\n        )}\n\n        {!$hasClearButton && iconRight && (\n          <RightCard padding={padding}>\n            <Text size={fontSize}>\n              {isValidElement(iconRight) && iconRight}\n              {isValidElementType(iconRight) && createElement(iconRight)}\n            </Text>\n          </RightCard>\n        )}\n      </Presentation>\n    ),\n    [border, fontSize, icon, iconRight, padding, radius, $hasClearButton, $hasPrefix, $hasSuffix]\n  )\n\n  // Render clear button (memoized)\n  const clearButtonBoxPadding = useMemo(() => padding.map((v) => v - 2), [padding])\n  const clearButtonPadding = useMemo(() => padding.map((v) => v - 1), [padding])\n  const clearButtonProps: TextInputClearButtonProps = useMemo(\n    () => (typeof clearButton === 'object' ? clearButton : EMPTY_RECORD),\n    [clearButton]\n  )\n  const clearButtonNode = useMemo(\n    () =>\n      !disabled &&\n      !readOnly &&\n      clearButton && (\n        <RightCard\n          forwardedAs=\"span\"\n          padding={clearButtonBoxPadding}\n          style={CLEAR_BUTTON_BOX_STYLE}\n          tone={customValidity ? 'critical' : 'inherit'}\n        >\n          <Button\n            data-qa=\"clear-button\"\n            fontSize={fontSize}\n            icon={CloseIcon}\n            mode=\"bleed\"\n            padding={clearButtonPadding}\n            radius={radius.map((r) => r - 1)}\n            {...clearButtonProps}\n            onClick={handleClearClick}\n            onMouseDown={handleClearMouseDown}\n          />\n        </RightCard>\n      ),\n    [\n      clearButton,\n      clearButtonBoxPadding,\n      clearButtonPadding,\n      clearButtonProps,\n      customValidity,\n      disabled,\n      fontSize,\n      handleClearClick,\n      handleClearMouseDown,\n      radius,\n      readOnly,\n    ]\n  )\n\n  // Render suffix (memoized)\n  const suffixNode = useMemo(\n    () =>\n      suffix && (\n        <Suffix borderTop borderRight borderBottom radius={radius} sizing=\"border\" tone=\"inherit\">\n          <span>{suffix}</span>\n        </Suffix>\n      ),\n    [radius, suffix]\n  )\n\n  return (\n    <Root data-ui=\"TextInput\">\n      {prefixNode}\n      <InputRoot>\n        <Input\n          data-as=\"input\"\n          {...restProps}\n          $iconLeft={$hasIcon}\n          $iconRight={$hasIconRight || $hasClearButton}\n          $padding={padding}\n          $space={space}\n          $fontSize={fontSize}\n          disabled={disabled}\n          readOnly={readOnly}\n          ref={ref}\n          type={type}\n        />\n        {presentationNode}\n        {clearButtonNode}\n      </InputRoot>\n      {suffixNode}\n    </Root>\n  )\n})\n","import React, {forwardRef} from 'react'\nimport styled from 'styled-components'\n\nconst Root = styled.div`\n  position: absolute;\n  width: 15px;\n  height: 15px;\n  fill: none;\n\n  :empty + & {\n    display: none;\n  }\n\n  & > svg {\n    &:not([hidden]) {\n      display: block;\n    }\n    transform-origin: 7.5px 7.5px;\n  }\n\n  [data-popper-placement^='top'] > div > & {\n    bottom: -15px;\n  }\n\n  [data-popper-placement^='right'] > div > & {\n    left: -15px;\n\n    & > svg {\n      transform: rotate(90deg);\n    }\n  }\n\n  [data-popper-placement^='left'] > div > & {\n    right: -15px;\n\n    & > svg {\n      transform: rotate(-90deg);\n    }\n  }\n\n  [data-popper-placement^='bottom'] > div > & {\n    top: -15px;\n\n    & > svg {\n      transform: rotate(180deg);\n    }\n  }\n`\n\nconst Border = styled.path`\n  fill: var(--card-shadow-outline-color);\n`\n\nconst Shape = styled.path`\n  fill: var(--card-bg-color);\n`\n\ninterface TooltipArrowProps {}\n\nexport const TooltipArrow = forwardRef(function TooltipArrow(\n  props: TooltipArrowProps & Omit<React.HTMLProps<HTMLDivElement>, 'as'>,\n  ref: React.ForwardedRef<HTMLDivElement>\n) {\n  const {...restProps} = props\n\n  return (\n    <Root {...restProps} ref={ref}>\n      <svg width=\"15\" height=\"15\" viewBox=\"0 0 15 15\">\n        <Border d=\"M11.5266 1C11.032 1.32802 10.5837 1.73105 10.1995 2.20057L9.04792 3.6081C8.24771 4.58614 6.7523 4.58614 5.95209 3.6081L4.80047 2.20057C4.41632 1.73105 3.96796 1.32802 3.47341 1H0.156727C1.65639 1 3.07687 1.67313 4.02651 2.83381L5.17813 4.24134C6.37844 5.70839 8.62156 5.70839 9.82187 4.24134L10.9735 2.83381C11.9231 1.67313 13.3436 1 14.8433 1H11.5266Z\" />\n        <Shape d=\"M0.156725 0C1.95632 0 3.66089 0.80776 4.80047 2.20057L5.95209 3.6081C6.75229 4.58614 8.24771 4.58614 9.04791 3.6081L10.1995 2.20057C11.3391 0.80776 13.0437 0 14.8433 0H15H0H0.156725Z\" />\n      </svg>\n    </Root>\n  )\n})\n","import React, {cloneElement, forwardRef, useCallback, useEffect, useState} from 'react'\nimport {usePopper} from 'react-popper'\nimport styled from 'styled-components'\nimport {useForwardedRef} from '../../hooks'\nimport {ThemeColorSchemeKey, useTheme} from '../../theme'\nimport {Placement} from '../../types'\nimport {Layer, LayerProps, Portal, useBoundaryElement} from '../../utils'\nimport {Card} from '../card'\nimport {TooltipArrow} from './tooltipArrow'\n\n/**\n * @public\n */\nexport interface TooltipProps extends Omit<LayerProps, 'as'> {\n  allowedAutoPlacements?: Placement[]\n  boundaryElement?: HTMLElement | null\n  children?: React.ReactElement\n  content?: React.ReactNode\n  disabled?: boolean\n  fallbackPlacements?: Placement[]\n  placement?: Placement\n  portal?: boolean | string\n  scheme?: ThemeColorSchemeKey\n}\n\nconst Root = styled(Layer)`\n  pointer-events: none;\n`\n\n/**\n * @public\n */\nexport const Tooltip = forwardRef(function Tooltip(\n  props: TooltipProps & Omit<React.HTMLProps<HTMLDivElement>, 'as' | 'children' | 'content'>,\n  ref: React.ForwardedRef<HTMLDivElement>\n) {\n  const boundaryElementContext = useBoundaryElement()\n  const theme = useTheme()\n  const {\n    allowedAutoPlacements,\n    boundaryElement = boundaryElementContext?.element,\n    children,\n    content,\n    disabled,\n    fallbackPlacements,\n    placement = 'bottom',\n    portal,\n    scheme,\n    zOffset = theme.sanity.layer?.tooltip.zOffset,\n    ...restProps\n  } = props\n  const forwardedRef = useForwardedRef(ref)\n  const [referenceElement, setReferenceElement] = useState<HTMLElement | null>(null)\n  const [popperElement, setPopperElement] = useState<HTMLDivElement | null>(null)\n  const [arrowElement, setArrowElement] = useState<HTMLDivElement | null>(null)\n  const popper = usePopper(referenceElement, popperElement, {\n    placement,\n    modifiers: [\n      {\n        name: 'arrow',\n        options: {\n          element: arrowElement,\n          padding: 4,\n        },\n      },\n      {\n        name: 'preventOverflow',\n        options: {\n          altAxis: true,\n          boundary: boundaryElement || undefined,\n          padding: 4,\n        },\n      },\n      {\n        name: 'offset',\n        options: {offset: [0, 3]},\n      },\n      {\n        name: 'flip',\n        options: {\n          allowedAutoPlacements,\n          fallbackPlacements,\n        },\n      },\n    ],\n  })\n  const {forceUpdate} = popper\n  const [isOpen, setIsOpen] = useState(false)\n  const handleBlur = useCallback(() => setIsOpen(false), [])\n  const handleFocus = useCallback(() => setIsOpen(true), [])\n  const handleMouseEnter = useCallback(() => setIsOpen(true), [])\n  const handleMouseLeave = useCallback(() => setIsOpen(false), [])\n\n  // Detect whether the mouse is moving outside of the reference element. This is sometimes\n  // necessary, because the tooltip might not always close as it should (e.g. when clicking\n  // the reference element triggers a CPU-heavy operation.)\n  useEffect(() => {\n    if (!isOpen) return\n\n    function handleWindowMouseMove(event: MouseEvent) {\n      if (!referenceElement) return\n\n      const isHoveringReference =\n        referenceElement === event.target ||\n        (event.target instanceof Node && referenceElement.contains(event.target))\n\n      if (!isHoveringReference) {\n        setIsOpen(false)\n        window.removeEventListener('mousemove', handleWindowMouseMove)\n      }\n    }\n\n    window.addEventListener('mousemove', handleWindowMouseMove)\n\n    return () => {\n      window.removeEventListener('mousemove', handleWindowMouseMove)\n    }\n  }, [isOpen, referenceElement])\n\n  useEffect(() => {\n    if (forceUpdate) forceUpdate()\n  }, [forceUpdate, content])\n\n  // Close when `disabled` changes to `true`\n  useEffect(() => {\n    if (disabled) setIsOpen(false)\n  }, [disabled])\n\n  // Close when `content` changes to falsy\n  useEffect(() => {\n    if (!content) setIsOpen(false)\n  }, [content])\n\n  const setRef = (el: HTMLDivElement | null) => {\n    setPopperElement(el)\n    forwardedRef.current = el\n  }\n\n  if (!children) return <></>\n\n  if (disabled) return children\n\n  const referenceProps = {\n    onBlur: handleBlur,\n    onFocus: handleFocus,\n    onMouseEnter: handleMouseEnter,\n    onMouseLeave: handleMouseLeave,\n    ref: setReferenceElement,\n  }\n\n  const referenceNode = cloneElement(children, referenceProps)\n\n  const popperNode = (\n    <Root\n      data-ui=\"Tooltip\"\n      {...restProps}\n      {...popper.attributes.popper}\n      ref={setRef}\n      style={popper.styles.popper}\n      zOffset={zOffset}\n    >\n      <Card radius={2} scheme={scheme} shadow={3}>\n        {content}\n        <TooltipArrow ref={setArrowElement} style={popper.styles.arrow} />\n      </Card>\n    </Root>\n  )\n\n  return (\n    <>\n      {referenceNode}\n\n      {isOpen && (\n        <>\n          {portal && (\n            <Portal __unstable_name={typeof portal === 'string' ? portal : undefined}>\n              {popperNode}\n            </Portal>\n          )}\n\n          {!portal && popperNode}\n        </>\n      )}\n    </>\n  )\n})\n","import {SpinnerIcon} from '@sanity/icons'\nimport styled, {keyframes} from 'styled-components'\nimport {Box, Popover} from '../../primitives'\n\n/**\n * @internal\n */\nexport const Root = styled.div`\n  /* position: relative; */\n`\n\n/**\n * @internal\n */\nexport const ListBox = styled(Box)`\n  & > ul {\n    list-style: none;\n    padding: 0;\n    margin: 0;\n  }\n`\n\n/**\n * @internal\n */\nexport const ResultsPopover = styled(Popover)`\n  & > div {\n    overflow: auto;\n    -webkit-overflow-scrolling: touch;\n  }\n\n  &[data-popper-reference-hidden='true'] {\n    display: none;\n  }\n`\n\nconst rotate = keyframes`\n  from {\n    transform: rotate(0deg);\n  }\n\n  to {\n    transform: rotate(360deg);\n  }\n`\n\n/**\n * @internal\n */\nexport const AnimatedSpinnerIcon = styled(SpinnerIcon)`\n  animation: ${rotate} 500ms linear infinite;\n`\n","import React, {useCallback} from 'react'\nimport {_isEnterToClickElement} from '../../helpers'\n\nexport interface AutocompleteOptionProps {\n  children: React.ReactNode\n  id: string\n  onSelect: (v: string) => void\n  selected: boolean\n  value: string\n}\n\nexport function AutocompleteOption(props: AutocompleteOptionProps): React.ReactElement {\n  const {children, id, onSelect, selected, value} = props\n\n  const handleClick = useCallback(() => {\n    // Calling the `onSelect` in a timeout is a fix to\n    // allow the `click` event to propagate in some cases\n    setTimeout(() => {\n      onSelect(value)\n    }, 0)\n  }, [onSelect, value])\n\n  const handleKeyDown = useCallback(\n    (event: React.KeyboardEvent<HTMLLIElement>) => {\n      if (event.key === 'Enter' && !_isEnterToClickElement(event.currentTarget)) {\n        handleClick()\n      }\n    },\n    [handleClick]\n  )\n\n  return (\n    <li\n      aria-selected={selected}\n      data-ui=\"AutocompleteOption\"\n      id={id}\n      role=\"option\"\n      onClick={handleClick}\n      onKeyDown={handleKeyDown}\n    >\n      {children}\n    </li>\n  )\n}\n","import {AutocompleteMsg, AutocompleteState} from './types'\n\n/**\n * @internal\n */\nexport function autocompleteReducer(\n  state: AutocompleteState,\n  msg: AutocompleteMsg\n): AutocompleteState {\n  if (msg.type === 'input/change') {\n    return {...state, activeValue: null, focused: true, query: msg.query}\n  }\n\n  if (msg.type === 'input/focus') {\n    return {...state, focused: true}\n  }\n\n  if (msg.type === 'root/blur') {\n    return {...state, focused: false, query: null}\n  }\n\n  if (msg.type === 'root/clear') {\n    return {...state, activeValue: null, query: null, value: null}\n  }\n\n  if (msg.type === 'root/escape') {\n    return {...state, focused: false, query: null}\n  }\n\n  if (msg.type === 'root/open') {\n    return {...state, query: state.query || msg.query}\n  }\n\n  if (msg.type === 'root/setActiveValue') {\n    return {...state, activeValue: msg.value, listFocused: msg.listFocused || state.listFocused}\n  }\n\n  if (msg.type === 'root/setListFocused') {\n    // prevent unnecessary re-render\n    if (state.listFocused === msg.listFocused) return state\n\n    return {...state, listFocused: msg.listFocused}\n  }\n\n  if (msg.type === 'value/change') {\n    return {...state, activeValue: msg.value, query: null, value: msg.value}\n  }\n\n  return state\n}\n","import {Placement, PopoverMargins} from '../../types'\n\n/**\n * @internal\n */\nexport const EMPTY_RECORD = {}\n\n/**\n * @internal\n */\nexport const AUTOCOMPLETE_LISTBOX_IGNORE_KEYS = [\n  'Control',\n  'Shift',\n  'Alt',\n  'Enter',\n  'Home',\n  'End',\n  'PageUp',\n  'PageDown',\n  'Meta',\n  'Tab',\n  'CapsLock',\n]\n\n/**\n * @internal\n */\nexport const AUTOCOMPLETE_POPOVER_MARGINS: PopoverMargins = [0, 1, 1, 1]\n\n/**\n * @internal\n */\nexport const AUTOCOMPLETE_POPOVER_PLACEMENT: Placement = 'bottom-start'\n\n/**\n * @internal\n */\nexport const AUTOCOMPLETE_POPOVER_FALLBACK_PLACEMENTS: Placement[] = ['top-start']\n","import {ChevronDownIcon} from '@sanity/icons'\nimport React, {\n  cloneElement,\n  forwardRef,\n  useCallback,\n  useEffect,\n  useMemo,\n  useReducer,\n  useRef,\n  useState,\n} from 'react'\nimport {EMPTY_ARRAY} from '../../constants'\nimport {_hasFocus, _raf, focusFirstDescendant} from '../../helpers'\nimport {useForwardedRef, useResponsiveProp} from '../../hooks'\nimport {Box, BoxProps, Button, Card, PopoverProps, Stack, Text, TextInput} from '../../primitives'\nimport {AnimatedSpinnerIcon, ListBox, ResultsPopover, Root} from './autocomplete.styles'\nimport {AutocompleteOption} from './autocompleteOption'\nimport {autocompleteReducer} from './autocompleteReducer'\nimport {\n  EMPTY_RECORD,\n  AUTOCOMPLETE_LISTBOX_IGNORE_KEYS,\n  AUTOCOMPLETE_POPOVER_FALLBACK_PLACEMENTS,\n  AUTOCOMPLETE_POPOVER_MARGINS,\n  AUTOCOMPLETE_POPOVER_PLACEMENT,\n} from './constants'\nimport {AutocompleteOpenButtonProps, BaseAutocompleteOption} from './types'\n\n/**\n * @public\n */\nexport interface AutocompleteProps<Option extends BaseAutocompleteOption> {\n  border?: boolean\n  customValidity?: string\n  filterOption?: (query: string, option: Option) => boolean\n  fontSize?: number | number[]\n  icon?: React.ComponentType | React.ReactNode\n  id: string\n  /**\n   * @beta\n   */\n  listBox?: BoxProps\n  loading?: boolean\n  onChange?: (value: string) => void\n  onQueryChange?: (query: string | null) => void\n  onSelect?: (value: string) => void\n  /**\n   * @beta\n   */\n  openButton?: boolean | AutocompleteOpenButtonProps\n  options?: Option[]\n  padding?: number | number[]\n  popover?: Omit<PopoverProps, 'content' | 'onMouseEnter' | 'onMouseLeave' | 'open'>\n  prefix?: React.ReactNode\n  radius?: number | number[]\n  /**\n   * @beta\n   */\n  relatedElements?: HTMLElement[]\n  renderOption?: (option: Option) => React.ReactElement\n  /**\n   * @beta\n   */\n  renderPopover?: (\n    props: {\n      content: React.ReactElement | null\n      hidden: boolean\n      inputElement: HTMLInputElement | null\n      onMouseEnter: () => void\n      onMouseLeave: () => void\n    },\n    ref: React.Ref<HTMLDivElement>\n  ) => React.ReactNode\n  renderValue?: (value: string, option?: Option) => string\n  suffix?: React.ReactNode\n  value?: string\n}\n\nconst defaultRenderValue = (value: string, option?: BaseAutocompleteOption) =>\n  option ? option.value : value\n\nconst defaultFilterOption = (query: string, option: BaseAutocompleteOption) =>\n  option.value.toLowerCase().indexOf(query.toLowerCase()) > -1\n\nconst InnerAutocomplete = forwardRef(function InnerAutocomplete<\n  Option extends BaseAutocompleteOption\n>(\n  props: AutocompleteProps<Option> &\n    Omit<\n      React.HTMLProps<HTMLInputElement>,\n      | 'aria-activedescendant'\n      | 'aria-autocomplete'\n      | 'aria-expanded'\n      | 'aria-owns'\n      | 'as'\n      | 'autoCapitalize'\n      | 'autoComplete'\n      | 'autoCorrect'\n      | 'id'\n      | 'inputMode'\n      | 'onChange'\n      | 'onSelect'\n      | 'prefix'\n      | 'ref'\n      | 'role'\n      | 'spellCheck'\n      | 'type'\n      | 'value'\n    >,\n  ref: React.Ref<HTMLInputElement>\n) {\n  const {\n    border = true,\n    customValidity,\n    disabled,\n    filterOption: filterOptionProp,\n    fontSize = 2,\n    icon,\n    id,\n    listBox = {},\n    loading,\n    onBlur,\n    onChange,\n    onFocus,\n    onQueryChange,\n    onSelect,\n    openButton,\n    options: optionsProp,\n    padding: paddingProp = 3,\n    popover = {},\n    prefix,\n    radius = 3,\n    readOnly,\n    relatedElements,\n    renderOption: renderOptionProp,\n    renderPopover,\n    renderValue = defaultRenderValue,\n    value: valueProp,\n    ...restProps\n  } = props\n\n  const [state, dispatch] = useReducer(autocompleteReducer, {\n    activeValue: valueProp || null,\n    focused: false,\n    listFocused: false,\n    query: null,\n    value: valueProp || null,\n  })\n\n  const {activeValue, focused, listFocused, query, value} = state\n\n  const defaultRenderOption = useCallback(\n    ({value}: BaseAutocompleteOption) => (\n      <Card data-as=\"button\" padding={paddingProp} radius={2} tone=\"inherit\">\n        <Text size={fontSize} textOverflow=\"ellipsis\">\n          {value}\n        </Text>\n      </Card>\n    ),\n    [fontSize, paddingProp]\n  )\n\n  const renderOption =\n    typeof renderOptionProp === 'function' ? renderOptionProp : defaultRenderOption\n  const filterOption =\n    typeof filterOptionProp === 'function' ? filterOptionProp : defaultFilterOption\n  const [rootElement, setRootElement] = useState<HTMLDivElement | null>(null)\n  const [resultsPopoverElement, setResultsPopoverElement] = useState<HTMLDivElement | null>(null)\n  const inputElementRef = useRef<HTMLInputElement | null>(null)\n  const listBoxElementRef = useRef<HTMLDivElement | null>(null)\n  const focusedElementRef = useRef<HTMLElement | null>(null)\n  const valueRef = useRef(value)\n  const valuePropRef = useRef(valueProp)\n  const forwardedRef = useForwardedRef(ref)\n  const popoverMouseWithinRef = useRef(false)\n  const listBoxId = `${id}-listbox`\n  const options = Array.isArray(optionsProp) ? optionsProp : EMPTY_ARRAY\n  const padding = useResponsiveProp(paddingProp)\n  const currentOption = useMemo(\n    () => (value !== null ? options.find((o) => o.value === value) : undefined),\n    [options, value]\n  )\n  const filteredOptions = useMemo(\n    () => options.filter((option) => (query ? filterOption(query, option) : true)),\n    [filterOption, options, query]\n  )\n  const filteredOptionsLen = filteredOptions.length\n  const activeItemId = activeValue ? `${id}-option-${activeValue}` : undefined\n  const expanded = (query !== null && loading) || (focused && query !== null)\n\n  const handleRootBlur = useCallback(\n    (event: React.FocusEvent<HTMLInputElement>) => {\n      setTimeout(() => {\n        // NOTE: This is a workaround for a bug that may happen in Chrome (clicking the scrollbar\n        // closes the results in certain situations):\n        // - Do not handle blur if the mouse is within the popover\n        if (popoverMouseWithinRef.current) {\n          return\n        }\n\n        const elements: HTMLElement[] = (relatedElements || []).concat(\n          rootElement ? [rootElement] : [],\n          resultsPopoverElement ? [resultsPopoverElement] : []\n        )\n\n        let focusInside = false\n\n        if (document.activeElement) {\n          for (const e of elements) {\n            if (e === document.activeElement || e.contains(document.activeElement)) {\n              focusInside = true\n              break\n            }\n          }\n        }\n\n        if (focusInside === false) {\n          dispatch({type: 'root/blur'})\n          popoverMouseWithinRef.current = false\n          if (onQueryChange) onQueryChange(null)\n          if (onBlur) onBlur(event)\n        }\n      }, 0)\n    },\n    [onBlur, onQueryChange, relatedElements, resultsPopoverElement, rootElement]\n  )\n\n  const handleRootFocus = useCallback((event: React.FocusEvent) => {\n    const listBoxElement = listBoxElementRef.current\n    const focusedElement = event.target instanceof HTMLElement ? event.target : null\n\n    focusedElementRef.current = focusedElement\n\n    const nextListFocused = Boolean(\n      listBoxElement && focusedElement && listBoxElement.contains(focusedElement)\n    )\n\n    dispatch({type: 'root/setListFocused', listFocused: nextListFocused})\n  }, [])\n\n  const handleOptionSelect = useCallback(\n    (v: string) => {\n      dispatch({type: 'value/change', value: v})\n\n      popoverMouseWithinRef.current = false\n\n      if (onSelect) onSelect(v)\n\n      valueRef.current = v\n\n      if (onChange) onChange(v)\n      if (onQueryChange) onQueryChange(null)\n\n      inputElementRef.current?.focus()\n    },\n    [onChange, onSelect, onQueryChange]\n  )\n\n  const handleRootKeyDown = useCallback(\n    (event: React.KeyboardEvent<HTMLElement>) => {\n      if (event.key === 'ArrowDown') {\n        event.preventDefault()\n\n        if (!filteredOptionsLen) return\n\n        const activeOption = filteredOptions.find((o) => o.value === activeValue)\n        const activeIndex = activeOption ? filteredOptions.indexOf(activeOption) : -1\n        const nextActiveOption = filteredOptions[(activeIndex + 1) % filteredOptionsLen]\n\n        if (nextActiveOption) {\n          dispatch({type: 'root/setActiveValue', value: nextActiveOption.value, listFocused: true})\n        }\n\n        return\n      }\n\n      if (event.key === 'ArrowUp') {\n        event.preventDefault()\n\n        if (!filteredOptionsLen) return\n\n        const activeOption = filteredOptions.find((o) => o.value === activeValue)\n        const activeIndex = activeOption ? filteredOptions.indexOf(activeOption) : -1\n        const nextActiveOption =\n          filteredOptions[\n            activeIndex === -1\n              ? filteredOptionsLen - 1\n              : (filteredOptionsLen + activeIndex - 1) % filteredOptionsLen\n          ]\n\n        if (nextActiveOption) {\n          dispatch({type: 'root/setActiveValue', value: nextActiveOption.value, listFocused: true})\n        }\n\n        return\n      }\n\n      if (event.key === 'Escape') {\n        dispatch({type: 'root/escape'})\n        popoverMouseWithinRef.current = false\n        if (onQueryChange) onQueryChange(null)\n        inputElementRef.current?.focus()\n\n        return\n      }\n\n      const target = event.target as Node\n      const listEl = listBoxElementRef.current\n\n      if (\n        (listEl === target || listEl?.contains(target)) &&\n        !AUTOCOMPLETE_LISTBOX_IGNORE_KEYS.includes(event.key)\n      ) {\n        inputElementRef.current?.focus()\n\n        return\n      }\n    },\n    [activeValue, filteredOptions, filteredOptionsLen, onQueryChange]\n  )\n\n  const handleInputChange = useCallback(\n    (event: React.ChangeEvent<HTMLInputElement>) => {\n      const nextQuery = event.currentTarget.value\n\n      dispatch({type: 'input/change', query: nextQuery})\n\n      if (onQueryChange) onQueryChange(nextQuery)\n    },\n    [onQueryChange]\n  )\n\n  const handleInputFocus = useCallback(\n    (event: React.FocusEvent<HTMLInputElement>) => {\n      if (!focused) {\n        dispatch({type: 'input/focus'})\n\n        if (onFocus) onFocus(event)\n      }\n    },\n    [focused, onFocus]\n  )\n\n  const handlePopoverMouseEnter = useCallback(() => {\n    popoverMouseWithinRef.current = true\n  }, [])\n\n  const handlePopoverMouseLeave = useCallback(() => {\n    popoverMouseWithinRef.current = false\n  }, [])\n\n  const handleClearButtonClick = useCallback(() => {\n    dispatch({type: 'root/clear'})\n    valueRef.current = ''\n    if (onChange) onChange('')\n    if (onQueryChange) onQueryChange(null)\n    inputElementRef.current?.focus()\n  }, [onChange, onQueryChange])\n\n  const handleClearButtonFocus = useCallback(() => {\n    dispatch({type: 'input/focus'})\n  }, [])\n\n  // Change the value when `value` prop changes\n  useEffect(() => {\n    if (valueProp !== valuePropRef.current) {\n      valuePropRef.current = valueProp\n\n      if (valueProp !== undefined) {\n        dispatch({type: 'value/change', value: valueProp})\n        valueRef.current = valueProp\n      }\n\n      return\n    }\n\n    if (valueProp !== value) {\n      dispatch({type: 'value/change', value: valueProp || null})\n    }\n  }, [valueProp, value])\n\n  // Reset active item when closing\n  useEffect(() => {\n    if (!focused) {\n      if (valueRef.current) {\n        dispatch({type: 'root/setActiveValue', value: valueRef.current})\n      }\n    }\n  }, [focused])\n\n  // Focus the selected item\n  useEffect(() => {\n    const listElement = listBoxElementRef.current\n\n    if (!listElement) return\n\n    const activeOption = filteredOptions.find((o) => o.value === activeValue)\n\n    if (activeOption) {\n      const activeIndex = filteredOptions.indexOf(activeOption)\n      const activeItemElement = listElement.childNodes[activeIndex] as HTMLLIElement | undefined\n\n      if (activeItemElement) {\n        if (_hasFocus(activeItemElement)) {\n          // already focused\n          return\n        }\n\n        focusFirstDescendant(activeItemElement)\n      }\n    }\n  }, [activeValue, filteredOptions])\n\n  const setRef = useCallback(\n    (el: HTMLInputElement | null) => {\n      inputElementRef.current = el\n      forwardedRef.current = el\n    },\n    [forwardedRef]\n  )\n\n  const clearButton = useMemo(() => {\n    if (!loading && !disabled && value) {\n      return {\n        'aria-label': 'Clear',\n        onFocus: handleClearButtonFocus,\n      }\n    }\n\n    return undefined\n  }, [disabled, handleClearButtonFocus, loading, value])\n\n  const openButtonBoxPadding = useMemo(() => padding.map((v) => v - 2), [padding])\n  const openButtonPadding = useMemo(() => padding.map((v) => v - 1), [padding])\n  const openButtonProps: AutocompleteOpenButtonProps = useMemo(\n    () => (typeof openButton === 'object' ? openButton : EMPTY_RECORD),\n    [openButton]\n  )\n\n  const handleOpenClick = useCallback(\n    (event: React.MouseEvent<HTMLButtonElement>) => {\n      dispatch({\n        type: 'root/open',\n        query: value ? renderValue(value, currentOption) : '',\n      })\n\n      if (openButtonProps.onClick) openButtonProps.onClick(event)\n\n      _raf(() => inputElementRef.current?.focus())\n    },\n    [currentOption, openButtonProps, renderValue, value]\n  )\n\n  const openButtonNode = useMemo(\n    () =>\n      !disabled && !readOnly && openButton ? (\n        <Box aria-hidden={expanded} padding={openButtonBoxPadding}>\n          <Button\n            aria-label=\"Open\"\n            disabled={expanded}\n            fontSize={fontSize}\n            icon={ChevronDownIcon}\n            mode=\"bleed\"\n            padding={openButtonPadding}\n            {...openButtonProps}\n            onClick={handleOpenClick}\n          />\n        </Box>\n      ) : undefined,\n    [\n      disabled,\n      expanded,\n      fontSize,\n      handleOpenClick,\n      openButton,\n      openButtonBoxPadding,\n      openButtonPadding,\n      openButtonProps,\n      readOnly,\n    ]\n  )\n\n  const inputValue = useMemo(() => {\n    if (query === null) {\n      if (value !== null) {\n        return renderValue(value, currentOption)\n      }\n\n      return ''\n    }\n\n    return query\n  }, [currentOption, query, renderValue, value])\n\n  const input = (\n    <TextInput\n      {...restProps}\n      aria-activedescendant={activeItemId}\n      aria-autocomplete=\"list\"\n      aria-expanded={expanded}\n      aria-owns={listBoxId}\n      autoCapitalize=\"off\"\n      autoComplete=\"off\"\n      autoCorrect=\"off\"\n      border={border}\n      clearButton={clearButton}\n      customValidity={customValidity}\n      disabled={disabled}\n      fontSize={fontSize}\n      icon={icon}\n      iconRight={loading && AnimatedSpinnerIcon}\n      id={id}\n      inputMode=\"search\"\n      onChange={handleInputChange}\n      onClear={handleClearButtonClick}\n      onFocus={handleInputFocus}\n      padding={padding}\n      prefix={prefix}\n      radius={radius}\n      readOnly={readOnly}\n      ref={setRef}\n      role=\"combobox\"\n      spellCheck={false}\n      suffix={openButtonNode}\n      value={inputValue}\n    />\n  )\n\n  const handleListBoxKeyDown = useCallback(\n    (event: React.KeyboardEvent<HTMLDivElement>) => {\n      // If the focus is currently in the list, move focus to the input element\n      if (event.key === 'Tab') {\n        if (listFocused) inputElementRef.current?.focus()\n      }\n    },\n    [listFocused]\n  )\n\n  const content = useMemo(() => {\n    if (filteredOptions.length === 0) return null\n\n    return (\n      <ListBox onKeyDown={handleListBoxKeyDown} padding={1} {...listBox} tabIndex={-1}>\n        <Stack\n          as=\"ul\"\n          aria-multiselectable={false}\n          id={listBoxId}\n          ref={listBoxElementRef}\n          role=\"listbox\"\n          space={1}\n        >\n          {filteredOptions.map((option) => {\n            const active =\n              activeValue !== null ? option.value === activeValue : currentOption === option\n\n            return (\n              <AutocompleteOption\n                id={`${id}-option-${option.value}`}\n                key={option.value}\n                onSelect={handleOptionSelect}\n                selected={active}\n                value={option.value}\n              >\n                {cloneElement(renderOption(option), {\n                  disabled: loading,\n                  selected: active,\n                  tabIndex: listFocused && active ? 0 : -1,\n                })}\n              </AutocompleteOption>\n            )\n          })}\n        </Stack>\n      </ListBox>\n    )\n  }, [\n    activeValue,\n    currentOption,\n    filteredOptions,\n    handleOptionSelect,\n    handleListBoxKeyDown,\n    id,\n    listBox,\n    listBoxId,\n    listFocused,\n    loading,\n    renderOption,\n  ])\n\n  const results = useMemo(() => {\n    if (renderPopover) {\n      return renderPopover(\n        {\n          content,\n          hidden: !expanded,\n          inputElement: inputElementRef.current,\n          onMouseEnter: handlePopoverMouseEnter,\n          onMouseLeave: handlePopoverMouseLeave,\n        },\n        setResultsPopoverElement\n      )\n    }\n\n    if (filteredOptionsLen === 0) {\n      return null\n    }\n\n    return (\n      <ResultsPopover\n        __unstable_margins={AUTOCOMPLETE_POPOVER_MARGINS}\n        arrow={false}\n        constrainSize\n        content={content}\n        fallbackPlacements={AUTOCOMPLETE_POPOVER_FALLBACK_PLACEMENTS}\n        matchReferenceWidth\n        onMouseEnter={handlePopoverMouseEnter}\n        onMouseLeave={handlePopoverMouseLeave}\n        open={expanded}\n        placement={AUTOCOMPLETE_POPOVER_PLACEMENT}\n        portal\n        radius={radius}\n        ref={setResultsPopoverElement}\n        referenceElement={inputElementRef.current}\n        {...popover}\n      />\n    )\n  }, [\n    content,\n    expanded,\n    filteredOptionsLen,\n    handlePopoverMouseEnter,\n    handlePopoverMouseLeave,\n    popover,\n    radius,\n    renderPopover,\n  ])\n\n  return (\n    <Root\n      data-ui=\"Autocomplete\"\n      onBlur={handleRootBlur}\n      onFocus={handleRootFocus}\n      onKeyDown={handleRootKeyDown}\n      ref={setRootElement}\n    >\n      {input}\n      {results}\n    </Root>\n  )\n})\n\n/**\n * @public\n */\nexport const Autocomplete = InnerAutocomplete as <Option extends BaseAutocompleteOption>(\n  props: AutocompleteProps<Option> &\n    Omit<\n      React.HTMLProps<HTMLInputElement>,\n      | 'aria-activedescendant'\n      | 'aria-autocomplete'\n      | 'aria-expanded'\n      | 'aria-owns'\n      | 'as'\n      | 'autoCapitalize'\n      | 'autoComplete'\n      | 'autoCorrect'\n      | 'id'\n      | 'inputMode'\n      | 'onChange'\n      | 'onSelect'\n      | 'prefix'\n      | 'ref'\n      | 'role'\n      | 'spellCheck'\n      | 'type'\n      | 'value'\n    > & {\n      ref?: React.Ref<HTMLInputElement>\n    }\n) => React.ReactElement\n","import styled from 'styled-components'\nimport {Button} from '../../primitives'\n\nexport const Root = styled.ol`\n  margin: 0;\n  padding: 0;\n  display: flex;\n  list-style: none;\n  align-items: center;\n  white-space: nowrap;\n  line-height: 0;\n`\n\nexport const ExpandButton = styled(Button)`\n  appearance: none;\n  margin: -4px;\n`\n","import React, {\n  Children,\n  forwardRef,\n  Fragment,\n  isValidElement,\n  useCallback,\n  useMemo,\n  useState,\n} from 'react'\nimport {useClickOutside} from '../../hooks'\nimport {Box, Popover, Stack, Text} from '../../primitives'\nimport {ExpandButton, Root} from './breadcrumbs.styles'\n\n/**\n * @beta\n */\nexport interface BreadcrumbsProps {\n  maxLength?: number\n  separator?: React.ReactNode\n  space?: number | number[]\n}\n\n/**\n * @beta\n */\nexport const Breadcrumbs = forwardRef(function Breadcrumbs(\n  props: BreadcrumbsProps & Omit<React.HTMLProps<HTMLOListElement>, 'as' | 'ref' | 'type'>,\n  ref: React.ForwardedRef<HTMLOListElement>\n) {\n  const {children, maxLength, separator, space = 2, ...restProps} = props\n  const [open, setOpen] = useState(false)\n  const [expandElement, setExpandElement] = useState<HTMLButtonElement | null>(null)\n  const [popoverElement, setPopoverElement] = useState<HTMLDivElement | null>(null)\n\n  const collapse = useCallback(() => setOpen(false), [])\n  const expand = useCallback(() => setOpen(true), [])\n\n  useClickOutside(collapse, [expandElement, popoverElement])\n\n  const rawItems = useMemo(\n    () =>\n      Children.toArray(children).filter((child) => {\n        return isValidElement(child)\n      }),\n    [children]\n  )\n\n  const items = useMemo(() => {\n    const len = rawItems.length\n\n    if (maxLength && len > maxLength) {\n      const beforeLength = Math.ceil(maxLength / 2)\n      const afterLength = Math.floor(maxLength / 2)\n\n      return [\n        ...rawItems.slice(0, beforeLength - 1),\n        <Popover\n          constrainSize\n          content={\n            <Stack as=\"ol\" overflow=\"auto\" padding={space} space={space}>\n              {rawItems.slice(beforeLength - 1, len - afterLength)}\n            </Stack>\n          }\n          key=\"button\"\n          open={open}\n          placement=\"top\"\n          portal\n          ref={setPopoverElement}\n        >\n          <ExpandButton\n            fontSize={1}\n            mode=\"bleed\"\n            onClick={open ? collapse : expand}\n            padding={1}\n            ref={setExpandElement}\n            selected={open}\n            text=\"…\"\n          />\n        </Popover>,\n        ...rawItems.slice(len - afterLength),\n      ]\n    }\n\n    return rawItems\n  }, [collapse, expand, maxLength, open, rawItems, space])\n\n  return (\n    <Root data-ui=\"Breadcrumbs\" {...restProps} ref={ref}>\n      {items.map((item, itemIndex) => (\n        <Fragment key={itemIndex}>\n          {itemIndex > 0 && (\n            <Box aria-hidden as=\"li\" paddingX={space}>\n              {separator || <Text muted>/</Text>}\n            </Box>\n          )}\n          <Box as=\"li\">{item}</Box>\n        </Fragment>\n      ))}\n    </Root>\n  )\n})\n","import {CSSObject} from 'styled-components'\nimport {getResponsiveProp, responsive, ThemeProps} from '../../styles'\nimport {DialogPosition} from '../../types'\n\n/**\n * @internal\n */\nexport interface ResponsiveDialogPositionStyleProps {\n  $position: DialogPosition | DialogPosition[]\n}\n\nexport function dialogStyle({theme}: ThemeProps): CSSObject {\n  const color = theme.sanity.color.base\n\n  return {\n    '&:not([hidden])': {\n      display: 'flex',\n    },\n\n    top: 0,\n    left: 0,\n    right: 0,\n    bottom: 0,\n    alignItems: 'center',\n    justifyContent: 'center',\n    outline: 'none',\n    background: color.shadow.penumbra,\n  }\n}\n\nexport function responsiveDialogPositionStyle(\n  props: ResponsiveDialogPositionStyleProps & ThemeProps\n): CSSObject[] {\n  const {theme} = props\n  const {media} = theme.sanity\n\n  return responsive(media, getResponsiveProp(props.$position), (position) => ({'&&': {position}}))\n}\n","import {createContext} from 'react'\nimport {globalScope} from '../../lib/globalScope'\nimport {DialogPosition} from '../../types'\n\n/**\n * This API might change. DO NOT USE IN PRODUCTION.\n * @beta\n */\nexport interface DialogContextValue {\n  version: 0.0\n  position?: DialogPosition | DialogPosition[]\n  zOffset?: number | number[]\n}\n\nconst key = Symbol.for('@sanity/ui/context/dialog')\n\nglobalScope[key] = globalScope[key] || createContext<DialogContextValue>({version: 0.0})\n\n/**\n * @internal\n */\nexport const DialogContext: React.Context<DialogContextValue> = globalScope[key]\n","import {useContext} from 'react'\nimport {DialogContext, DialogContextValue} from './dialogContext'\n\n/**\n * This API might change. DO NOT USE IN PRODUCTION.\n * @beta\n */\nexport function useDialog(): DialogContextValue {\n  return useContext(DialogContext)\n}\n","import {CloseIcon} from '@sanity/icons'\nimport React, {forwardRef, useCallback, useEffect, useRef, useState} from 'react'\nimport styled from 'styled-components'\nimport {focusFirstDescendant, focusLastDescendant} from '../../helpers'\nimport {useClickOutside, useForwardedRef, useGlobalKeyDown} from '../../hooks'\nimport {Box, Button, Card, Container, Flex, Text} from '../../primitives'\nimport {ResponsivePaddingProps, ResponsiveWidthProps} from '../../primitives/types'\nimport {responsivePaddingStyle, ResponsivePaddingStyleProps} from '../../styles/internal'\nimport {ThemeColorSchemeKey, useTheme} from '../../theme'\nimport {DialogPosition} from '../../types'\nimport {Layer, Portal, useLayer} from '../../utils'\nimport {\n  dialogStyle,\n  responsiveDialogPositionStyle,\n  ResponsiveDialogPositionStyleProps,\n} from './styles'\nimport {useDialog} from './useDialog'\n\n/**\n * @public\n */\nexport interface DialogProps extends ResponsivePaddingProps, ResponsiveWidthProps {\n  /**\n   * @beta\n   */\n  __unstable_autoFocus?: boolean\n  /**\n   * @beta\n   */\n  __unstable_hideCloseButton?: boolean\n  cardRadius?: number | number[]\n  cardShadow?: number | number[]\n  contentRef?: React.ForwardedRef<HTMLDivElement>\n  footer?: React.ReactNode\n  header?: React.ReactNode\n  id: string\n  onClickOutside?: () => void\n  onClose?: () => void\n  portal?: string\n  position?: DialogPosition | DialogPosition[]\n  scheme?: ThemeColorSchemeKey\n  zOffset?: number | number[]\n}\n\ninterface DialogCardProps extends ResponsiveWidthProps {\n  /**\n   * @beta\n   */\n  __unstable_autoFocus: boolean\n  /**\n   * @beta\n   */\n  __unstable_hideCloseButton: boolean\n  children: React.ReactNode\n  contentRef?: React.ForwardedRef<HTMLDivElement>\n  footer: React.ReactNode\n  header: React.ReactNode\n  id: string\n  onClickOutside?: () => void\n  onClose?: () => void\n  radius: number | number[]\n  scheme?: ThemeColorSchemeKey\n  shadow: number | number[]\n}\n\nconst Root = styled(Layer)<ResponsiveDialogPositionStyleProps & ResponsivePaddingStyleProps>(\n  responsivePaddingStyle,\n  dialogStyle,\n  responsiveDialogPositionStyle\n)\n\nconst DialogContainer = styled(Container)`\n  &:not([hidden]) {\n    display: flex;\n  }\n  width: 100%;\n  height: 100%;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n`\n\nconst DialogCardRoot = styled(Card)`\n  &:not([hidden]) {\n    display: flex;\n  }\n  width: 100%;\n  min-height: 0;\n  max-height: 100%;\n  overflow: hidden;\n`\n\nconst DialogLayout = styled(Flex)`\n  flex: 1;\n  min-height: 0;\n  width: 100%;\n`\n\nconst DialogHeader = styled(Card)`\n  position: relative;\n  z-index: 2;\n\n  &:after {\n    content: '';\n    display: block;\n    position: absolute;\n    left: 0;\n    right: 0;\n    bottom: -1px;\n    border-bottom: 1px solid var(--card-hairline-soft-color);\n  }\n`\n\nconst DialogContent = styled(Box)`\n  position: relative;\n  z-index: 1;\n  overflow: auto;\n  outline: none;\n`\n\nconst DialogFooter = styled(Box)`\n  position: relative;\n  z-index: 3;\n  border-top: 1px solid var(--card-hairline-soft-color);\n`\n\nconst DialogCard = forwardRef(function DialogCard(\n  props: DialogCardProps,\n  ref: React.ForwardedRef<HTMLDivElement>\n) {\n  const {\n    __unstable_autoFocus: autoFocus,\n    __unstable_hideCloseButton: hideCloseButton,\n    children,\n    contentRef,\n    footer,\n    header,\n    id,\n    onClickOutside,\n    onClose,\n    radius,\n    scheme,\n    shadow,\n    width,\n  } = props\n  const forwardedRef = useForwardedRef(ref)\n  const [rootElement, setRootElement] = useState<HTMLDivElement | null>(null)\n  const localContentRef = useRef<HTMLDivElement | null>(null)\n  const layer = useLayer()\n  const {isTopLayer} = layer\n  const labelId = `${id}_label`\n  const showCloseButton = Boolean(onClose) && hideCloseButton === false\n  const showHeader = Boolean(header) || showCloseButton\n\n  useEffect(() => {\n    if (!autoFocus) return\n\n    // On mount: focus the first interactive element in the contents\n    if (forwardedRef.current) {\n      focusFirstDescendant(forwardedRef.current)\n    }\n  }, [autoFocus, forwardedRef])\n\n  useGlobalKeyDown(\n    useCallback(\n      (event: KeyboardEvent) => {\n        if (!isTopLayer || !onClose) return\n\n        if (event.key === 'Escape') {\n          event.preventDefault()\n          event.stopPropagation()\n          onClose()\n        }\n      },\n      [isTopLayer, onClose]\n    )\n  )\n\n  useClickOutside(\n    useCallback(() => {\n      if (!isTopLayer || !onClickOutside) return\n\n      onClickOutside()\n    }, [isTopLayer, onClickOutside]),\n    [rootElement]\n  )\n\n  const setRef = useCallback(\n    (el: HTMLDivElement | null) => {\n      setRootElement(el)\n      forwardedRef.current = el\n    },\n    [forwardedRef]\n  )\n\n  const setContentRef = useCallback(\n    (el: HTMLDivElement | null) => {\n      localContentRef.current = el\n      if (typeof contentRef === 'function') contentRef(el)\n      else if (contentRef) contentRef.current = el\n    },\n    [contentRef]\n  )\n\n  return (\n    <DialogContainer data-ui=\"DialogCard\" width={width}>\n      <DialogCardRoot radius={radius} ref={setRef} scheme={scheme} shadow={shadow}>\n        <DialogLayout direction=\"column\">\n          {showHeader && (\n            <DialogHeader>\n              <Flex>\n                <Box flex={1} padding={4}>\n                  {header && (\n                    <Text id={labelId} weight=\"semibold\">\n                      {header}\n                    </Text>\n                  )}\n                </Box>\n                {showCloseButton && (\n                  <Box padding={2}>\n                    <Button\n                      aria-label=\"Close dialog\"\n                      disabled={!onClose}\n                      icon={CloseIcon}\n                      mode=\"bleed\"\n                      onClick={onClose}\n                      padding={3}\n                    />\n                  </Box>\n                )}\n              </Flex>\n            </DialogHeader>\n          )}\n\n          <DialogContent flex={1} ref={setContentRef} tabIndex={-1}>\n            {children}\n          </DialogContent>\n\n          {footer && <DialogFooter>{footer}</DialogFooter>}\n        </DialogLayout>\n      </DialogCardRoot>\n    </DialogContainer>\n  )\n})\n\n/**\n * @public\n */\nexport const Dialog = forwardRef(function Dialog(\n  props: DialogProps & Omit<React.HTMLProps<HTMLDivElement>, 'as' | 'id' | 'width'>,\n  ref: React.Ref<HTMLDivElement>\n) {\n  const dialog = useDialog()\n  const theme = useTheme()\n  const {\n    __unstable_autoFocus: autoFocus = true,\n    __unstable_hideCloseButton: hideCloseButton = false,\n    cardRadius = 3,\n    cardShadow = 4,\n    children,\n    contentRef,\n    footer,\n    header,\n    id,\n    onClickOutside,\n    onClose,\n    padding = 4,\n    portal,\n    position = dialog.position || 'fixed',\n    scheme,\n    width = 0,\n    zOffset = dialog.zOffset || theme.sanity.layer?.dialog.zOffset,\n    ...restProps\n  } = props\n  const preDivRef = useRef<HTMLDivElement | null>(null)\n  const postDivRef = useRef<HTMLDivElement | null>(null)\n  const cardRef = useRef<HTMLDivElement | null>(null)\n\n  const handleFocus = useCallback((event: React.FocusEvent<HTMLDivElement>) => {\n    const target = event.target\n    const cardElement = cardRef.current\n\n    if (!cardElement) {\n      return\n    }\n\n    if (target === preDivRef.current) {\n      focusLastDescendant(cardElement)\n\n      return\n    }\n\n    if (target === postDivRef.current) {\n      focusFirstDescendant(cardElement)\n\n      return\n    }\n  }, [])\n\n  const labelId = `${id}_label`\n\n  return (\n    <Portal __unstable_name={portal}>\n      <Root\n        {...restProps}\n        $padding={padding}\n        $position={position}\n        aria-labelledby={labelId}\n        aria-modal\n        data-ui=\"Dialog\"\n        id={id}\n        onFocus={handleFocus}\n        ref={ref}\n        role=\"dialog\"\n        zOffset={zOffset}\n      >\n        <div ref={preDivRef} tabIndex={0} />\n        <DialogCard\n          __unstable_autoFocus={autoFocus}\n          __unstable_hideCloseButton={hideCloseButton}\n          contentRef={contentRef}\n          footer={footer}\n          header={header}\n          id={id}\n          onClickOutside={onClickOutside}\n          onClose={onClose}\n          radius={cardRadius}\n          ref={cardRef}\n          scheme={scheme}\n          shadow={cardShadow}\n          width={width}\n        >\n          {children}\n        </DialogCard>\n        <div ref={postDivRef} tabIndex={0} />\n      </Root>\n    </Portal>\n  )\n})\n","import React, {useMemo} from 'react'\nimport {DialogPosition} from '../../types'\nimport {DialogContext, DialogContextValue} from './dialogContext'\n\n/**\n * This API might change. DO NOT USE IN PRODUCTION.\n * @beta\n */\nexport interface DialogProviderProps {\n  children?: React.ReactNode\n  position?: DialogPosition | DialogPosition[]\n  zOffset?: number | number[]\n}\n\n/**\n * This API might change. DO NOT USE IN PRODUCTION.\n * @beta\n */\nexport function DialogProvider(props: DialogProviderProps): React.ReactElement {\n  const {children, position, zOffset} = props\n\n  const contextValue: DialogContextValue = useMemo(\n    () => ({\n      version: 0.0,\n      position,\n      zOffset,\n    }),\n    [position, zOffset]\n  )\n\n  return <DialogContext.Provider value={contextValue}>{children}</DialogContext.Provider>\n}\n","import React, {forwardRef} from 'react'\nimport styled from 'styled-components'\nimport {Inline, KBD} from '../../primitives'\n\n/**\n * @public\n */\nexport interface HotkeysProps {\n  fontSize?: number | number[]\n  padding?: number | number[]\n  radius?: number | number[]\n  space?: number | number[]\n  keys?: string[]\n}\n\nconst Root = styled.kbd`\n  &:not([hidden]) {\n    display: block;\n  }\n  font: inherit;\n`\n\nconst Key = styled(KBD)`\n  &:not([hidden]) {\n    display: block;\n  }\n`\n\n/**\n * @public\n */\nexport const Hotkeys = forwardRef(function Hotkeys(\n  props: HotkeysProps & Omit<React.HTMLProps<HTMLElement>, 'as' | 'ref' | 'size'>,\n  ref: React.Ref<HTMLElement>\n) {\n  const {fontSize, keys, padding, radius, space = 1, ...restProps} = props\n\n  if (!keys || keys.length === 0) {\n    return <></>\n  }\n\n  return (\n    <Root data-ui=\"Hotkeys\" {...restProps} ref={ref}>\n      <Inline as=\"span\" space={space}>\n        {keys.map((key, i) => (\n          <Key fontSize={fontSize} key={i} padding={padding} radius={radius}>\n            {key}\n          </Key>\n        ))}\n      </Inline>\n    </Root>\n  )\n})\n","import {isHTMLAnchorElement, isHTMLButtonElement} from '../../helpers'\n\n/**\n * @internal\n */\nfunction _isFocusable(element: HTMLElement) {\n  return (\n    (isHTMLAnchorElement(element) && element.getAttribute('data-disabled') !== 'true') ||\n    (isHTMLButtonElement(element) && !element.disabled)\n  )\n}\n\n/**\n * @internal\n */\nexport function _getFocusableElements(elements: HTMLElement[]): HTMLElement[] {\n  return elements.filter(_isFocusable)\n}\n\n/**\n * @internal\n */\nexport function _getDOMPath(rootElement: HTMLElement, el: HTMLElement): number[] {\n  const path: number[] = []\n\n  let e = el\n\n  while (e !== rootElement) {\n    const parentElement = e.parentElement\n\n    if (!parentElement) return path\n\n    const children = Array.from(parentElement.childNodes)\n    const index = children.indexOf(e)\n\n    path.unshift(index)\n\n    if (parentElement === rootElement) {\n      return path\n    }\n\n    e = parentElement\n  }\n\n  return path\n}\n\nconst EMPTY_PATH: number[] = []\n\n/**\n * @internal\n */\nexport function _sortElements(rootElement: HTMLElement | null, elements: HTMLElement[]): void {\n  if (!rootElement) return\n\n  const map = new WeakMap<HTMLElement, number[]>()\n\n  for (const el of elements) {\n    map.set(el, _getDOMPath(rootElement, el))\n  }\n\n  const _sort = (a: HTMLElement, b: HTMLElement) => {\n    const _a = map.get(a) || EMPTY_PATH\n    const _b = map.get(b) || EMPTY_PATH\n\n    const len = Math.max(_a.length, _b.length)\n\n    // Loop until there are different indexes\n    for (let i = 0; i < len; i += 1) {\n      const aIndex = _a[i] || -1\n      const bIndex = _b[i] || -1\n\n      if (aIndex !== bIndex) {\n        return aIndex - bIndex\n      }\n    }\n\n    return 0\n  }\n\n  elements.sort(_sort)\n}\n","import {createContext} from 'react'\nimport {globalScope} from '../../lib/globalScope'\n\nexport interface MenuContextValue {\n  version: 0.0\n  activeElement: HTMLElement | null\n  activeIndex: number\n  mount: (element: HTMLElement | null, selected?: boolean) => () => void\n  onClickOutside?: (event: MouseEvent) => void\n  onEscape?: () => void\n  onItemClick?: () => void\n  onMouseEnter: (event: React.MouseEvent<HTMLElement>) => void\n  onMouseLeave: (event: React.MouseEvent<HTMLElement>) => void\n  registerElement?: (el: HTMLElement) => () => void\n}\n\nconst key = Symbol.for('@sanity/ui/context/menu')\n\nglobalScope[key] = globalScope[key] || createContext<MenuContextValue | null>(null)\n\nexport const MenuContext: React.Context<MenuContextValue | null> = globalScope[key]\n","import React, {forwardRef, useCallback, useEffect, useMemo, useRef, useState} from 'react'\nimport styled from 'styled-components'\nimport {useClickOutside, useGlobalKeyDown} from '../../hooks'\nimport {Box, Stack} from '../../primitives'\nimport {ResponsivePaddingProps} from '../../primitives/types'\nimport {useLayer} from '../../utils'\nimport {_getFocusableElements, _sortElements} from './helpers'\nimport {MenuContext, MenuContextValue} from './menuContext'\n\n/**\n * @public\n */\nexport interface MenuProps extends ResponsivePaddingProps {\n  /**\n   * @deprecated Use `shouldFocus=\"first\"` instead.\n   */\n  focusFirst?: boolean\n  /**\n   * @deprecated Use `shouldFocus=\"last\"` instead.\n   */\n  focusLast?: boolean\n  onClickOutside?: (event: MouseEvent) => void\n  onEscape?: () => void\n  onItemClick?: () => void\n  onItemSelect?: (index: number) => void\n  originElement?: HTMLElement | null\n  registerElement?: (el: HTMLElement) => () => void\n  shouldFocus?: 'first' | 'last' | null\n  space?: number | number[]\n}\n\nconst Root = styled(Box)`\n  outline: none;\n  overflow: auto;\n`\n\n/**\n * @public\n */\nexport const Menu = forwardRef(function Menu(\n  props: MenuProps & Omit<React.HTMLProps<HTMLDivElement>, 'as' | 'height' | 'role' | 'tabIndex'>,\n  ref\n) {\n  const {\n    children,\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    focusFirst,\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    focusLast,\n    onClickOutside,\n    onEscape,\n    onItemClick,\n    onItemSelect,\n    onKeyDown,\n    originElement,\n    padding = 1,\n    registerElement,\n    shouldFocus = (props.focusFirst && 'first') || (props.focusLast && 'last') || null,\n    space = 1,\n    ...restProps\n  } = props\n\n  const {isTopLayer} = useLayer()\n  const [rootElement, setRootElement] = useState<HTMLDivElement | null>(null)\n  const elementsRef = useRef<HTMLElement[]>([])\n  const [activeIndex, setActiveIndex] = useState(-1)\n  const activeIndexRef = useRef(activeIndex)\n  const activeElement = elementsRef.current[activeIndex] || null\n  const activeElementRef = useRef<HTMLElement | null>(activeElement)\n  const mounted = Boolean(rootElement)\n\n  const setRef = useCallback(\n    (el: HTMLDivElement | null) => {\n      setRootElement(el)\n      if (typeof ref === 'function') ref(el)\n      else if (ref) ref.current = el\n    },\n    [ref]\n  )\n\n  const mount = useCallback(\n    (element: HTMLElement | null, selected?: boolean): (() => void) => {\n      if (!element) return () => undefined\n\n      if (elementsRef.current.indexOf(element) === -1) {\n        elementsRef.current.push(element)\n        _sortElements(rootElement, elementsRef.current)\n      }\n\n      if (selected) {\n        const selectedIndex = elementsRef.current.indexOf(element)\n\n        setActiveIndex(selectedIndex)\n        activeIndexRef.current = selectedIndex\n      }\n\n      return () => {\n        const idx = elementsRef.current.indexOf(element)\n\n        if (idx > -1) {\n          elementsRef.current.splice(idx, 1)\n        }\n      }\n    },\n    [rootElement]\n  )\n\n  const handleKeyDown = useCallback(\n    (event: React.KeyboardEvent<HTMLDivElement>) => {\n      // Move focus to the element that opened the menu before handling the `Tab` press\n      if (event.key === 'Tab') {\n        if (originElement) {\n          originElement.focus()\n        }\n\n        return\n      }\n\n      // Move focus to the first focusable menuitem\n      if (event.key === 'Home') {\n        event.preventDefault()\n        event.stopPropagation()\n\n        const focusableElements = _getFocusableElements(elementsRef.current)\n        const el = focusableElements[0]\n\n        if (!el) return\n\n        const currentIndex = elementsRef.current.indexOf(el)\n\n        setActiveIndex(currentIndex)\n        activeIndexRef.current = currentIndex\n\n        return\n      }\n\n      // Move focus to the last focusable menuitem\n      if (event.key === 'End') {\n        event.preventDefault()\n        event.stopPropagation()\n\n        const focusableElements = _getFocusableElements(elementsRef.current)\n        const el = focusableElements[focusableElements.length - 1]\n\n        if (!el) return\n\n        const currentIndex = elementsRef.current.indexOf(el)\n\n        setActiveIndex(currentIndex)\n        activeIndexRef.current = currentIndex\n\n        return\n      }\n\n      if (event.key === 'ArrowUp') {\n        event.preventDefault()\n        event.stopPropagation()\n\n        const focusableElements = _getFocusableElements(elementsRef.current)\n        const focusableLen = focusableElements.length\n\n        if (focusableLen === 0) return\n\n        const focusedElement = elementsRef.current[activeIndex]\n\n        let focusedIndex = focusableElements.indexOf(focusedElement)\n\n        focusedIndex = (focusedIndex - 1 + focusableLen) % focusableLen\n\n        const el = focusableElements[focusedIndex]\n        const currentIndex = elementsRef.current.indexOf(el)\n\n        setActiveIndex(currentIndex)\n        activeIndexRef.current = currentIndex\n\n        return\n      }\n\n      if (event.key === 'ArrowDown') {\n        event.preventDefault()\n        event.stopPropagation()\n\n        const focusableElements = _getFocusableElements(elementsRef.current)\n        const focusableLen = focusableElements.length\n\n        if (focusableLen === 0) return\n\n        const focusedElement = elementsRef.current[activeIndex]\n\n        let focusedIndex = focusableElements.indexOf(focusedElement)\n\n        focusedIndex = (focusedIndex + 1) % focusableLen\n\n        const el = focusableElements[focusedIndex]\n        const currentIndex = elementsRef.current.indexOf(el)\n\n        setActiveIndex(currentIndex)\n        activeIndexRef.current = currentIndex\n\n        return\n      }\n\n      if (onKeyDown) {\n        onKeyDown(event)\n      }\n    },\n    [activeIndex, onKeyDown, originElement]\n  )\n\n  const handleItemMouseEnter = useCallback((event: React.MouseEvent<HTMLElement>) => {\n    const element = event.currentTarget\n    const currentIndex = elementsRef.current.indexOf(element)\n\n    setActiveIndex(currentIndex)\n    activeIndexRef.current = currentIndex\n  }, [])\n\n  const handleItemMouseLeave = useCallback(() => {\n    rootElement?.focus()\n    setActiveIndex(-1)\n    activeIndexRef.current = -1\n  }, [rootElement])\n\n  // Trigger `onItemSelect` when active index changes\n  useEffect(() => {\n    if (onItemSelect) onItemSelect(activeIndex)\n  }, [activeIndex, onItemSelect])\n\n  useEffect(() => {\n    activeElementRef.current = activeElement\n  }, [activeElement])\n\n  // Set focus on the currently active element\n  useEffect(() => {\n    if (!mounted) return\n\n    const rafId = window.requestAnimationFrame(() => {\n      const _activeIndex = activeIndexRef.current\n\n      if (_activeIndex === -1) {\n        if (shouldFocus === 'first') {\n          const focusableElements = _getFocusableElements(elementsRef.current)\n          const el = focusableElements[0]\n\n          if (el) {\n            const currentIndex = elementsRef.current.indexOf(el)\n\n            setActiveIndex(currentIndex)\n            activeIndexRef.current = currentIndex\n          }\n        }\n\n        if (shouldFocus === 'last') {\n          const focusableElements = _getFocusableElements(elementsRef.current)\n          const el = focusableElements[focusableElements.length - 1]\n\n          if (el) {\n            const currentIndex = elementsRef.current.indexOf(el)\n\n            setActiveIndex(currentIndex)\n            activeIndexRef.current = currentIndex\n          }\n        }\n\n        return\n      }\n\n      const element = elementsRef.current[_activeIndex] || null\n\n      element?.focus()\n    })\n\n    return () => {\n      window.cancelAnimationFrame(rafId)\n    }\n  }, [activeIndex, mounted, shouldFocus])\n\n  useClickOutside(\n    useCallback(\n      (event) => isTopLayer && onClickOutside && onClickOutside(event),\n      [isTopLayer, onClickOutside]\n    ),\n    [rootElement]\n  )\n\n  useGlobalKeyDown(\n    useCallback(\n      (event) => {\n        if (!isTopLayer) return\n\n        if (event.key === 'Escape') {\n          event.stopPropagation()\n          if (onEscape) onEscape()\n        }\n      },\n      [isTopLayer, onEscape]\n    )\n  )\n\n  useEffect(() => {\n    if (!rootElement || !registerElement) return\n\n    return registerElement(rootElement)\n  }, [registerElement, rootElement])\n\n  const value: MenuContextValue = useMemo(\n    () => ({\n      version: 0.0,\n      activeElement,\n      activeIndex,\n      mount,\n      onClickOutside,\n      onEscape,\n      onMouseEnter: handleItemMouseEnter,\n      onMouseLeave: handleItemMouseLeave,\n      onItemClick,\n      registerElement,\n    }),\n    [\n      activeElement,\n      activeIndex,\n      mount,\n      handleItemMouseEnter,\n      handleItemMouseLeave,\n      onClickOutside,\n      onEscape,\n      onItemClick,\n      registerElement,\n    ]\n  )\n\n  return (\n    <MenuContext.Provider value={value}>\n      <Root\n        data-ui=\"Menu\"\n        {...restProps}\n        onKeyDown={handleKeyDown}\n        padding={padding}\n        ref={setRef}\n        role=\"menu\"\n        tabIndex={-1}\n      >\n        <Stack space={space}>{children}</Stack>\n      </Root>\n    </MenuContext.Provider>\n  )\n})\n","import React, {\n  cloneElement,\n  forwardRef,\n  useCallback,\n  useMemo,\n  useState,\n  useEffect,\n  useRef,\n} from 'react'\nimport {isElement} from 'react-is'\nimport {Popover, PopoverProps} from '../../primitives'\nimport {ThemeColorSchemeKey} from '../../theme'\nimport {Placement} from '../../types'\nimport {MenuProps} from './menu'\n\n/**\n * @public\n */\nexport interface MenuButtonProps {\n  /**\n   * @beta Do not use in production.\n   */\n  __unstable_disableRestoreFocusOnClose?: boolean\n  /**\n   * @deprecated Use `popover={{boundaryElement: element}}` instead.\n   */\n  boundaryElement?: HTMLElement\n  button: React.ReactElement\n  id: string\n  menu?: React.ReactElement\n  onClose?: () => void\n  /**\n   * @deprecated Use `popover={{placement: 'top'}}` instead.\n   */\n  placement?: Placement\n  popover?: Omit<PopoverProps, 'content' | 'open'>\n  /**\n   * @deprecated Use `popover={{scheme: 'dark'}}` instead.\n   */\n  popoverScheme?: ThemeColorSchemeKey\n  /**\n   * @deprecated Use `popover={{radius: 2}}` instead.\n   */\n  popoverRadius?: number | number[]\n  /**\n   * @beta Do not use in production.\n   * @deprecated Use `popover={{portal: true}}` instead.\n   */\n  portal?: boolean\n  /**\n   * @deprecated Use `popover={{preventOverflow: true}}` instead.\n   */\n  preventOverflow?: boolean\n}\n\n/**\n * @public\n */\nexport const MenuButton = forwardRef(function MenuButton(\n  props: MenuButtonProps,\n  ref: React.ForwardedRef<HTMLButtonElement | null>\n) {\n  const {\n    __unstable_disableRestoreFocusOnClose: disableRestoreFocusOnClose = false,\n    boundaryElement,\n    button: buttonProp,\n    id,\n    menu: menuProp,\n    onClose,\n    placement,\n    popoverScheme,\n    portal,\n    popover,\n    popoverRadius,\n    preventOverflow,\n  } = props\n  const [open, setOpen] = useState(false)\n  const [shouldFocus, setShouldFocus] = useState<'first' | 'last' | null>(null)\n  const [buttonElement, setButtonElement] = useState<HTMLButtonElement | null>(null)\n  const [menuElements, setChildMenuElements] = useState<HTMLElement[]>([])\n  const openRef = useRef<boolean>(open)\n\n  useEffect(() => {\n    if (onClose && !open && openRef.current) {\n      onClose()\n    }\n  }, [onClose, open])\n\n  useEffect(() => {\n    openRef.current = open\n  }, [open])\n\n  const handleButtonClick = useCallback(() => {\n    setOpen((v) => !v)\n    setShouldFocus(null)\n  }, [])\n\n  const handleButtonKeyDown = useCallback((event: React.KeyboardEvent<HTMLButtonElement>) => {\n    // On `ArrowDown`, `Enter` and `Space`\n    // - Opens menu and moves focus to first menuitem\n    if (event.key === 'ArrowDown' || event.key === 'Enter' || event.key === ' ') {\n      event.preventDefault()\n      setOpen(true)\n      setShouldFocus('first')\n\n      return\n    }\n\n    // On `ArrowUp`\n    // - \tOpens menu and moves focus to last menuitem\n    if (event.key === 'ArrowUp') {\n      event.preventDefault()\n      setOpen(true)\n      setShouldFocus('last')\n\n      return\n    }\n  }, [])\n\n  const handleMenuClickOutside = useCallback(\n    (event: MouseEvent) => {\n      const target = event.target\n\n      if (!(target instanceof Node)) {\n        return\n      }\n\n      if (buttonElement && (target === buttonElement || buttonElement.contains(target))) {\n        return\n      }\n\n      for (const el of menuElements) {\n        if (target === el || el.contains(target)) {\n          return\n        }\n      }\n\n      setOpen(false)\n    },\n    [buttonElement, menuElements]\n  )\n\n  const handleMenuEscape = useCallback(() => {\n    setOpen(false)\n    if (disableRestoreFocusOnClose) return\n    if (buttonElement) buttonElement.focus()\n  }, [buttonElement, disableRestoreFocusOnClose])\n\n  const handleBlur = useCallback(\n    (event: React.FocusEvent<HTMLButtonElement>) => {\n      const target = event.relatedTarget\n\n      if (!(target instanceof Node)) {\n        return\n      }\n\n      for (const el of menuElements) {\n        if (el === target || el.contains(target)) {\n          return\n        }\n      }\n\n      setOpen(false)\n    },\n    [menuElements]\n  )\n\n  const handleItemClick = useCallback(() => {\n    setOpen(false)\n    if (disableRestoreFocusOnClose) return\n    if (buttonElement) buttonElement.focus()\n  }, [buttonElement, disableRestoreFocusOnClose])\n\n  const registerElement = useCallback((el: HTMLElement) => {\n    setChildMenuElements((els) => els.concat([el]))\n\n    return () => {\n      setChildMenuElements((els) => {\n        return els.filter((_el) => _el !== el)\n      })\n    }\n  }, [])\n\n  const menuProps: MenuProps = useMemo(\n    () => ({\n      'aria-labelledby': id,\n      onBlurCapture: handleBlur,\n      onClickOutside: handleMenuClickOutside,\n      onEscape: handleMenuEscape,\n      onItemClick: handleItemClick,\n      originElement: buttonElement,\n      registerElement,\n      shouldFocus,\n    }),\n    [\n      buttonElement,\n      handleMenuClickOutside,\n      handleMenuEscape,\n      handleItemClick,\n      id,\n      handleBlur,\n      registerElement,\n      shouldFocus,\n    ]\n  )\n\n  const menu = isElement(menuProp) ? cloneElement(menuProp, menuProps) : null\n\n  const setButtonRef = useCallback(\n    (el: HTMLButtonElement | null) => {\n      if (typeof ref === 'function') {\n        ref(el)\n      } else if (ref) {\n        ref.current = el\n      }\n\n      setButtonElement(el)\n    },\n    [ref]\n  )\n\n  const button = useMemo(\n    () =>\n      isElement(buttonProp)\n        ? cloneElement(buttonProp, {\n            'data-ui': 'MenuButton',\n            id,\n            onClick: handleButtonClick,\n            onKeyDown: handleButtonKeyDown,\n            'aria-haspopup': true,\n            'aria-expanded': open,\n            ref: setButtonRef,\n            selected: open,\n          })\n        : null,\n    [buttonProp, handleButtonClick, handleButtonKeyDown, id, open, setButtonRef]\n  )\n\n  const popoverProps: PopoverProps = useMemo(() => {\n    return {\n      boundaryElement,\n      placement,\n      portal,\n      radius: popoverRadius,\n      overflow: preventOverflow,\n      scheme: popoverScheme,\n      ...(popover || {}),\n    }\n  }, [boundaryElement, placement, popover, popoverRadius, portal, preventOverflow, popoverScheme])\n\n  return (\n    <Popover {...popoverProps} content={menu} data-ui=\"MenuButton__popover\" open={open}>\n      {button || <></>}\n    </Popover>\n  )\n})\n","import styled, {StyledComponent} from 'styled-components'\nimport {Theme} from '../../theme'\n\n/**\n * @public\n */\nexport const MenuDivider: StyledComponent<'hr', Theme> = styled.hr`\n  height: 1px;\n  border: 0;\n  background: var(--card-hairline-soft-color);\n  margin: 0;\n`\n","import {css, FlattenSimpleInterpolation} from 'styled-components'\nimport {ThemeProps} from '../../styles'\nimport {_colorVarsStyle} from '../../styles/colorVars'\nimport {SelectableTone} from '../../types/selectable'\n\n/**\n * @internal\n */\nexport interface SelectableStyleProps {\n  $tone: SelectableTone\n}\n\nexport function selectableBaseStyle(): FlattenSimpleInterpolation {\n  return css`\n    background-color: inherit;\n    color: inherit;\n\n    &[data-as='button'] {\n      -webkit-font-smoothing: inherit;\n      appearance: none;\n      outline: none;\n      font: inherit;\n      text-align: inherit;\n      border: 0;\n      width: stretch;\n    }\n\n    /* &:is(a) */\n    &[data-as='a'] {\n      text-decoration: none;\n    }\n  `\n}\n\nexport function selectableColorStyle(\n  props: SelectableStyleProps & ThemeProps\n): FlattenSimpleInterpolation {\n  const {$tone, theme} = props\n  const {base, muted, selectable} = theme.sanity.color\n  // @todo: remove use of `muted` here\n  const tone = selectable ? selectable[$tone] || selectable.default : muted[$tone] || muted.default\n\n  return css`\n    ${_colorVarsStyle(base, tone.enabled)}\n\n    background-color: var(--card-bg-color);\n    color: var(--card-fg-color);\n    outline: none;\n\n    /* &:is(button) */\n    &[data-as='button'] {\n      &:disabled {\n        ${_colorVarsStyle(base, tone.disabled)}\n      }\n\n      &:not(:disabled) {\n        &[aria-pressed='true'] {\n          ${_colorVarsStyle(base, tone.pressed)}\n        }\n\n        &[data-selected],\n        &[aria-selected='true'] > & {\n          ${_colorVarsStyle(base, tone.selected)}\n        }\n\n        @media (hover: hover) {\n          &:not([data-selected]) {\n            &:hover {\n              ${_colorVarsStyle(base, tone.hovered)}\n            }\n\n            &:active {\n              ${_colorVarsStyle(base, tone.pressed)}\n            }\n          }\n        }\n      }\n    }\n\n    /* &:is(a) */\n    &[data-as='a'] {\n      &[data-disabled] {\n        ${_colorVarsStyle(base, tone.disabled)}\n      }\n\n      &:not([data-disabled]) {\n        &[data-pressed] {\n          ${_colorVarsStyle(base, tone.pressed)}\n        }\n\n        &[data-selected] {\n          ${_colorVarsStyle(base, tone.selected)}\n        }\n\n        @media (hover: hover) {\n          &:not([data-selected]) {\n            &:hover {\n              ${_colorVarsStyle(base, tone.hovered)}\n            }\n\n            &:active {\n              ${_colorVarsStyle(base, tone.pressed)}\n            }\n          }\n        }\n      }\n    }\n\n    ${theme.sanity.styles?.card?.root}\n  `\n}\n","import styled from 'styled-components'\nimport {responsiveBorderStyle, ResponsiveBorderStyleProps} from '../../styles/border'\nimport {responsiveRadiusStyle, ResponsiveRadiusStyleProps} from '../../styles/radius'\nimport {Box} from '../box'\nimport {selectableBaseStyle, selectableColorStyle, SelectableStyleProps} from './style'\n\n/**\n * @internal\n */\nexport const Selectable = styled(Box)<\n  SelectableStyleProps & ResponsiveRadiusStyleProps & ResponsiveBorderStyleProps\n>(responsiveBorderStyle, responsiveRadiusStyle, selectableBaseStyle, selectableColorStyle)\n","import {useContext} from 'react'\nimport {isRecord} from '../../lib/isRecord'\nimport {MenuContext, MenuContextValue} from './menuContext'\n\nexport function useMenu(): MenuContextValue {\n  const value = useContext(MenuContext)\n\n  if (!value) {\n    throw new Error('useMenu(): missing context value')\n  }\n\n  // NOTE: This check is for future-compatiblity\n  // - If the value is not an object, it’s not compatible with the current version\n  // - If the value is an object, but doesn’t have `version: 0.0`, it’s not compatible with the current version\n  if (!isRecord(value) || value.version !== 0.0) {\n    throw new Error('useMenu(): the context value is not compatible')\n  }\n\n  return value\n}\n","import {ChevronRightIcon} from '@sanity/icons'\nimport React, {useCallback, useEffect, useRef, useState} from 'react'\nimport styled from 'styled-components'\nimport {Box, Popover, PopoverProps, Text} from '../../primitives'\nimport {Selectable} from '../../primitives/_selectable'\nimport {SelectableTone} from '../../types/selectable'\nimport {Menu} from './menu'\nimport {useMenu} from './useMenu'\n\n/**\n * @public\n */\nexport interface MenuGroupProps {\n  as?: React.ElementType | keyof JSX.IntrinsicElements\n  fontSize?: number | number[]\n  padding?: number | number[]\n  popover?: Omit<PopoverProps, 'content' | 'open'>\n  radius?: number | number[]\n  text: React.ReactNode\n  tone?: SelectableTone\n}\n\nconst MOUSE_LEAVE_TIMEOUT = 1000\n\nconst TextContainer = styled.span`\n  &:not([hidden]) {\n    display: flex;\n  }\n\n  & > div:first-child {\n    flex: 1;\n    min-width: 0;\n  }\n`\n\n/**\n * @public\n */\nexport function MenuGroup(\n  props: MenuGroupProps &\n    Omit<React.HTMLProps<HTMLDivElement>, 'as' | 'height' | 'ref' | 'tabIndex'>\n): React.ReactElement {\n  const {\n    as = 'button',\n    children,\n    fontSize,\n    onClick,\n    padding = 3,\n    popover = {},\n    radius = 2,\n    text,\n    tone = 'default',\n    ...restProps\n  } = props\n  const [open, setOpen] = useState(false)\n  const {\n    activeElement,\n    mount,\n    onClickOutside,\n    onEscape,\n    onItemClick,\n    onMouseEnter,\n    onMouseLeave,\n    registerElement,\n  } = useMenu()\n  const [rootElement, setRootElement] = useState<HTMLButtonElement | null>(null)\n  const mouseLeaveTimeoutRef = useRef<NodeJS.Timeout | null>(null)\n  const shouldFocusRef = useRef<'first' | 'last' | null>(null)\n  const active = Boolean(activeElement) && activeElement === rootElement\n  // const selected = active || open\n\n  // Register the element\n  useEffect(() => mount(rootElement), [mount, rootElement])\n\n  const handleMouseEnter = useCallback(\n    (event: React.MouseEvent<HTMLElement>) => {\n      if (mouseLeaveTimeoutRef.current) {\n        clearTimeout(mouseLeaveTimeoutRef.current)\n        mouseLeaveTimeoutRef.current = null\n      }\n\n      onMouseEnter(event)\n      setOpen(true)\n    },\n    [onMouseEnter]\n  )\n\n  const handleMouseLeave = useCallback(\n    (event: React.MouseEvent<HTMLElement>) => {\n      onMouseLeave(event)\n\n      mouseLeaveTimeoutRef.current = setTimeout(() => {\n        setOpen(false)\n      }, MOUSE_LEAVE_TIMEOUT)\n    },\n    [onMouseLeave]\n  )\n\n  const handleMenuKeyDown = useCallback(\n    (event: React.KeyboardEvent<HTMLDivElement>) => {\n      if (event.key === 'ArrowLeft') {\n        event.stopPropagation()\n\n        setOpen(false)\n\n        requestAnimationFrame(() => {\n          rootElement?.focus()\n        })\n      }\n    },\n    [rootElement]\n  )\n\n  const handleMenuMouseEnter = useCallback(() => {\n    if (mouseLeaveTimeoutRef.current) {\n      clearTimeout(mouseLeaveTimeoutRef.current)\n      mouseLeaveTimeoutRef.current = null\n    }\n  }, [])\n\n  const handleMenuMouseLeave = useCallback(() => {\n    mouseLeaveTimeoutRef.current = setTimeout(() => {\n      setOpen(false)\n    }, MOUSE_LEAVE_TIMEOUT)\n  }, [])\n\n  const handleClick = useCallback(\n    (event: React.MouseEvent<HTMLDivElement>) => {\n      if (onClick) onClick(event)\n\n      shouldFocusRef.current = 'first'\n\n      setOpen(true)\n\n      requestAnimationFrame(() => {\n        shouldFocusRef.current = null\n      })\n    },\n    [onClick]\n  )\n\n  const handleItemClick = useCallback(() => {\n    setOpen(false)\n    if (onItemClick) onItemClick()\n  }, [onItemClick])\n\n  useEffect(() => {\n    return () => {\n      if (mouseLeaveTimeoutRef.current !== null) {\n        clearTimeout(mouseLeaveTimeoutRef.current)\n        mouseLeaveTimeoutRef.current = null\n      }\n    }\n  }, [])\n\n  const content = (\n    <Menu\n      onClickOutside={onClickOutside}\n      onEscape={onEscape}\n      onItemClick={handleItemClick}\n      onKeyDown={handleMenuKeyDown}\n      onMouseEnter={handleMenuMouseEnter}\n      onMouseLeave={handleMenuMouseLeave}\n      registerElement={registerElement}\n      shouldFocus={shouldFocusRef.current}\n    >\n      {children}\n    </Menu>\n  )\n\n  const handleKeyDown = useCallback((event: React.KeyboardEvent<HTMLDivElement>) => {\n    const target = event.currentTarget\n\n    if (document.activeElement !== target) {\n      return\n    }\n\n    if (event.key === 'ArrowRight') {\n      shouldFocusRef.current = 'first'\n\n      setOpen(true)\n\n      requestAnimationFrame(() => {\n        shouldFocusRef.current = null\n      })\n\n      return\n    }\n  }, [])\n\n  return (\n    <Popover {...popover} content={content} data-ui=\"MenuGroup__popover\" open={open}>\n      <Selectable\n        data-as={as}\n        data-ui=\"MenuGroup\"\n        forwardedAs={as}\n        {...restProps}\n        aria-pressed={as === 'button' ? !active && open : undefined}\n        data-pressed={as !== 'button' ? !active && open : undefined}\n        data-selected={active ? '' : undefined}\n        $radius={radius}\n        $tone={tone}\n        onClick={handleClick}\n        onKeyDown={handleKeyDown}\n        onMouseEnter={handleMouseEnter}\n        onMouseLeave={handleMouseLeave}\n        ref={setRootElement}\n        tabIndex={-1}\n        type={as === 'button' ? 'button' : undefined}\n      >\n        <Box padding={padding}>\n          <TextContainer>\n            <Text size={fontSize}>{text}</Text>\n            <Text size={fontSize}>\n              <ChevronRightIcon />\n            </Text>\n          </TextContainer>\n        </Box>\n      </Selectable>\n    </Popover>\n  )\n}\n","import React, {\n  createElement,\n  forwardRef,\n  isValidElement,\n  useCallback,\n  useEffect,\n  useMemo,\n  useState,\n} from 'react'\nimport {isValidElementType} from 'react-is'\nimport {useForwardedRef} from '../../hooks'\nimport {Box, Flex, Text} from '../../primitives'\nimport {Selectable} from '../../primitives/_selectable'\nimport {ResponsivePaddingProps, ResponsiveRadiusProps} from '../../primitives/types'\nimport {SelectableTone} from '../../types/selectable'\nimport {Hotkeys} from '../hotkeys'\nimport {useMenu} from './useMenu'\n\n/**\n * @public\n */\nexport interface MenuItemProps extends ResponsivePaddingProps, ResponsiveRadiusProps {\n  as?: React.ElementType | keyof JSX.IntrinsicElements\n  fontSize?: number | number[]\n  hotkeys?: string[]\n  icon?: React.ComponentType | React.ReactNode\n  iconRight?: React.ComponentType | React.ReactNode\n  pressed?: boolean\n  selected?: boolean\n  space?: number | number[]\n  text?: React.ReactNode\n  tone?: SelectableTone\n}\n\n/**\n * @public\n */\nexport const MenuItem = forwardRef(function MenuItem(\n  props: MenuItemProps &\n    Omit<React.HTMLProps<HTMLDivElement>, 'as' | 'height' | 'ref' | 'selected' | 'tabIndex'>,\n  forwardedRef: React.ForwardedRef<HTMLDivElement>\n) {\n  const {\n    as = 'button',\n    children,\n    disabled,\n    fontSize = 2,\n    hotkeys,\n    icon,\n    iconRight,\n    onClick,\n    padding = 3,\n    paddingX,\n    paddingY,\n    paddingTop,\n    paddingRight,\n    paddingBottom,\n    paddingLeft,\n    pressed,\n    radius = 2,\n    selected: selectedProp,\n    space = 3,\n    text,\n    tone = 'default',\n    ...restProps\n  } = props\n  const {activeElement, mount, onItemClick, onMouseEnter, onMouseLeave} = useMenu()\n  const [rootElement, setRootElement] = useState<HTMLDivElement | null>(null)\n  const selected = Boolean(activeElement) && rootElement === activeElement\n\n  useEffect(() => mount(rootElement, selectedProp), [mount, rootElement, selectedProp])\n\n  const ref = useForwardedRef(forwardedRef)\n\n  const handleClick = useCallback(\n    (event: React.MouseEvent<HTMLDivElement>) => {\n      if (disabled) return\n      if (onClick) onClick(event)\n      if (onItemClick) onItemClick()\n    },\n    [disabled, onClick, onItemClick]\n  )\n\n  const paddingProps = useMemo(\n    () => ({\n      padding,\n      paddingX,\n      paddingY,\n      paddingTop,\n      paddingRight,\n      paddingBottom,\n      paddingLeft,\n    }),\n    [padding, paddingX, paddingY, paddingTop, paddingRight, paddingBottom, paddingLeft]\n  )\n\n  const setRef = useCallback(\n    (el: HTMLDivElement | null) => {\n      ref.current = el\n      setRootElement(el)\n    },\n    [ref]\n  )\n\n  return (\n    <Selectable\n      data-as={as}\n      data-ui=\"MenuItem\"\n      forwardedAs={as}\n      {...restProps}\n      aria-pressed={as === 'button' && pressed}\n      data-pressed={as !== 'button' && pressed ? '' : undefined}\n      data-selected={selected ? '' : undefined}\n      data-disabled={disabled ? '' : undefined}\n      $radius={radius}\n      $tone={tone}\n      disabled={disabled}\n      onClick={handleClick}\n      onMouseEnter={onMouseEnter}\n      onMouseLeave={onMouseLeave}\n      padding={0}\n      ref={setRef}\n      role=\"menuitem\"\n      tabIndex={-1}\n      type={as === 'button' ? 'button' : undefined}\n    >\n      {(icon || text || iconRight) && (\n        <Box as=\"span\" {...paddingProps}>\n          <Flex as=\"span\">\n            {icon && (\n              <Text size={fontSize}>\n                {isValidElement(icon) && icon}\n                {isValidElementType(icon) && createElement(icon)}\n              </Text>\n            )}\n\n            {text && (\n              <Box\n                flex={1}\n                marginLeft={icon ? space : undefined}\n                marginRight={iconRight ? space : undefined}\n              >\n                <Text size={fontSize} textOverflow=\"ellipsis\">\n                  {text}\n                </Text>\n              </Box>\n            )}\n\n            {hotkeys && (\n              <Box marginLeft={space} style={{marginTop: -4, marginBottom: -4}}>\n                <Hotkeys fontSize={fontSize} keys={hotkeys} />\n              </Box>\n            )}\n\n            {iconRight && (\n              <Text size={fontSize}>\n                {isValidElement(iconRight) && iconRight}\n                {isValidElementType(iconRight) && createElement(iconRight)}\n              </Text>\n            )}\n          </Flex>\n        </Box>\n      )}\n\n      {children && (\n        <Box as=\"span\" {...paddingProps}>\n          {children}\n        </Box>\n      )}\n    </Selectable>\n  )\n})\n","import {css, keyframes} from 'styled-components'\n\nconst keyframe = keyframes`\n  0% {\n    background-position: 100%;\n  }\n  100% {\n    background-position: -100%;\n  }\n`\n\nconst animation = css`\n  background-image: linear-gradient(\n    to right,\n    var(--card-skeleton-color-from),\n    var(--card-skeleton-color-to),\n    var(--card-skeleton-color-from),\n    var(--card-skeleton-color-from),\n    var(--card-skeleton-color-from)\n  );\n  background-position: 100%;\n  background-size: 200% 100%;\n  background-attachment: fixed;\n  animation-name: ${keyframe};\n  animation-timing-function: ease-in-out;\n  animation-iteration-count: infinite;\n  animation-duration: 2000ms;\n`\n\n/**\n * This API might change. DO NOT USE IN PRODUCTION.\n * @beta\n */\nexport const skeletonStyle = css<{$animated: boolean; $visible: boolean}>`\n  opacity: ${({$visible}) => ($visible ? 1 : 0)};\n  transition: opacity 200ms ease-in;\n\n  @media screen and (prefers-reduced-motion: no-preference) {\n    ${({$animated}) =>\n      $animated\n        ? animation\n        : css`\n            background-color: var(--card-skeleton-color-from);\n          `}\n  }\n\n  @media screen and (prefers-reduced-motion: reduce) {\n    background-color: var(--card-skeleton-color-from);\n  }\n`\n","import React, {forwardRef, useEffect, useState} from 'react'\nimport styled from 'styled-components'\nimport {Box} from '../../primitives'\nimport {BoxProps, ResponsiveRadiusProps} from '../../primitives'\nimport {responsiveRadiusStyle, ResponsiveRadiusStyleProps} from '../../styles/internal'\nimport {skeletonStyle} from './styles'\n\nconst Root = styled(Box)<{$animated: boolean; $visible: boolean} & ResponsiveRadiusStyleProps>(\n  responsiveRadiusStyle,\n  skeletonStyle\n)\n\n/**\n * This API might change. DO NOT USE IN PRODUCTION.\n * @beta\n */\nexport interface SkeletonProps extends ResponsiveRadiusProps, Omit<BoxProps, 'children'> {\n  animated?: boolean\n  delay?: number\n}\n\n/**\n * This API might change. DO NOT USE IN PRODUCTION.\n * @beta\n */\nexport const Skeleton = forwardRef(function Skeleton(\n  props: SkeletonProps & React.HTMLProps<HTMLDivElement>,\n  ref: React.Ref<HTMLDivElement>\n) {\n  const {animated = false, delay, radius, ...restProps} = props\n  const [visible, setVisible] = useState<boolean>(delay ? false : true)\n\n  useEffect(() => {\n    if (!delay) {\n      return setVisible(true)\n    }\n\n    const timeout = setTimeout(() => {\n      setVisible(true)\n    }, delay)\n\n    return () => {\n      clearTimeout(timeout)\n    }\n  }, [delay])\n\n  return <Root {...restProps} $animated={animated} $radius={radius} $visible={visible} ref={ref} />\n})\n","import React, {forwardRef} from 'react'\nimport styled from 'styled-components'\nimport {useResponsiveProp} from '../../hooks'\nimport {responsive} from '../../styles'\nimport {Theme, ThemeFontKey} from '../../theme'\nimport {Skeleton, SkeletonProps} from './skeleton'\n\nconst Root = styled(Skeleton)<{$size: number[]; $style: ThemeFontKey}>(\n  ({$size, $style, theme}: {$size: number[]; $style: ThemeFontKey; theme: Theme}) => {\n    const {media} = theme.sanity\n    const font = theme.sanity.fonts[$style]\n\n    const styles = responsive(media, $size, (sizeIndex) => {\n      const fontSize = font.sizes[sizeIndex]\n      const capHeight = fontSize.lineHeight - fontSize.ascenderHeight - fontSize.descenderHeight\n\n      return {height: capHeight}\n    })\n\n    return styles\n  }\n)\n\n/**\n * This API might change. DO NOT USE IN PRODUCTION.\n * @beta\n */\nexport interface TextSkeletonProps extends SkeletonProps {\n  size?: number | number[]\n}\n\n/**\n * This API might change. DO NOT USE IN PRODUCTION.\n * @beta\n */\nexport interface LabelSkeletonProps extends SkeletonProps {\n  size?: number | number[]\n}\n\n/**\n * This API might change. DO NOT USE IN PRODUCTION.\n * @beta\n */\nexport interface HeadingSkeletonProps extends SkeletonProps {\n  size?: number | number[]\n}\n\n/**\n * This API might change. DO NOT USE IN PRODUCTION.\n * @beta\n */\nexport interface CodeSkeletonProps extends SkeletonProps {\n  size?: number | number[]\n}\n\n/**\n * This API might change. DO NOT USE IN PRODUCTION.\n * @beta\n */\nexport const TextSkeleton = forwardRef(function TextSkeleton(\n  props: TextSkeletonProps &\n    Omit<React.HTMLProps<HTMLDivElement>, 'as' | 'children' | 'height' | 'size'>,\n  ref: React.Ref<HTMLDivElement>\n) {\n  const {size = 2, ...restProps} = props\n  const $size = useResponsiveProp(size)\n\n  return <Root {...restProps} $size={$size} ref={ref} $style=\"text\" />\n})\n\n/**\n * This API might change. DO NOT USE IN PRODUCTION.\n * @beta\n */\nexport const LabelSkeleton = forwardRef(function TextSkeleton(\n  props: LabelSkeletonProps &\n    Omit<React.HTMLProps<HTMLDivElement>, 'as' | 'children' | 'height' | 'size'>,\n  ref: React.Ref<HTMLDivElement>\n) {\n  const {size = 2, ...restProps} = props\n  const $size = useResponsiveProp(size)\n\n  return <Root {...restProps} $size={$size} ref={ref} $style=\"label\" />\n})\n\n/**\n * This API might change. DO NOT USE IN PRODUCTION.\n * @beta\n */\nexport const HeadingSkeleton = forwardRef(function TextSkeleton(\n  props: HeadingSkeletonProps &\n    Omit<React.HTMLProps<HTMLDivElement>, 'as' | 'children' | 'height' | 'size'>,\n  ref: React.Ref<HTMLDivElement>\n) {\n  const {size = 2, ...restProps} = props\n  const $size = useResponsiveProp(size)\n\n  return <Root {...restProps} $size={$size} ref={ref} $style=\"heading\" />\n})\n\n/**\n * This API might change. DO NOT USE IN PRODUCTION.\n * @beta\n */\nexport const CodeSkeleton = forwardRef(function TextSkeleton(\n  props: CodeSkeletonProps &\n    Omit<React.HTMLProps<HTMLDivElement>, 'as' | 'children' | 'height' | 'size'>,\n  ref: React.Ref<HTMLDivElement>\n) {\n  const {size = 2, ...restProps} = props\n  const $size = useResponsiveProp(size)\n\n  return <Root {...restProps} $size={$size} ref={ref} $style=\"code\" />\n})\n","import React, {forwardRef, useCallback, useEffect, useRef} from 'react'\nimport {useForwardedRef} from '../../hooks'\nimport {Button} from '../../primitives'\nimport {ButtonTone} from '../../types'\n\n/**\n * @public\n */\nexport interface TabProps {\n  /**\n   * The `id` of the correlating `TabPanel` component.\n   */\n  'aria-controls': string\n  id: string\n  icon?: React.ComponentType | React.ReactNode\n  focused?: boolean\n  fontSize?: number | number[]\n  label?: React.ReactNode\n  padding?: number | number[]\n  selected?: boolean\n  tone?: ButtonTone\n}\n\n/**\n * @public\n */\nexport const Tab = forwardRef(function Tab(\n  props: TabProps &\n    Omit<React.HTMLProps<HTMLButtonElement>, 'aria-controls' | 'as' | 'id' | 'type'>,\n  forwardedRef: React.ForwardedRef<HTMLButtonElement>\n) {\n  const {\n    icon,\n    id,\n    focused,\n    fontSize,\n    label,\n    onClick,\n    onFocus,\n    padding = 2,\n    selected,\n    ...restProps\n  } = props\n  const elementRef = useRef<HTMLButtonElement | null>(null)\n  const focusedRef = useRef(false)\n\n  const handleBlur = useCallback(() => {\n    focusedRef.current = false\n  }, [])\n\n  const handleFocus = useCallback(\n    (event: React.FocusEvent<HTMLButtonElement>) => {\n      focusedRef.current = true\n      if (onFocus) onFocus(event)\n    },\n    [onFocus]\n  )\n\n  const ref = useForwardedRef(forwardedRef)\n\n  useEffect(() => {\n    if (focused && !focusedRef.current) {\n      if (elementRef.current) elementRef.current.focus()\n      focusedRef.current = true\n    }\n  }, [focused])\n\n  const setRef = (el: HTMLButtonElement | null) => {\n    elementRef.current = el\n    ref.current = el\n  }\n\n  return (\n    <Button\n      data-ui=\"Tab\"\n      {...restProps}\n      aria-selected={selected ? 'true' : 'false'}\n      fontSize={fontSize}\n      icon={icon}\n      id={id}\n      mode=\"bleed\"\n      onClick={onClick}\n      onBlur={handleBlur}\n      onFocus={handleFocus}\n      padding={padding}\n      ref={setRef}\n      role=\"tab\"\n      selected={selected}\n      tabIndex={selected ? 0 : -1}\n      text={label}\n      type=\"button\"\n    />\n  )\n})\n","import React, {cloneElement, forwardRef, useCallback, useMemo, useState} from 'react'\nimport {Inline, InlineProps} from '../../primitives'\n\n/**\n * @public\n */\nexport interface TabListProps extends Omit<InlineProps, 'as' | 'height'> {\n  children: Array<React.ReactElement | null | undefined | false>\n}\n\nfunction _isReactElement(node: unknown): node is React.ReactElement {\n  return Boolean(node)\n}\n\n/**\n * @public\n */\nexport const TabList = forwardRef(function TabList(\n  props: TabListProps & Omit<React.HTMLProps<HTMLDivElement>, 'as' | 'height'>,\n  ref\n) {\n  const {children: childrenProp, ...restProps} = props\n  const [focusedIndex, setFocusedIndex] = useState(-1)\n\n  const children = useMemo(() => childrenProp.filter(_isReactElement), [childrenProp])\n\n  const tabs = children.map((child, childIndex) =>\n    cloneElement(child, {\n      focused: focusedIndex === childIndex,\n      key: childIndex,\n      onFocus: () => handleTabFocus(childIndex),\n    })\n  )\n\n  const numTabs = tabs.length\n\n  const handleTabFocus = useCallback((tabIdx: number) => {\n    setFocusedIndex(tabIdx)\n  }, [])\n\n  const handleKeyDown = useCallback(\n    (event: React.KeyboardEvent<HTMLDivElement>) => {\n      if (event.key === 'ArrowLeft') {\n        setFocusedIndex((prevIndex) => (prevIndex + numTabs - 1) % numTabs)\n      }\n\n      if (event.key === 'ArrowRight') {\n        setFocusedIndex((prevIndex) => (prevIndex + 1) % numTabs)\n      }\n    },\n    [numTabs]\n  )\n\n  return (\n    <Inline data-ui=\"TabList\" {...restProps} onKeyDown={handleKeyDown} ref={ref} role=\"tablist\">\n      {tabs}\n    </Inline>\n  )\n})\n","import React, {forwardRef} from 'react'\nimport {Box, BoxProps} from '../../primitives'\n\n/**\n * @public\n */\nexport interface TabPanelProps extends BoxProps {\n  /**\n   * The `id` of the correlating `Tab` component.\n   */\n  'aria-labelledby': string\n  id: string\n}\n\n/**\n * @public\n */\nexport const TabPanel = forwardRef(function TabPanel(\n  props: TabPanelProps &\n    Omit<React.HTMLProps<HTMLDivElement>, 'as' | 'aria-labelledby' | 'id' | 'role'>,\n  ref: React.ForwardedRef<HTMLDivElement>\n) {\n  const {flex, ...restProps} = props\n\n  return (\n    <Box\n      data-ui=\"TabPanel\"\n      {...restProps}\n      flex={flex}\n      ref={ref}\n      role=\"tabpanel\"\n      tabIndex={props.tabIndex === undefined ? 0 : props.tabIndex}\n    >\n      {props.children}\n    </Box>\n  )\n})\n","import {CloseIcon} from '@sanity/icons'\nimport React from 'react'\nimport styled from 'styled-components'\nimport {Box, Button, Card, Flex, Stack, Text} from '../../primitives'\nimport {ThemeColorToneKey} from '../../theme'\n\n/**\n * @public\n */\nexport interface ToastProps {\n  closable?: boolean\n  description?: React.ReactNode\n  onClose?: () => void\n  title?: React.ReactNode\n  status?: 'error' | 'warning' | 'success' | 'info'\n}\n\nconst STATUS_CARD_TONE: {[key: string]: ThemeColorToneKey} = {\n  error: 'critical',\n  warning: 'caution',\n  success: 'positive',\n  info: 'primary',\n}\n\nconst ROLES = {\n  error: 'alert',\n  warning: 'alert',\n  success: 'alert',\n  info: 'alert',\n}\n\nconst Root = styled(Card)`\n  pointer-events: all;\n`\n\nconst TextBox = styled(Flex)`\n  overflow-x: auto;\n`\n\n/**\n * @public\n */\nexport function Toast(\n  props: ToastProps & Omit<React.HTMLProps<HTMLDivElement>, 'as' | 'height' | 'ref' | 'title'>\n): React.ReactElement {\n  const {closable, description, onClose, title, status, ...restProps} = props\n  const cardTone = status ? STATUS_CARD_TONE[status] : 'default'\n  const role = status ? ROLES[status] : 'status'\n\n  return (\n    <Root\n      data-ui=\"Toast\"\n      role={role}\n      {...restProps}\n      marginTop={3}\n      radius={2}\n      shadow={2}\n      tone={cardTone}\n    >\n      <Flex align=\"flex-start\">\n        <TextBox flex={1} padding={3}>\n          <Stack space={3}>\n            {title && <Text weight=\"semibold\">{title}</Text>}\n            {description && (\n              <Text muted size={1}>\n                {description}\n              </Text>\n            )}\n          </Stack>\n        </TextBox>\n\n        {closable && (\n          <Box padding={1}>\n            <Button\n              as=\"button\"\n              icon={CloseIcon}\n              mode=\"bleed\"\n              padding={2}\n              onClick={onClose}\n              style={{verticalAlign: 'top'}}\n            />\n          </Box>\n        )}\n      </Flex>\n    </Root>\n  )\n}\n","import {createContext} from 'react'\nimport {globalScope} from '../../lib/globalScope'\nimport {ToastContextValue} from './types'\n\nconst key = Symbol.for('@sanity/ui/context/toast')\n\nglobalScope[key] = globalScope[key] || createContext<ToastContextValue | null>(null)\n\nexport const ToastContext: React.Context<ToastContextValue | null> = globalScope[key]\n","import {AnimatePresence, motion} from 'framer-motion'\nimport React, {useCallback, useEffect, useMemo, useRef, useState} from 'react'\nimport styled from 'styled-components'\nimport {Box} from '../../primitives'\nimport {Layer} from '../../utils'\nimport {Toast} from './toast'\nimport {ToastContext} from './toastContext'\nimport {ToastContextValue, ToastParams} from './types'\n\ninterface ToastState {\n  toasts: {\n    dismiss: () => void\n    id: string\n    params: ToastParams\n  }[]\n}\n\n/**\n * @public\n */\nexport interface ToastProviderProps {\n  children?: React.ReactNode\n  padding?: number | number[]\n  paddingX?: number | number[]\n  paddingY?: number | number[]\n  zOffset?: number | number[]\n}\n\nconst Root = styled(Layer)`\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  pointer-events: none;\n`\n\nconst ToastContainer = styled.div`\n  box-sizing: border-box;\n  position: absolute;\n  right: 0;\n  bottom: 0;\n  max-width: 420px;\n  width: 100%;\n`\n\nlet toastId = 0\n\n/**\n * @public\n */\nexport function ToastProvider(props: ToastProviderProps): React.ReactElement {\n  const {children, padding = 4, paddingX, paddingY, zOffset} = props\n  const [state, setState] = useState<ToastState>({toasts: []})\n  const toastsRef = useRef<{[key: string]: {timeoutId: NodeJS.Timeout}}>({})\n\n  const push = useCallback((params: ToastParams) => {\n    const id = params.id || String(toastId++)\n    const duration = params.duration || 5000\n\n    const dismiss = () => {\n      const timeoutId = toastsRef.current[id]?.timeoutId\n\n      setState((prevState) => {\n        const idx = prevState.toasts.findIndex((t) => t.id === id)\n\n        if (idx > -1) {\n          const toasts = prevState.toasts.slice(0)\n\n          toasts.splice(idx, 1)\n\n          return {...prevState, toasts}\n        }\n\n        return prevState\n      })\n\n      if (timeoutId !== undefined) {\n        clearTimeout(timeoutId)\n        delete toastsRef.current[id]\n      }\n    }\n\n    setState((prevState) => {\n      return {\n        ...prevState,\n        toasts: prevState.toasts\n          .filter((t) => t.id !== id)\n          .concat([\n            {\n              dismiss,\n              id,\n              params: {...params, duration},\n            },\n          ]),\n      }\n    })\n\n    if (toastsRef.current[id]) {\n      clearTimeout(toastsRef.current[id].timeoutId)\n      delete toastsRef.current[id]\n    }\n\n    toastsRef.current[id] = {timeoutId: setTimeout(dismiss, duration)}\n\n    return id\n  }, [])\n\n  // clear timeouts on unmount\n  useEffect(\n    () => () => {\n      for (const {timeoutId} of Object.values(toastsRef.current)) {\n        clearTimeout(timeoutId)\n      }\n\n      toastsRef.current = {}\n    },\n    []\n  )\n\n  const value: ToastContextValue = useMemo(() => ({version: 0.0, push}), [push])\n\n  return (\n    <ToastContext.Provider value={value}>\n      {children}\n\n      <Root data-ui=\"ToastProvider\" zOffset={zOffset}>\n        <ToastContainer>\n          <Box padding={padding} paddingX={paddingX} paddingY={paddingY}>\n            <AnimatePresence initial={false}>\n              {state.toasts.map(({dismiss, id, params}) => (\n                <motion.div\n                  animate={{opacity: 1, y: 0, scale: 1}}\n                  exit={{opacity: 0, scale: 0.5, transition: {duration: 0.2}}}\n                  initial={{opacity: 0, y: 32, scale: 0.25}}\n                  key={id}\n                  layout=\"position\"\n                  transition={{type: 'spring', damping: 30, stiffness: 400}}\n                >\n                  <Toast\n                    closable={params.closable}\n                    description={params.description}\n                    onClose={dismiss}\n                    status={params.status}\n                    title={params.title}\n                  />\n                </motion.div>\n              ))}\n            </AnimatePresence>\n          </Box>\n        </ToastContainer>\n      </Root>\n    </ToastContext.Provider>\n  )\n}\n","import {useContext} from 'react'\nimport {isRecord} from '../../lib/isRecord'\nimport {ToastContext} from './toastContext'\nimport {ToastContextValue} from './types'\n\n/**\n * @public\n */\nexport function useToast(): ToastContextValue {\n  const value = useContext(ToastContext)\n\n  if (!value) {\n    throw new Error('useToast(): missing context value')\n  }\n\n  // NOTE: This check is for future-compatiblity\n  // - If the value is not an object, it’s not compatible with the current version\n  // - If the value is an object, but doesn’t have `version: 0.0`, it’s not compatible with the current version\n  if (!isRecord(value) || value.version !== 0.0) {\n    throw new Error('useToast(): the context value is not compatible')\n  }\n\n  return value\n}\n","import {TreeState} from './types'\n\nexport function _findPrevItemElement(\n  state: TreeState,\n  itemElements: HTMLElement[],\n  focusedElement: HTMLElement\n): HTMLElement | null {\n  const idx = itemElements.indexOf(focusedElement)\n  const els = itemElements.slice(0, idx)\n  const len = els.length\n\n  for (let i = len - 1; i >= 0; i -= 1) {\n    const itemKey = els[i].getAttribute('data-tree-key')\n\n    if (!itemKey) {\n      continue\n    }\n\n    const segments = itemKey.split('/')\n\n    segments.pop()\n\n    const p: string[] = []\n\n    let expanded = true\n\n    for (let j = 0; j < segments.length; j += 1) {\n      p.push(segments[j])\n\n      const k = p.join('/')\n\n      if (!state[k]?.expanded) {\n        expanded = false\n        break\n      }\n    }\n\n    if (expanded) {\n      return els[i]\n    }\n  }\n\n  return null\n}\n\nexport function _findNextItemElement(\n  state: TreeState,\n  itemElements: HTMLElement[],\n  focusedElement: HTMLElement\n): HTMLElement | null {\n  const idx = itemElements.indexOf(focusedElement)\n  const els = itemElements.slice(idx)\n  const len = itemElements.length\n\n  for (let i = 1; i < len; i += 1) {\n    if (!els[i]) {\n      continue\n    }\n\n    const itemKey = els[i].getAttribute('data-tree-key')\n\n    if (!itemKey) {\n      continue\n    }\n\n    const segments = itemKey.split('/')\n\n    segments.pop()\n\n    const p: string[] = []\n\n    let expanded = true\n\n    for (let j = 0; j < segments.length; j += 1) {\n      p.push(segments[j])\n\n      const k = p.join('/')\n\n      if (!state[k]?.expanded) {\n        expanded = false\n        break\n      }\n    }\n\n    if (expanded) {\n      return els[i]\n    }\n  }\n\n  return null\n}\n\nexport function _focusItemElement(el: HTMLElement): void {\n  if (el.getAttribute('role') === 'treeitem') {\n    el.focus()\n  }\n\n  if (el.getAttribute('role') === 'none') {\n    const firstChild = el.firstChild\n\n    if (firstChild && firstChild instanceof HTMLElement) {\n      firstChild.focus()\n    }\n  }\n}\n","import {createContext} from 'react'\nimport {globalScope} from '../../lib/globalScope'\nimport {TreeContextValue} from './types'\n\nconst key = Symbol.for('@sanity/ui/context/tree')\n\nglobalScope[key] = globalScope[key] || createContext<TreeContextValue | null>(null)\n\n/**\n * @internal\n */\nexport const TreeContext: React.Context<TreeContextValue | null> = globalScope[key]\n","import React, {useCallback, useEffect, useMemo, useRef, useState} from 'react'\nimport {Stack} from '../../primitives'\nimport {_findNextItemElement, _findPrevItemElement, _focusItemElement} from './helpers'\nimport {TreeContext} from './treeContext'\nimport {TreeContextValue, TreeState} from './types'\n\n/**\n * This API might change. DO NOT USE IN PRODUCTION.\n * @beta\n */\nexport interface TreeProps {\n  space?: number | number[]\n}\n\n/**\n * This API might change. DO NOT USE IN PRODUCTION.\n * @beta\n */\nexport function Tree(\n  props: TreeProps &\n    Omit<React.HTMLProps<HTMLDivElement>, 'align' | 'as' | 'height' | 'ref' | 'role' | 'wrap'>\n): React.ReactElement {\n  const {children, space = 1, ...restProps} = props\n  const [focusedElement, setFocusedElement] = useState<HTMLElement | null>(null)\n  const path: string[] = useMemo(() => [], [])\n  const rootRef = useRef<HTMLDivElement | null>(null)\n  const [itemElements, setItemElements] = useState<HTMLElement[]>([])\n  const [state, setState] = useState<TreeState>({})\n\n  const registerItem = useCallback(\n    (element: HTMLElement, path: string, expanded: boolean, selected: boolean) => {\n      setState((s) => ({...s, [path]: {element, expanded}}))\n\n      if (selected) {\n        setFocusedElement(element)\n      }\n\n      return () => {\n        setState((s) => {\n          const newState = {...s}\n\n          delete newState[path]\n\n          return newState\n        })\n      }\n    },\n    []\n  )\n\n  const setExpanded = useCallback((path: string, expanded: boolean) => {\n    setState((s) => {\n      const itemState = s[path]\n\n      if (!itemState) return s\n\n      return {...s, [path]: {...itemState, expanded}}\n    })\n  }, [])\n\n  const contextValue: TreeContextValue = useMemo(\n    () => ({\n      version: 0.0,\n      focusedElement: focusedElement || itemElements[0] || null,\n      level: 0,\n      path,\n      registerItem,\n      setExpanded,\n      setFocusedElement,\n      space,\n      state,\n    }),\n    [focusedElement, itemElements, path, registerItem, setExpanded, space, state]\n  )\n\n  const handleKeyDown = useCallback(\n    (event: React.KeyboardEvent<HTMLDivElement>) => {\n      if (!focusedElement) return\n\n      if (event.key === 'ArrowDown') {\n        event.preventDefault()\n\n        const nextEl = _findNextItemElement(state, itemElements, focusedElement)\n\n        if (nextEl) {\n          _focusItemElement(nextEl)\n          setFocusedElement(nextEl)\n        }\n\n        return\n      }\n\n      if (event.key === 'ArrowUp') {\n        event.preventDefault()\n\n        const prevEl = _findPrevItemElement(state, itemElements, focusedElement)\n\n        if (prevEl) {\n          _focusItemElement(prevEl)\n          setFocusedElement(prevEl)\n        }\n\n        return\n      }\n\n      if (event.key === 'ArrowLeft') {\n        event.preventDefault()\n\n        const itemKey = focusedElement.getAttribute('data-tree-key')\n\n        if (!itemKey) return\n\n        const itemState = state[itemKey]\n\n        if (!itemState) return\n\n        if (itemState.expanded) {\n          setState((s) => {\n            const itemState = s[itemKey]\n\n            if (!itemState) return s\n\n            return {...s, [itemKey]: {...itemState, expanded: false}}\n          })\n        } else {\n          const itemPath = itemKey.split('/')\n\n          itemPath.pop()\n\n          const parentKey = itemPath.join('/')\n          const parentState = parentKey && state[parentKey]\n\n          if (parentState) {\n            parentState.element.focus()\n            setFocusedElement(parentState.element)\n          }\n        }\n\n        return\n      }\n\n      if (event.key === 'ArrowRight') {\n        event.preventDefault()\n\n        const focusedKey = focusedElement.getAttribute('data-tree-key')\n\n        if (!focusedKey) return\n\n        if (!state[focusedKey]?.expanded) {\n          setState((s) => {\n            const itemState = s[focusedKey]\n\n            if (!itemState) return s\n\n            return {...s, [focusedKey]: {...itemState, expanded: true}}\n          })\n        }\n\n        return\n      }\n    },\n    [focusedElement, itemElements, state]\n  )\n\n  useEffect(() => {\n    if (!rootRef.current) return\n    const _itemElements = Array.from(\n      rootRef.current.querySelectorAll('[data-ui=\"TreeItem\"]')\n    ) as HTMLElement[]\n\n    setItemElements(_itemElements)\n  }, [children])\n\n  return (\n    <TreeContext.Provider value={contextValue}>\n      <Stack\n        as=\"ul\"\n        data-ui=\"Tree\"\n        {...restProps}\n        onKeyDown={handleKeyDown}\n        ref={rootRef}\n        role=\"tree\"\n        space={space}\n      >\n        {children}\n      </Stack>\n    </TreeContext.Provider>\n  )\n}\n","import {css, FlattenSimpleInterpolation} from 'styled-components'\nimport {rem, ThemeProps} from '../../styles'\nimport {_colorVarsStyle} from '../../styles/colorVars'\n\nexport function treeItemRootStyle(): FlattenSimpleInterpolation {\n  return css`\n    &[role='none'] > [role='treeitem'] {\n      outline: none;\n      cursor: default;\n      border-radius: 3px;\n\n      &:focus {\n        position: relative;\n      }\n    }\n\n    &[role='treeitem'] {\n      outline: none;\n\n      & > div {\n        cursor: default;\n        border-radius: 3px;\n      }\n\n      &:focus > div {\n        position: relative;\n      }\n    }\n  `\n}\n\nexport function treeItemRootColorStyle(props: ThemeProps): FlattenSimpleInterpolation {\n  const {theme} = props\n  const $tone = 'default'\n  const {base, muted, selectable} = theme.sanity.color\n  // @todo: remove use of `muted` here\n  const tone = selectable ? selectable[$tone] || selectable.default : muted[$tone] || muted.default\n\n  return css`\n    /* <div role=\"none\"><a data-ui=\"TreeItem__box\" role=\"treeitem\" tabIndex=\"0\"></div> */\n    &[role='none'] {\n      & > [role='treeitem'] {\n        ${_colorVarsStyle(base, tone.enabled)}\n\n        background-color: var(--card-bg-color);\n        color: var(--treeitem-fg-color);\n      }\n\n      &[data-selected] > [role='treeitem'] {\n        ${_colorVarsStyle(base, tone.pressed)}\n      }\n\n      @media (hover: hover) {\n        &:not([data-selected]) > [role='treeitem']:not(:focus):hover {\n          ${_colorVarsStyle(base, tone.hovered)}\n        }\n\n        & > [role='treeitem']:focus {\n          ${_colorVarsStyle(base, tone.selected)}\n        }\n      }\n    }\n\n    /* <div role=\"treeitem\" tabIndex=\"0\"><div data-ui=\"TreeItem__box\"></div> */\n    &[role='treeitem'] {\n      & > [data-ui='TreeItem__box'] {\n        ${_colorVarsStyle(base, tone.enabled)}\n\n        background-color: var(--card-bg-color);\n        color: var(--card-fg-color);\n      }\n\n      &[data-selected] > [data-ui='TreeItem__box'] {\n        ${_colorVarsStyle(base, tone.pressed)}\n      }\n\n      @media (hover: hover) {\n        &:not([data-selected]):not(:focus) > [data-ui='TreeItem__box']:hover {\n          ${_colorVarsStyle(base, tone.hovered)}\n        }\n\n        &:focus > [data-ui='TreeItem__box'] {\n          ${_colorVarsStyle(base, tone.selected)}\n        }\n      }\n    }\n  `\n}\n\nexport interface TreeItemBoxStyleProps {\n  $level: number\n}\n\nexport function treeItemBoxStyle(\n  props: TreeItemBoxStyleProps & ThemeProps\n): FlattenSimpleInterpolation {\n  const {$level, theme} = props\n  const {space} = theme.sanity\n\n  return css`\n    padding-left: ${rem(space[2] * $level)};\n\n    &[data-as='a'] {\n      text-decoration: none;\n    }\n  `\n}\n","import {useContext} from 'react'\nimport {TreeContext} from './treeContext'\nimport {TreeContextValue} from './types'\n\n/**\n * @beta\n */\nexport function useTree(): TreeContextValue {\n  const tree = useContext(TreeContext)\n\n  if (!tree) {\n    throw new Error('Tree: missing context value')\n  }\n\n  return tree\n}\n","import React from 'react'\nimport {Stack} from '../../primitives'\nimport {useTree} from './useTree'\n\nexport interface TreeGroupProps {\n  expanded?: boolean\n}\n\nexport function TreeGroup(\n  props: TreeGroupProps &\n    Omit<React.HTMLProps<HTMLDivElement>, 'as' | 'height' | 'ref' | 'role' | 'wrap'>\n): React.ReactElement {\n  const {children, expanded = false, ...restProps} = props\n  const tree = useTree()\n\n  return (\n    <Stack\n      as=\"ul\"\n      data-ui=\"TreeGroup\"\n      {...restProps}\n      hidden={!expanded}\n      marginTop={tree.space}\n      role=\"group\"\n      space={tree.space}\n    >\n      {children}\n    </Stack>\n  )\n}\n","import {useId} from '@reach/auto-id'\nimport {ToggleArrowRightIcon} from '@sanity/icons'\nimport React, {createElement, useCallback, useEffect, useMemo, useRef} from 'react'\nimport styled from 'styled-components'\nimport {Box, Flex, Text} from '../../primitives'\nimport {ThemeFontWeightKey} from '../../theme'\nimport {\n  treeItemRootStyle,\n  treeItemRootColorStyle,\n  treeItemBoxStyle,\n  TreeItemBoxStyleProps,\n} from './style'\nimport {TreeContext} from './treeContext'\nimport {TreeGroup} from './treeGroup'\nimport {useTree} from './useTree'\n\n/**\n * @beta\n */\nexport interface TreeItemProps {\n  expanded?: boolean\n  fontSize?: number | number[]\n  icon?: React.ComponentType\n  padding?: number | number[]\n  space?: number | number[]\n  text?: React.ReactNode\n  weight?: ThemeFontWeightKey\n}\n\nconst Root = styled.li(treeItemRootStyle, treeItemRootColorStyle)\n\nconst TreeItemBox = styled(Box).attrs({forwardedAs: 'a'})<TreeItemBoxStyleProps>(treeItemBoxStyle)\n\nconst ToggleArrowText = styled(Text)`\n  & > svg {\n    transition: transform 100ms;\n  }\n`\n\n/**\n * This API might change. DO NOT USE IN PRODUCTION.\n * @beta\n */\nexport function TreeItem(\n  props: TreeItemProps & Omit<React.HTMLProps<HTMLLIElement>, 'as' | 'ref' | 'role'>\n): React.ReactElement {\n  const {\n    children,\n    expanded: expandedProp = false,\n    fontSize,\n    href,\n    icon,\n    id: idProp,\n    muted,\n    onClick,\n    padding = 3,\n    selected = false,\n    space = 2,\n    text,\n    weight,\n    ...restProps\n  } = props\n  const rootRef = useRef<HTMLLIElement | null>(null)\n  const treeitemRef = useRef<HTMLDivElement | null>(null)\n  const tree = useTree()\n  const {path, registerItem, setExpanded, setFocusedElement} = tree\n  const id = useId(idProp) || idProp\n  const itemPath = useMemo(() => path.concat([id || '']), [id, path])\n  const itemKey = itemPath.join('/')\n  const itemState = tree.state[itemKey]\n  const focused = tree.focusedElement === rootRef.current\n  const expanded = itemState?.expanded === undefined ? expandedProp : itemState?.expanded || false\n  const tabIndex = tree.focusedElement && tree.focusedElement === rootRef.current ? 0 : -1\n  const contextValue = useMemo(\n    () => ({...tree, level: tree.level + 1, path: itemPath}),\n    [itemPath, tree]\n  )\n\n  const handleClick = useCallback(\n    (event: React.MouseEvent<HTMLLIElement>) => {\n      if (onClick) onClick(event)\n\n      const target = event.target\n\n      if (\n        target instanceof HTMLElement &&\n        (target.getAttribute('data-ui') === 'TreeItem__box' ||\n          target.closest('[data-ui=\"TreeItem__box\"]'))\n      ) {\n        event.stopPropagation()\n        setExpanded(itemKey, !expanded)\n        setFocusedElement(rootRef.current)\n      }\n    },\n    [expanded, itemKey, onClick, setExpanded, setFocusedElement]\n  )\n\n  const handleKeyDown = useCallback(\n    (event: React.KeyboardEvent<HTMLElement>) => {\n      if (focused && event.key === 'Enter') {\n        const el = treeitemRef.current || rootRef.current\n\n        el?.click()\n      }\n    },\n    [focused]\n  )\n\n  useEffect(() => {\n    if (!rootRef.current) return\n\n    return registerItem(rootRef.current, itemPath.join('/'), expanded, selected)\n  }, [expanded, itemPath, registerItem, selected])\n\n  const content = (\n    <Flex padding={padding}>\n      <Box\n        marginRight={space}\n        style={{visibility: icon || children ? 'visible' : 'hidden', pointerEvents: 'none'}}\n      >\n        {icon && (\n          <Text muted={muted} size={fontSize} weight={weight}>\n            {createElement(icon)}\n          </Text>\n        )}\n        {!icon && (\n          <ToggleArrowText muted={muted} size={fontSize} weight={weight}>\n            <ToggleArrowRightIcon style={{transform: expanded ? 'rotate(90deg)' : undefined}} />\n          </ToggleArrowText>\n        )}\n      </Box>\n      <Box flex={1}>\n        <Text muted={muted} size={fontSize} textOverflow=\"ellipsis\" weight={weight}>\n          {text}\n        </Text>\n      </Box>\n    </Flex>\n  )\n\n  if (href) {\n    return (\n      <Root\n        data-selected={selected ? '' : undefined}\n        data-tree-id={id}\n        data-tree-key={itemKey}\n        data-ui=\"TreeItem\"\n        {...restProps}\n        onClick={handleClick}\n        ref={rootRef}\n        role=\"none\"\n      >\n        <TreeItemBox\n          $level={tree.level}\n          aria-expanded={expanded}\n          data-ui=\"TreeItem__box\"\n          href={href}\n          ref={treeitemRef}\n          role=\"treeitem\"\n          tabIndex={tabIndex}\n        >\n          {content}\n        </TreeItemBox>\n\n        <TreeContext.Provider value={contextValue}>\n          {children && <TreeGroup hidden={!expanded}>{children}</TreeGroup>}\n        </TreeContext.Provider>\n      </Root>\n    )\n  }\n\n  return (\n    <Root\n      data-selected={selected ? '' : undefined}\n      data-ui=\"TreeItem\"\n      data-tree-id={id}\n      data-tree-key={itemKey}\n      {...restProps}\n      aria-expanded={expanded}\n      onClick={handleClick}\n      onKeyDown={handleKeyDown}\n      ref={rootRef}\n      role=\"treeitem\"\n      tabIndex={tabIndex}\n    >\n      <TreeItemBox $level={tree.level} as=\"div\" data-ui=\"TreeItem__box\">\n        {content}\n      </TreeItemBox>\n\n      <TreeContext.Provider value={contextValue}>\n        {children && <TreeGroup expanded={expanded}>{children}</TreeGroup>}\n      </TreeContext.Provider>\n    </Root>\n  )\n}\n"],"names":["EMPTY_ARRAY","EMPTY_RECORD","_getElements","element","elementsArg","ret","el","Array","isArray","push","filter","Boolean","useClickOutside","listener","boundaryElement","useState","setElement","elements","setElements","elementsRef","useRef","useEffect","prevElements","current","nextElements","length","includes","undefined","handleWindowMouseDown","evt","target","Node","contains","window","addEventListener","removeEventListener","useElementRect","rect","setRect","ro","ResizeObserver","entries","contentRect","observe","disconnect","useGlobalKeyDown","onKeyDown","multiplyChannel","b","s","multiply","r","Math","round","clamp","g","num","max","min","screenChannel","screen","hexToRgb","hex","hexR","slice","hexG","hexB","parseInt","rgbToHex","toString","rgbToHsl","cmin","cmax","delta","h","l","abs","toFixed","hslToRgb","hsl","c","x","m","HEX_CHARS","HSL_RE","isHexChars","str","indexOf","isHex","parseHsl","res","exec","Error","parseFloat","parseColor","color","startsWith","rgba","a","rgb","createButtonTones","opts","base","dark","solid","muted","mode","button","primary","positive","caution","critical","createButtonModes","ghost","bleed","createCardStates","name","enabled","card","state","disabled","hovered","pressed","selected","black","white","colors","lightest","lighter","light","darker","darkest","transparent","spots","gray","red","orange","yellow","green","cyan","blue","purple","magenta","tones","bg","fg","border","focusRing","defaultOpts","shadow","outline","umbra","penumbra","ambient","skeleton","from","to","tone","bg2","accent","link","code","input","placeholder","selectable","spot","key","syntax","atrule","attrName","attrValue","attribute","builtin","cdata","className","comment","constant","deleted","doctype","entity","hexcode","id","important","inserted","keyword","number","operator","prolog","property","pseudoClass","pseudoElement","punctuation","regex","selector","string","symbol","tag","unit","url","variable","createInputModes","readOnly","invalid","createMutedTones","createSelectableTones","_createSelectableStates","createSolidTones","createSpot","createColorTheme","partialOpts","builders","_createColorScheme","_createColor","_multiply","_screen","hues","NEUTRAL_TONES","skeletonFrom","tints","mix","mix2","defaultTints","isNeutral","mainShade","secondaryShade","fonts","family","horizontalOffset","weights","regular","medium","semibold","bold","sizes","ascenderHeight","descenderHeight","fontSize","iconSize","lineHeight","letterSpacing","heading","label","text","studioTheme","avatar","distance","size","textWeight","container","offset","width","media","radius","shadows","space","checkbox","radio","markSize","height","padding","transitionDurationMs","transitionTimingFunction","DEFAULT_THEME_LAYER","dialog","zOffset","popover","tooltip","getGlobalScope","globalThis","self","global","globalScope","Symbol","createContext","ThemeContext","ThemeProvider","props","parentTheme","useContext","children","scheme","theme","themeProp","useMemo","rootColor","rootLayer","layer","restTheme","colorScheme","sanity","value","version","React","Provider","StyledThemeProvider","isRecord","useRootTheme","ThemeColorProvider","root","useTheme","useStyledTheme","MEDIA_MANAGER_CACHE","WeakMap","_getMediaQuery","index","_createMediaManager","mediaLen","mediaQuery","mq","matchMedia","getCurrentIndex","matches","subscribe","subscriber","disposeFns","handleChange","addListener","removeListener","disposeFn","_getMediaManager","manager","get","set","useMediaIndex","setIndex","usePrefersDark","setDark","useIsomorphicEffect","useLayoutEffect","useForwardedRef","ref","innerRef","useCustomValidity","customValidity","setCustomValidity","fillCSSObject","propKeys","reduce","obj","propKey","rem","pixelValue","responsive","values","callback","statements","map","statement","mediaIndex","getResponsiveProp","val","defaultVal","getResponsiveSpace","spaceIndexes","spaceIndex","responsiveFont","fontKey","$size","$weight","fontWeight","defaultSize","position","fontFamily","margin","content","display","resp","sizeIndex","negHeight","capHeight","iconOffset","customIconSize","floor","customIconOffset","transform","marginTop","marginBottom","join","responsiveCodeFontStyle","responsiveHeadingFont","responsiveLabelFont","responsiveTextAlignStyle","$align","textAlign","responsiveTextFont","useResponsiveProp","BORDER_VALUE","responsiveBorderStyle","borderTop","borderRight","borderBottom","borderLeft","$border","$borderTop","$borderRight","$borderBottom","$borderLeft","BASE_STYLE","listStyle","BOX_SIZING","BOX_HEIGHT","stretch","fill","boxStyle","responsiveBoxStyle","responsiveBoxSizingStyle","responsiveBoxHeightStyle","responsiveBoxOverflowStyle","responsiveBoxDisplayStyle","$display","$sizing","sizing","boxSizing","$height","$overflow","overflow","responsiveFlexStyle","responsiveFlexAlignStyle","responsiveFlexGapStyle","responsiveFlexWrapStyle","responsiveFlexJustifyStyle","responsiveFlexDirectionStyle","align","alignItems","$gap","gap","$wrap","wrap","flexWrap","$justify","justify","justifyContent","$direction","direction","flexDirection","minWidth","minHeight","flexItemStyle","responsiveFlexItemStyle","$flex","flex","focusRingBorderStyle","focusRingStyle","focusRingOutsetWidth","focusRingInsetWidth","bgColor","GRID_CSS","GRID_AUTO_COLUMS","auto","fr","GRID_AUTO_ROWS","responsiveGridStyle","responsiveGridAutoFlowStyle","responsiveGridAutoRowsStyle","responsiveGridAutoColsStyle","responsiveGridColumnsStyle","responsiveGridRowsStyle","responsiveGridGapStyle","responsiveGridGapXStyle","responsiveGridGapYStyle","$autoFlow","autoFlow","gridAutoFlow","$autoRows","autoRows","gridAutoRows","$autoCols","autoCols","gridAutoColumns","$columns","columns","gridTemplateColumns","$rows","rows","gridTemplateRows","gridGap","$gapX","gapX","columnGap","$gapY","gapY","rowGap","responsiveGridItemStyle","responsiveGridItemRowStyle","responsiveGridItemRowStartStyle","responsiveGridItemRowEndStyle","responsiveGridItemColumnStyle","responsiveGridItemColumnStartStyle","responsiveGridItemColumnEndStyle","GRID_ITEM_ROW","full","GRID_ITEM_COLUMN","$row","row","gridRow","$rowStart","rowStart","gridRowStart","$rowEnd","rowEnd","gridRowEnd","$column","column","gridColumn","$columnStart","columnStart","gridColumnStart","$columnEnd","columnEnd","gridColumnEnd","responsiveInputPaddingStyle","$iconLeft","$iconRight","spaceScale","$padding","$space","$fontSize","len","_padding","_space","_size","i","_","emSize","p","styles","paddingTop","paddingRight","paddingBottom","paddingLeft","responsiveInputPaddingIconRightStyle","ROOT_STYLE","css","textInputRootStyle","textInputBaseStyle","font","textInputFontSizeStyle","textInputRepresentationStyle","$hasPrefix","$hasSuffix","responsiveMarginStyle","$margin","$marginX","$marginY","$marginTop","$marginRight","$marginBottom","$marginLeft","responsivePaddingStyle","$paddingX","$paddingY","$paddingTop","$paddingRight","$paddingBottom","$paddingLeft","responsiveRadiusStyle","$radius","radiusIndex","borderRadius","toBoxShadow","shadowStyle","boxShadow","responsiveShadowStyle","$shadow","textBaseStyle","$accent","$muted","Root","styled","div","SpanWithTextOverflow","span","Text","forwardRef","childrenProp","textOverflow","weight","restProps","avatarStyle","avatarRootStyle","arrow","avatarArrowStyle","bgStroke","avatarBgStrokeStyle","stroke","avatarStrokeStyle","initials","avatarInitialsStyle","zIndex","opacity","transition","left","right","top","bottom","$color","backgroundColor","userSelect","appearance","responsiveAvatarSizeStyle","avatarSize","textTransform","strokeWidth","strokeSasharray","strokeLinecap","Arrow","BgStroke","ellipse","Stroke","Initials","Avatar","asProp","as","colorKey","src","title","onImageLoadError","arrowPositionProp","arrowPosition","animateArrowFrom","status","sizeProp","ReactIs","isValidElementType","_sizeRem","_radius","elementId","useId","setArrowPosition","imageFailed","setImageFailed","imageId","raf","requestAnimationFrame","cancelAnimationFrame","handleImageError","useCallback","viewBox","d","patternContentUnits","href","onError","cx","cy","rx","ry","vectorEffect","responsiveAvatarCounterSizeStyle","avatarCounterBaseStyle","AvatarCounter","count","childrenToElementArray","childrenArray","node","isElement","isFragment","BASE_STYLES","avatarStackStyle","responsiveAvatarStackSizeStyle","marginLeft","AvatarStack","maxLength","maxLengthProp","child","visibleCount","extraCount","visibleChildren","childIndex","String","cloneElement","Box","marginX","marginY","marginRight","paddingX","paddingY","labelBaseStyle","Label","badgeStyle","$mode","$tone","palette","cursor","Badge","Flex","forwardedAs","rotate","keyframes","Spinner","SpinnerIcon","_colorVarsStyle","checkered","buttonBaseStyles","buttonTheme","buttonColorStyles","LoadingBox","Button","icon","iconRight","loading","type","boxProps","isValidElement","createElement","cardStyle","cardBaseStyle","cardColorStyle","$checkered","$focusRing","Card","__unstable_checkered","__unstable_focusRing","toneProp","rootTheme","checkboxBaseStyles","inputElementStyles","Input","Checkbox","forwardedRef","checked","indeterminate","style","CheckmarkIcon","RemoveIcon","codeSyntaxHighlightingStyle","codeBaseStyle","pre","Code","languageProp","language","registered","Refractor","hasLanguage","inline","containerBaseStyle","responsiveContainerWidthStyle","$width","maxWidth","Container","Grid","headingBaseStyle","Heading","inlineBaseStyle","verticalAlign","inlineSpaceStyle","Inline","idx","kbdStyle","kbd","KBD","BoundaryElementContext","BoundaryElementProvider","DEFAULT_VALUE","useBoundaryElement","RO","ResizeObserverPolyfill","findMaxBreakpoints","bp","findMinBreakpoints","ElementQuery","innerWidth","setWidth","handleResizeEntries","setRef","ErrorBoundary","error","getDerivedStateFromError","componentDidCatch","info","onCatch","render","message","Component","LayerContext","useLayer","LayerProvider","zOffsetProp","parent","maxMediaIndex","setSize","registerChild","v","parentRegisterChild","isTopLayer","LayerChildren","Layer","elementKey","defaultContextValue","document","setAttribute","body","appendChild","PortalContext","usePortal","Portal","__unstable_name","portal","portalElement","ReactDOM","createPortal","useUnique","valueRef","isEqual","__BROWSER__","PortalProvider","elementsProp","__unstable_elements","SrOnly","_raf","fn","frameId","_raf2","innerDispose","outerDispose","_isEnterToClickElement","isHTMLAnchorElement","isHTMLButtonElement","isHTMLElement","nodeType","ELEMENT_NODE","nodeName","isHTMLInputElement","isHTMLSelectElement","isHTMLTextAreaElement","_hasFocus","activeElement","isFocusable","tabIndex","getAttribute","rel","attemptFocus","focus","focusFirstDescendant","childNodes","focusLastDescendant","_isScrollable","Element","getComputedStyle","overflowX","overflowY","ItemWrapper","VirtualList","getItemKey","items","onChange","renderItem","wrapperRef","scrollTop","setScrollTop","scrollHeight","setScrollHeight","itemHeight","setItemHeight","firstElement","firstChild","HTMLElement","offsetHeight","_scrollEl","parentNode","scrollEl","handleScroll","passive","unobserve","scrollY","handleResize","innerHeight","fromIndex","toIndex","ceil","item","_itemIndex","itemIndex","wrapperStyle","BorderPath","path","ShapePath","PopoverArrow","xmlns","getPopoverModifiers","allowedAutoPlacements","arrowElement","constrainSize","fallbackPlacements","margins","matchReferenceWidth","open","preventOverflow","skidding","tether","tetherOffset","detectOverflowOptions","altAxis","boundary","maxSizeModifier","options","phase","requires","modifiersData","maxSize","popper","maxHeight","rects","reference","y","effect","refElement","offsetWidth","usePopoverModifiers","$preventOverflow","PopoverCard","$constrainSize","Popover","boundaryElementContext","__unstable_margins","boundaryElementProp","placement","portalProp","referenceElementProp","referenceElement","setReferenceElement","popperElement","setPopperElement","setArrowElement","popperReferenceElement","modifiers","usePopper","attributes","forceUpdate","childRef","setRootRef","popoverStyle","radioBaseStyle","inputElementStyle","dist","Radio","rootStyle","inputBaseStyle","inputColorStyle","textSize","inputTextSizeStyle","inputStyle","iconBoxStyle","selectStyle","iconBox","select","IconBox","Select","SelectIcon","stackBaseStyle","responsiveStackSpaceStyle","Stack","switchBaseStyles","switchInputStyles","switchRepresentationStyles","switchTrackStyles","switchThumbStyles","$indeterminate","trackWidth","trackHeight","trackPadding","checkedOffset","indeterminateOffset","$checked","Representation","Track","Thumb","Switch","InputRoot","textarea","Presentation","TextArea","CLEAR_BUTTON_BOX_STYLE","Prefix","attrs","Suffix","LeftBox","RightCard","TextInput","clearButton","onClear","paddingProp","prefix","radiusProp","suffix","$hasClearButton","$hasIcon","$hasIconRight","handleClearMouseDown","event","preventDefault","stopPropagation","handleClearClick","prefixNode","presentationNode","clearButtonBoxPadding","clearButtonPadding","clearButtonProps","clearButtonNode","CloseIcon","onClick","onMouseDown","suffixNode","Border","Shape","TooltipArrow","Tooltip","isOpen","setIsOpen","handleBlur","handleFocus","handleMouseEnter","handleMouseLeave","handleWindowMouseMove","isHoveringReference","referenceProps","onBlur","onFocus","onMouseEnter","onMouseLeave","referenceNode","popperNode","ListBox","ResultsPopover","AnimatedSpinnerIcon","AutocompleteOption","onSelect","handleClick","setTimeout","handleKeyDown","currentTarget","role","autocompleteReducer","msg","activeValue","focused","query","listFocused","AUTOCOMPLETE_LISTBOX_IGNORE_KEYS","AUTOCOMPLETE_POPOVER_MARGINS","AUTOCOMPLETE_POPOVER_PLACEMENT","AUTOCOMPLETE_POPOVER_FALLBACK_PLACEMENTS","defaultRenderValue","option","defaultFilterOption","toLowerCase","InnerAutocomplete","filterOptionProp","filterOption","listBox","onQueryChange","openButton","optionsProp","relatedElements","renderOptionProp","renderOption","renderPopover","renderValue","valueProp","useReducer","dispatch","defaultRenderOption","rootElement","setRootElement","resultsPopoverElement","setResultsPopoverElement","inputElementRef","listBoxElementRef","focusedElementRef","valuePropRef","popoverMouseWithinRef","listBoxId","currentOption","find","o","filteredOptions","filteredOptionsLen","activeItemId","expanded","handleRootBlur","concat","focusInside","e","handleRootFocus","listBoxElement","focusedElement","nextListFocused","handleOptionSelect","handleRootKeyDown","activeOption","activeIndex","nextActiveOption","listEl","handleInputChange","nextQuery","handleInputFocus","handlePopoverMouseEnter","handlePopoverMouseLeave","handleClearButtonClick","handleClearButtonFocus","listElement","activeItemElement","openButtonBoxPadding","openButtonPadding","openButtonProps","handleOpenClick","openButtonNode","ChevronDownIcon","inputValue","autoCapitalize","autoComplete","autoCorrect","inputMode","spellCheck","handleListBoxKeyDown","active","results","hidden","inputElement","Autocomplete","ol","ExpandButton","Breadcrumbs","separator","setOpen","expandElement","setExpandElement","popoverElement","setPopoverElement","collapse","expand","rawItems","Children","toArray","beforeLength","afterLength","Fragment","dialogStyle","background","responsiveDialogPositionStyle","$position","DialogContext","useDialog","DialogContainer","DialogCardRoot","DialogLayout","DialogHeader","DialogContent","DialogFooter","DialogCard","autoFocus","__unstable_autoFocus","hideCloseButton","__unstable_hideCloseButton","contentRef","footer","header","onClickOutside","onClose","localContentRef","labelId","showCloseButton","showHeader","setContentRef","Dialog","cardRadius","cardShadow","preDivRef","postDivRef","cardRef","cardElement","DialogProvider","contextValue","Key","Hotkeys","keys","_isFocusable","_getFocusableElements","_getDOMPath","parentElement","unshift","EMPTY_PATH","_sortElements","_sort","_a","_b","aIndex","bIndex","sort","MenuContext","Menu","onEscape","onItemClick","onItemSelect","originElement","registerElement","shouldFocus","focusFirst","focusLast","setActiveIndex","activeIndexRef","activeElementRef","mounted","mount","selectedIndex","splice","focusableElements","currentIndex","focusableLen","focusedIndex","handleItemMouseEnter","handleItemMouseLeave","rafId","_activeIndex","MenuButton","__unstable_disableRestoreFocusOnClose","disableRestoreFocusOnClose","buttonProp","menuProp","menu","popoverScheme","popoverRadius","setShouldFocus","buttonElement","setButtonElement","menuElements","setChildMenuElements","openRef","handleButtonClick","handleButtonKeyDown","handleMenuClickOutside","handleMenuEscape","relatedTarget","handleItemClick","els","_el","menuProps","onBlurCapture","setButtonRef","popoverProps","MenuDivider","hr","selectableBaseStyle","selectableColorStyle","Selectable","useMenu","MOUSE_LEAVE_TIMEOUT","TextContainer","MenuGroup","mouseLeaveTimeoutRef","shouldFocusRef","clearTimeout","handleMenuKeyDown","handleMenuMouseEnter","handleMenuMouseLeave","ChevronRightIcon","MenuItem","hotkeys","selectedProp","paddingProps","keyframe","animation","skeletonStyle","$visible","$animated","Skeleton","animated","delay","visible","setVisible","timeout","$style","TextSkeleton","LabelSkeleton","HeadingSkeleton","CodeSkeleton","Tab","elementRef","focusedRef","_isReactElement","TabList","setFocusedIndex","tabs","handleTabFocus","numTabs","tabIdx","prevIndex","TabPanel","STATUS_CARD_TONE","warning","success","ROLES","TextBox","Toast","closable","description","cardTone","ToastContext","ToastContainer","toastId","ToastProvider","toasts","setState","toastsRef","params","duration","dismiss","timeoutId","prevState","findIndex","t","Object","AnimatePresence","initial","motion","animate","scale","exit","layout","damping","stiffness","useToast","_findPrevItemElement","itemElements","itemKey","segments","split","pop","j","k","_findNextItemElement","_focusItemElement","TreeContext","Tree","setFocusedElement","rootRef","setItemElements","registerItem","newState","setExpanded","itemState","level","nextEl","prevEl","itemPath","parentKey","parentState","focusedKey","_itemElements","querySelectorAll","treeItemRootStyle","treeItemRootColorStyle","treeItemBoxStyle","$level","useTree","tree","TreeGroup","li","TreeItemBox","ToggleArrowText","TreeItem","expandedProp","idProp","treeitemRef","closest","click","visibility","pointerEvents","ToggleArrowRightIcon"],"mappings":"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"}